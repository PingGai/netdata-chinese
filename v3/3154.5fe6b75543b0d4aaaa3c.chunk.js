try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6592a65b-d7f3-4b46-850e-bcca2d1de5be",e._sentryDebugIdIdentifier="sentry-dbid-6592a65b-d7f3-4b46-850e-bcca2d1de5be")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[3154],{36710:(e,t,n)=>{n.d(t,{Uc:()=>i,X3:()=>a,XF:()=>d,cH:()=>s});n(98992),n(81454);var o=n(91130),r=n(15505);const l=e=>e.map((e=>(0,r.bn)(e))),s=e=>o.A.get(`/api/v2/spaces/${e}/notifications/silencing/rules`,{transform:l}),a=(e,t)=>o.A.post(`/api/v2/spaces/${e}/notifications/silencing/rules/delete`,t),d=(e,t)=>o.A.post(`/api/v2/spaces/${e}/notifications/silencing/rule`,(0,r.Jz)(t)),i=(e,t)=>o.A.put(`/api/v2/spaces/${e}/notifications/silencing/rule/${t.id}`,(0,r.Jz)(t))},37437:(e,t,n)=>{n.d(t,{DK:()=>u,GB:()=>g,Iv:()=>m,Pu:()=>b,SB:()=>c,SX:()=>i,T6:()=>h,Ws:()=>v,Wu:()=>l,Yo:()=>d,_V:()=>s,hq:()=>f,jH:()=>a,q:()=>y,qt:()=>r,u7:()=>x,xc:()=>p});var o=n(92255);const r="silencingRules",l={system:{text:"All users",tooltip:"Rule affects all users"},personal:{text:"Myself",tooltip:"Limit the silencing effect to your account only"}},s="system",a={label:"All rooms",value:""},d={now:{text:"Silence for a specific duration",tooltip:"Rule starts immediately and lasts until the specified duration"},schedule:{text:"Schedule silence",tooltip:"Schedule the rule to start taking effect at some point at the future"}},i="now",c={untilTurnedOff:"Until turned off",oneHour:"1 hour",sixHours:"6 hours",twelveHours:"12 hours",oneDay:"1 day",custom:"Custom"},u={label:"Until turned off",value:"untilTurnedOff"},m={border:{side:"all",color:"inputBorder"},padding:[1,2],margin:[0,0,.5,0],round:!0,justifyContent:"start"},p={ErrInvalidName:"No rule name provided",ErrCodeInvalidStartsAt:"Invalid or no start date provided",ErrCodeInvalidSLastUntil:"Invalid or no end date provided",ErrCodeInvalidScheduleDuration:"Invalid duration selected",ErrCodeInvalidSeverity:"Invalid severity",ErrCodeInvalidIntegration:"Invalid integration",ErrCodeNotOwnRule:"Not permitted to create system rules",ErrInvalidRrule:"Invalid recurring rule",default:"Something went wrong"},f={value:"noRepeat",label:"Does not repeat"},h={day:o.p3.FREQUENCIES[o.p3.DAILY],week:o.p3.FREQUENCIES[o.p3.WEEKLY],month:o.p3.FREQUENCIES[o.p3.MONTHLY],year:o.p3.FREQUENCIES[o.p3.YEARLY]},y=[f,{value:h.day,label:"Daily"},{value:h.week,label:"Weekly"},{value:h.month,label:"Monthly"},{value:h.year,label:"Annualy"},{value:"custom",label:"Custom recurrence"}],v=[{value:h.day,label:"day(s)"},{value:h.week,label:"week(s)"},{value:h.month,label:"month(s)"},{value:h.year,label:"year(s)"}],b={never:"never",on:"on",after:"after"},g=b.never,x={never:{value:b.never,label:"Never"},on:{value:b.on,label:"On"},after:{value:b.after,label:"After"}}},37479:(e,t,n)=>{n.d(t,{S:()=>w,A:()=>k});n(96540);var o=n(15920),r=n(65258),l=n(61841),s=(n(98992),n(81454),n(33185)),a=n(86706),d=n(6084),i=n(88307),c=n(74848);const u=(0,s.default)(r.Flex).withConfig({displayName:"adminsList__RowFlex",componentId:"sc-1pb9ob2-0"})(["&:hover{background:",";}"],(0,r.getColor)("elementBackground")),m=(0,s.default)(r.Icon).withConfig({displayName:"adminsList__StyledIcon",componentId:"sc-1pb9ob2-1"})(["cursor:pointer;"]),p=e=>{let{...t}=e;const n=(0,a.i3)();return(0,c.jsx)(r.Flex,{column:!0,border:{side:"top",color:"borderSecondary"},flex:"grow",padding:[1,0],height:{max:50},overflow:"auto",...t,children:n.map((e=>(0,c.jsxs)(u,{flex:{grow:0,shrink:0},padding:[0,4],justifyContent:"between",height:10,alignItems:"center",children:[(0,c.jsxs)(r.Flex,{gap:2,alignItems:"center",children:[(0,c.jsx)(d.A,{src:e.avatarURL,title:e.name}),(0,c.jsx)(r.Text,{children:e.name}),(0,c.jsx)(r.Text,{color:"textLite",children:e.email})]},e.id),(0,c.jsx)(m,{onClick:(0,i.C)(e.email,{text:"Admin email address copied to your clipboard."}),size:"small",name:"copy",color:"primary"})]},e.id)))})},f=((0,s.default)(r.Icon).withConfig({displayName:"styled__StyledWarningIcon",componentId:"sc-q96c2w-0"})(["border-radius:50%;overflow:hidden;background:",";"],(0,r.getColor)(["neutral","white"])),(0,s.default)(r.Icon).withConfig({displayName:"styled__StyledCheckmarkIcon",componentId:"sc-q96c2w-1"})(["border-radius:50%;overflow:hidden;background:",";padding:6px;width:24px;height:24px;"],(0,r.getColor)("elementBackground")));(0,s.default)(r.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-q96c2w-2"})(["transform:",";"],(e=>{let{closed:t}=e;return t?"none":"rotate(180deg)"}));var h=n(92318),y=n(79748),v=n(41514);const{demoSlug:b}=h.A,g=(0,s.default)(r.Button).withConfig({displayName:"headerButtons__StyledButton",componentId:"sc-11mwk9m-0"})(["&&{padding:2px 16px;font-size:12px;height:auto;width:auto;min-width:96px;}"]),x=()=>{const e=(0,o.Zp)();return(0,c.jsxs)(r.Flex,{gap:4,alignItems:"center",children:[(0,c.jsx)(y.A,{href:"https://learn.netdata.cloud/docs/deployment-guides/deployment-strategies",rel:"noopener noreferrer",target:"_blank",children:"Possible Deployment Strategies"}),!window.envSettings.onprem&&(0,c.jsx)(g,{"data-ga":"no-nodes-view::click-demo::no-nodes-header",flavour:"default",onClick:t=>{e(`/spaces/${b}`),(0,v.H)("no-nodes-view","click-demo","no-nodes-header"),t.preventDefault()},label:"Live Demo"})]})};var I=n(25962);const w=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.Flex,{column:!0,"data-testid":"noNodesView-memberSection",gap:1,children:[(0,c.jsxs)(r.Flex,{alignItems:"center","data-testid":"noNodesView-memberHeader",gap:4,height:10,padding:[0,3],children:[(0,c.jsx)(f,{"data-testid":"noNodesView-memberHeaderIcon",name:"checkmark_s",color:"textLite"}),(0,c.jsxs)(r.Flex,{justifyContent:"between",flex:!0,children:[(0,c.jsx)(r.H3,{color:"textDescription","data-testid":"noNodesView-memberHeaderText",children:"You are a member and only space admins can connect new nodes"}),(0,c.jsx)(x,{})]})]}),(0,c.jsx)(r.Flex,{"data-testid":"noNodesView-memberDescription",padding:[0,0,2,13],children:(0,c.jsx)(r.Text,{color:"textDescription","data-testid":"noNodesView-memberDescriptionText",children:"Contact an admin from the space in order to do so"})})]}),(0,c.jsx)(r.Flex,{"data-testid":"noNodesView-memberAdminsListSection",padding:[0,0,0,12],children:(0,c.jsx)(p,{"data-testid":"noNodesView-memberAdminsList"})})]}),k=()=>{const[{nodesLoaded:e,claimedNodeIds:t}]=(0,I.A)(),[n,r]=(0,l.Ay)(),{integrationsView:s}=h.A;return e&&!t.length?(0,c.jsx)(o.C5,{to:`/spaces/${n}/rooms/${r}/${s}`,replace:!0}):null}},39423:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(96540),r=n(19075);const l=()=>{const[e,t]=(0,r.Lb)(),n=(0,r.ud)(),l=(0,o.useCallback)((o=>{o===e&&n(),t(o)}),[e,t]);return{selectedTab:e,setSelectedTab:t,handleTabChange:l}}},49910:(e,t,n)=>{n.d(t,{$:()=>l,A:()=>s});var o=n(52035),r=n(84929);const l={rules:[],error:"",id:null,loading:!0,loaded:!1,initialLoad:!1},s=(0,r.Iz)((e=>(0,o.eU)({...l,id:e})))},50271:(t,n,o)=>{o.d(n,{A3:()=>v,Cq:()=>y,TS:()=>h});var r=o(96540),l=o(52035),s=o(34843),a=o(84929),d=o(30569),i=o(19186),c=o(18936),u=o(84049),m=o(57377);const p=(0,a.Iz)((e=>{let{id:t,key:n}=e;return(0,l.eU)((e=>{const o=e((0,c.A)(t));return n?o[n]:o}),((e,o,r)=>{o((0,c.A)(t),(e=>n?{...e,[n]:r}:r))}))}),m.Ay),f=(e,t)=>(0,s.md)(p({id:e,key:t})),h=(t,n)=>{const o=(0,i.GJ)(),l=f(t,n),a=function(t){let{key:n,shouldPersist:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=(0,s.Xr)(p({id:t,key:n})),a=(0,u.DH)(t);return(0,d.yF)((0,r.useCallback)((async(r,s,d)=>{if(l(d),!o)return;const i=await r(p({id:t}));try{await a({settings:{...i,...n?{[n]:d}:d}})}catch(e){l(n?i[n]:i)}}),[t,n,a]))}(t,{key:n,shouldPersist:!o});return[l,a]},y=(e,t)=>{const n=f(e,"groupModeByTab")||{},o=f(e,"groupMode");return t in n?n[t]:o&&"servers"===t?o:"servers"===t?"nodeStatus":""},v=(e,t)=>{const[n,o]=h(e,"groupModeByTab"),l=f(e,"groupMode");return(0,r.useCallback)((e=>{o({...n,servers:n?.servers||l||"nodeStatus",[t]:e})}),[n,o,t,l])}},57714:(e,t,n)=>{n.d(t,{q:()=>y,z:()=>v});n(98992),n(54520),n(81454),n(8872),n(37550);var o=n(52035),r=n(34843),l=n(84929),s=n(24609),a=n(42790),d=n(92068),i=n(81391),c=n(37437),u=n(57377);const m=e=>(t,n)=>{const o=t[e];return!Array.isArray(n)||!n.length||(Array.isArray(o)?n.some((e=>o.includes(e))):n.includes(o))},p={ids:m("id"),roomIds:m("roomIds"),nodeIds:m("nodeIds"),hostLabels:(f="hostLabels",(e,t)=>{const n=e[f];if(!n)return!t.length;const o=Object.entries(n).map((e=>{let[t,n]=e;return`${t}: ${n}`}));return m(f)({...e,[f]:o},t)}),alertNames:m("alertNames"),alertRoles:m("alertRoles"),alertContexts:m("alertContexts")};var f;const h=(0,l.Iz)((e=>{let{extraKey:t,spaceId:n,omit:r=[],keepAll:l,allNodesRoomId:s}=e;return(0,o.eU)((e=>{const o=e((0,a.GA)({key:n,extraKey:t})),i=Object.keys(o).reduce(((e,t)=>(r.includes(t)||e.push([t,o[t]]),e)),[]),c=e((0,d.Pu)({id:n,allNodesRoomId:s})),{rules:u,...m}=c;if(!i.length)return c;const f=(e=>t=>!e.some((e=>{let[n,o]=e;return!!p[n]&&!p[n](t,o)})))(i);return l?c:{...m,rules:u.filter(f)}}))}),u.Ay),y=function(){let{extraKey:e,omit:t=[],keepAll:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=(0,s.vt)(),l=(0,i.n)("id");return(0,r.md)(h({extraKey:e,spaceId:o,omit:t,keepAll:n,allNodesRoomId:l}))},v=()=>{const e=(0,s.vt)();return(0,a.rI)("ids",{key:e,extraKey:c.qt,flavour:"arr"})}},71236:(e,t,n)=>{n.d(t,{A:()=>f});n(98992),n(81454);var o=n(96540),r=n(15920),l=n(65258),s=n(73613),a=n(61841),d=n(57714),i=n(74848);const c={SCHEDULED:{icon:"scheduled",tooltip:"scheduled to be silenced"},SILENCED:{icon:"alarm_off",tooltip:"silenced"}},u=(m=l.Pill,e=>{let{tooltip:t,...n}=e;return(0,i.jsx)(s.A,{align:"bottom",content:t,children:(0,i.jsx)(l.Box,{children:(0,i.jsx)(m,{...n})})})});var m;const p={alert:"-",node:null},f=e=>{let{silencing:t,flavour:n="alert"}=e;const[l]=(0,a.Ay)(),s=(0,r.Zp)(),{state:m,rules:f=[]}=t||{},h=f.map((e=>{let{id:t}=e;return t})),y=(0,d.z)(),v=(0,o.useMemo)((()=>c[m]?.icon),[m]),b=(0,o.useCallback)((()=>{y(h),s(`/spaces/${l}/settings/notifications#notificationsActiveTab=1`)}),[s,y,h]),g=(0,o.useMemo)((()=>({alert:{tooltip:`This alert is ${c[m]?.tooltip}`},node:{tooltip:`This node is ${c[m]?.tooltip}`},room:{tooltip:`This room is ${c[m]?.tooltip}`}})),[v]),x=(0,o.useMemo)((()=>({icon:v,...f.length?{onClick:b}:{},flavour:"neutral",children:m,...g[n]||{}})),[v,m]);return m&&"NONE"!==m?(0,i.jsx)(u,{...x}):p[n]}},92068:(e,t,n)=>{n.d(t,{FU:()=>I,Lz:()=>g,Pu:()=>f,Qu:()=>b,UJ:()=>y,_B:()=>x,_S:()=>w,ys:()=>h});n(98992),n(72577),n(81454);var o=n(96540),r=n(52035),l=n(34843),s=n(84929),a=n(24609),d=n(19186),i=n(36710),c=n(49910),u=n(83268),m=n(81391),p=n(57377);const f=(0,s.Iz)((e=>{let{id:t,key:n,allNodesRoomId:o}=e;return(0,r.eU)((e=>{const r=e((0,c.A)(t)),{rules:l,...s}=r,a=e((0,u.$6)({id:o,key:"nodes"})),d={...s,rules:l.map((e=>({...e,...e.nodeIds?{nodes:e.nodeIds.map((e=>{const t=a.find((t=>t.value==e));return{id:e,name:t?.label||"-",notAvailable:!t}}))}:{}})))};return n?d[n]:d}),((e,o,r)=>{const l=(e=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t?t.map((t=>{let{roomIds:n,nodeIds:o,...r}=t;const l=n?n.map((t=>{const{id:n,name:o}=e((0,d.LS)({id:t}));return{id:n,name:o}})):void 0;return{...r,...!!n&&{roomIds:n},...!!l&&{rooms:l},...!!o&&{nodeIds:o}}})):[]})(e);o((0,c.A)(t),(e=>{if(!n){const t="function"===typeof r?r(e):r;return t.rules&&(t.rules=l(t.rules)),{...e,...t}}let t="function"===typeof r?r(e[n]):r[n];return"rules"===n&&(t=l(t)),{...e,[n]:t}}))}))}),p.Ay),h=e=>{let{key:t}=e;const n=(0,a.vt)(),o=(0,m.n)("id");return(0,l.md)(f({id:n,key:t,allNodesRoomId:o}))},y=e=>{const t=(0,a.vt)();return(0,l.Xr)(f({id:t,key:e}))},v=(0,r.eU)(0),b=()=>(0,l.md)(v),g=()=>{const e=y(),t=(0,l.Xr)(v);return(0,o.useCallback)((()=>{e((e=>({...e,initialLoad:!1}))),t((e=>e+1))}),[e,t])},x=()=>{const e=(0,a.vt)();return(0,o.useCallback)((t=>(0,i.XF)(e,t)),[e])},I=()=>{const e=(0,a.vt)();return(0,o.useCallback)((t=>(0,i.Uc)(e,t)),[e])},w=()=>{const e=(0,a.vt)();return(0,o.useCallback)((t=>(0,i.X3)(e,t)),[e])}},93997:(e,t,n)=>{n.d(t,{sK:()=>I,Um:()=>x,Ad:()=>b,rq:()=>w});n(98992),n(8872);var o=n(96540),r=n(34843),l=n(62193),s=n.n(l),a=n(15920),d=n(53749),i=n(24013),c=n(19186),u=n(42790),m=n(49435),p=n(52035),f=n(84929),h=n(57377);const y=(0,f.Iz)((()=>(0,p.eU)({filteredChartsCount:null,chartsCount:null})),h.Ay),v=()=>{const e=(0,c.ID)(),t=(0,i.nl)();return(0,o.useMemo)((()=>({roomId:e,nodeId:t})),[t,e])},b=()=>{const e=v();return(0,r.md)(y(e))},g=()=>{const e=(0,c.ID)(),{nodeID:t}=(0,a.g)();return[e,t||"overview"]},x=()=>{const[e,t]=g();return(0,u.rW)("tocSearch",{key:e,extraKey:t,defaultValue:"",flavour:"val"})},I=()=>{const[e,t]=g();return(0,u.N9)("tocSearch",{key:e,extraKey:t,defaultValue:"",flavour:"val"})},w=function(e,t,n){let{shouldHide:l=()=>!1,force:a=!1,cacheKey:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c=(0,u.rW)("after"),p=(0,u.rW)("before"),f=(()=>{const e=x();return"string"!==typeof e?"":e.trim().toLowerCase()})(),h=(0,d.w1)(n),[b,g,I]=(0,o.useMemo)((()=>{let n=0,o=0;const r=Date.now()/1e3;return[e.reduce(((e,t)=>{if(!e[t])return e;const{firstEntry:s,lastEntry:d,live:i}=e[t],u=!a&&e[t].visible||(c<0?i||r+c<d:!(c>1e3*d||p<1e3*s)),h=!u||!e[t]||!!f&&!(0,m.yX)(e[t].context,f),y=!u||l(e[t]);return e[t]={...e[t],filteredOut:h,visible:u,hidden:y},h||!u||y||(n+=1),y||(o+=1),e}),{...t}),o,n]}),[f,e,c,p,a,i]),w=(()=>{const e=v();return(0,r.Xr)(y(e))})();return(0,o.useEffect)((()=>{s()(b)||(h(b),w({filteredChartsCount:I,chartsCount:g}))}),[b,g,I,n]),I}}}]);