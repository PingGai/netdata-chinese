try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="875b253e-0517-4d84-9560-71545042f827",e._sentryDebugIdIdentifier="sentry-dbid-875b253e-0517-4d84-9560-71545042f827")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[6472],{3203:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(96540),o=i(3319),a=i(74848);const s=e=>t=>{let{callback:i,feature:s,isStart:l,isSuccess:r,isFailure:d,eventReason:c,payload:u={},...p}=t;const{sendLog:m,isReady:g}=(0,o.A)(),h=(0,n.useCallback)((e=>{const t=p[i],n={feature:s,isStart:l,isSuccess:r,isFailure:d,eventReason:c,...u,...p["data-ga"]?{dataGa:p["data-ga"]}:{},...p.dataGa?{dataGa:p.dataGa}:{},...p["data-track"]?{dataTrack:p["data-track"]}:{},...p.label?{label:p.label}:{}};"function"===typeof t&&t(e),m(n,!0)}),[i,m,g,u,p]),f=(0,n.useMemo)((()=>({...p,[i]:h})),[p,i,h]);return(0,a.jsx)(e,{...f})};var l=i(81691);const r=e=>t=>{let{payload:i={},...n}=t;const o=s(e);return(0,a.jsx)(o,{...n,callback:"onClick",payload:{...i,action:l.o1.buttonClicked}})}},7101:(e,t,i)=>{i.d(t,{KD:()=>je,Nj:()=>ve,hp:()=>ye,hG:()=>ie,Ht:()=>fe,yW:()=>ge,nM:()=>he,$K:()=>Ae,SW:()=>le,Hj:()=>Ce,K_:()=>se,t8:()=>ae,wd:()=>oe,Jb:()=>Te,PJ:()=>ce,$h:()=>Ie,_O:()=>Ne,te:()=>Ee,QH:()=>de,sh:()=>re,T9:()=>Re,Gt:()=>Y,OU:()=>me,ZN:()=>pe,zc:()=>De,H2:()=>$e,SD:()=>ke,EZ:()=>we,DP:()=>ue,O_:()=>_e,xS:()=>be,y8:()=>xe,MQ:()=>Se,_F:()=>ne});i(98992),i(54520),i(3949),i(81454),i(25509),i(65223),i(60321),i(41927),i(11632),i(64377),i(66771),i(12516),i(68931),i(52514),i(35694),i(52774),i(49536),i(21926),i(94483),i(16215);var n=i(96540),o=i(52035),a=i(34843),s=i(57377),l=i(39175),r=i(15505),d=i(93598),c=i(21885),u=i(98289),p=i(87083),m=i(24609),g=i(28688),h=i(84929),f=i(30569),b=i(91130);const y={jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",definitions:{matchInstanceLabels:{type:"string",default:"*",title:"Only for instances with these labels"},matchHostLabels:{type:"string",default:"*",title:"Only for nodes with these host labels"},matchInstance:{type:"object",title:"Apply this rule to a single instance",description:"This is a single alert rule that will be applied to the specific instance on all nodes hosted on this Netdata.",properties:{on:{type:"string",default:"",title:"The instance this rule should be applied to.",description:"You can find the instance names on all charts at the instances drop down menu. Do not include the host name in this field."},host_labels:{$ref:"#/definitions/matchHostLabels"},instance_labels:{$ref:"#/definitions/matchInstanceLabels"}},required:["on","host_labels","instance_labels"]},matchTemplate:{type:"object",title:"Apply this rule to all instances of a context",description:"This rule defines a template, that will apply this alert to all instances (e.g. disks, network interfaces, nginx servers, etc) on all nodes hosted on this Netdata.",properties:{on:{type:"string",default:"",title:"The context of the instances this rule should be applied to.",description:"The context is the code-name of each chart on the dashboard, that appears at the chart title bar, between the chart title and its unit of measurement, like: system.cpu, disk.io, etc."},host_labels:{$ref:"#/definitions/matchHostLabels"},instance_labels:{$ref:"#/definitions/matchInstanceLabels"}},required:["on","host_labels","instance_labels"]},configSummary:{type:"string",title:"Short description of the alert",description:"This field is used in notification as a short description of the alert. Variables, like ${label:key}, are replaced with the value of instance label called 'key'."},configInfo:{type:"string",title:"Long description of the alert",description:"This field is used to provide enough information about the type and nature of the alert. Variables, like ${label:key}, are replaced with the value of instance label called 'key'."},configType:{type:"string",title:"Alert Type",description:"Use categories like: 'System', 'Containers', 'Web Servers', 'Message Brokers', etc."},configComponent:{type:"string",title:"Alert Component",description:"Component is a sub-type of Alert Type. Examples: 'CPU', 'Memory', 'Network', 'Disk', 'Hardware', 'nginx', 'redis', 'postgresql', etc."},configClassification:{type:"string",title:"Classification",description:"Use 'Workload', 'Utilization', 'Latency', 'Availability', 'Errors', etc."},configValue:{type:"object",title:"",description:"Each alert has a value. This section defines how this value is calculated.",properties:{database_lookup:{type:"object",title:"Database Query to Get Value",description:"The database query to be executed to calculate the value of the alert. When set, the query is executed before any other calculations. The result of the query will be available as $this in further calculations.",properties:{data_source:{type:"string",oneOf:[{const:"samples",title:"Samples",description:"Use the time-series values for each dimension"},{const:"percentages",title:"Percentages",description:"Use the percentage of each dimension vs the sum of all dimensions"},{const:"anomalies",title:"Anomalies",description:"Use the anomaly rate of each dimension"}],default:"samples",title:" ",description:""},time_group:{type:"string",oneOf:[{const:"average",title:"Average"},{const:"median",title:"Median"},{const:"min",title:"Minimum"},{const:"max",title:"Maximum"},{const:"sum",title:"Sum"},{const:"incremental_sum",title:"Incremental Sum"},{const:"stddev",title:"Standard Deviation"},{const:"cv",title:"Coefficient of Variation"},{const:"trimmed-mean",title:"Trimmed Mean"},{const:"trimmed-median",title:"Trimmed Median"},{const:"percentile",title:"Percentile"},{const:"ses",title:"Simple Exponential Smoothing"},{const:"des",title:"Double Exponential Smoothing"},{const:"countif",title:"Count If"}],default:"average",title:"Time Aggregation",description:""},after:{type:"integer",default:-600,title:"From",description:'From (seconds relative to "To")'},before:{type:"integer",default:0,title:"To",description:"To (seconds relative to now)"},dims_group:{type:"string",oneOf:[{const:"average",title:"Average",description:"The average of all dimensions"},{const:"min",title:"Minimum",description:"The minimum of all dimensions"},{const:"max",title:"Maximum",description:"The maximum of all dimensions"},{const:"sum",title:"Sum",description:"The sum of all dimensions"},{const:"min2max",title:"Min-to-Max",description:"The delta between the minimum of the maximum of the dimensions"}],default:"sum",title:"Aggregation",description:"on dimensions"},dimensions:{type:"string",title:"Dimensions",description:"Simple pattern",default:"*"},options:{type:"array",title:"Time-Series Query options",description:"Options affecting the way the value is calculated",uniqueItems:!0,items:{oneOf:[{const:"unaligned",title:"Do not shift the time-frame for visual presentation"},{const:"absolute",title:"Make all values positive before using them"},{const:"null2zero",title:"Treat gaps in the time-series as a zero value"},{const:"match_ids",title:"Match only dimension IDs, not Names"},{const:"match_names",title:"Match only dimension Names, not IDs"}]},default:["unaligned"]}},allOf:[{if:{properties:{time_group:{const:"trimmed-mean"}}},then:{properties:{time_group_value:{type:"number",default:1,title:"Trim %",description:""}},required:["time_group_value"]}},{if:{properties:{time_group:{enum:["trimmed-median"]}}},then:{properties:{time_group_value:{type:"number",default:1,title:"Trim %",description:""}},required:["time_group_value"]}},{if:{properties:{time_group:{enum:["percentile"]}}},then:{properties:{time_group_value:{type:"number",default:95,title:"Percentage",description:""}},required:["time_group_value"]}},{if:{properties:{time_group:{const:"countif"}}},then:{properties:{time_group_condition:{type:"string",oneOf:[{const:"!=",title:"!="},{const:"=",title:"=="},{const:">=",title:">="},{const:">",title:">"},{const:"<=",title:"<="},{const:"<",title:"<"}],default:"=",title:"Condition",description:""},time_group_value:{type:"number",default:1,title:"Value to match",description:""}},required:["time_group_condition","time_group_value"]}}]},calculation:{type:"string",title:"Calculation",description:"An expression to transform the value"},units:{type:"string",title:"Unit",description:"of measurement"},update_every:{type:"integer",default:10,minimum:1,title:"Frequency",description:"of evaluation"}}},configConditions:{type:"object",title:"",properties:{warning_condition:{type:"string",title:"Warning Expression",description:"The alert value is available as '$this'. If this expression evaluates to a non-zero value, the alert is considered to be in warning level."},critical_condition:{type:"string",title:"Critical Expression",description:"The alert value is available as '$this'. If this expression evaluates to a non-zero value, the alert is considered to be in critical level."}}},configAction:{type:"object",title:"",description:"The action the alert should take when it transitions states",properties:{execute:{type:"string",title:"Command to execute when the alert transitions states"},recipient:{type:"string",title:"Recipient(s)"},options:{type:"array",title:"Action Options",uniqueItems:!0,items:{oneOf:[{const:"no-clear-notification",title:"Do not perform any action when the alert is cleared"}]},default:[]},delay:{type:"object",title:"Delay the action (notification)",description:"Rules to postpone the action, to avoid multiple notifications on flapping alerts.",properties:{up:{type:"number",title:"Delay when raising"},down:{type:"number",title:"Delay when going Down"},multiplier:{type:"number",title:"Back-Off"},max:{type:"number",title:"Max"}}},repeat:{type:"object",title:"Auto-Repeat Action",description:"Repeat the action while the alert is raised.",properties:{enabled:{type:"boolean"},warning:{type:"integer",title:"Repeat on Warning",default:0},critical:{type:"integer",title:"Repeat on Critical",default:0}}}}},configInstance:{type:"object",title:"Alert Configuration",description:"The properties that control the value the alert will get, the conditions it will trigger, the back-off for notifications, the auto-repeating of notifications, etc.",properties:{match:{$ref:"#/definitions/matchInstance"},summary:{$ref:"#/definitions/configSummary"},info:{$ref:"#/definitions/configInfo"},type:{$ref:"#/definitions/configType"},component:{$ref:"#/definitions/configComponent"},classification:{$ref:"#/definitions/configClassification"},value:{$ref:"#/definitions/configValue"},conditions:{$ref:"#/definitions/configConditions"},action:{$ref:"#/definitions/configAction"}}},configTemplate:{type:"object",title:"Alert Configuration",description:"The properties that control the value the alert will get, the conditions it will trigger, the back-off for notifications, the auto-repeating of notifications, etc.",properties:{match:{$ref:"#/definitions/matchTemplate"},summary:{$ref:"#/definitions/configSummary"},info:{$ref:"#/definitions/configInfo"},type:{$ref:"#/definitions/configType"},component:{$ref:"#/definitions/configComponent"},classification:{$ref:"#/definitions/configClassification"},value:{$ref:"#/definitions/configValue"},conditions:{$ref:"#/definitions/configConditions"},action:{$ref:"#/definitions/configAction"}}}},type:"object",properties:{name:{type:"string"},format_version:{type:"integer",default:1},rules:{type:"array",items:{type:"object",properties:{enabled:{type:"boolean",default:!0,title:"Enabled",description:""},type:{type:"string",oneOf:[{const:"instance",title:"A specific Instance"},{const:"template",title:"Each of the Instances"}],default:"template",title:"Apply this rule to:",description:""}},required:["type","enabled"],allOf:[{if:{properties:{type:{const:"instance"}}},then:{properties:{config:{$ref:"#/definitions/configInstance"}}},else:{properties:{config:{$ref:"#/definitions/configTemplate"}}}}]}}}},uiSchema:{uiOptions:{fullPage:!0,scrollbarCompensation:!0,tabPadding:!0,responsiveGrid:!0},format_version:{"ui:widget":"hidden"},name:{"ui:widget":"hidden"},rules:{"ui:openEmptyItem":!0,items:{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6",enabled:{"ui:classNames":"dyncfg-grid-col-span-1-2","ui:widget":"checkbox"},type:{"ui:classNames":"dyncfg-grid-col-span-1-6","ui:title":"What do you want to monitor?","ui:help":"Choose whether to monitor a specific item (like 'disk sda1') or all items of the same type (like 'all network interfaces'). This alert will check all nodes connected to this Netdata.","ui:widget":"radio","ui:options":{flavour:"buttonGroup"}},config:{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","ui:flavour":"tabs","ui:options":{tabs:[{title:"Alert Context",fields:["match"],description:"Choose what metrics to watch"},{title:"Calculate Value",fields:["value"],description:"How to get the number for your alert"},{title:"Set Thresholds",fields:["conditions"],description:"When should the alert fire?"},{title:"Configure Actions",fields:["action"],description:"What happens when alert fires?"},{title:"Details",fields:["summary","info","type","component","classification"],description:"Describe your alert"}]},match:{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6",on:{"ui:classNames":"dyncfg-grid-col-span-1-6","ui:widget":"ContextWidget","ui:title":"Chart or Instance Name","ui:help":"Find this in the chart title bar on your dashboard. Examples: 'system.cpu', 'disk.sda1', 'net.eth0'","ui:placeholder":"e.g. system.cpu, disk.*, net.eth0","ui:validation":{error:{condition:"!value || value.trim() === ''",message:"Chart or instance name is required. Find this in your dashboard chart titles (e.g., 'system.cpu', 'disk.sda1')"},warning:{condition:"value && value.includes(' ')",message:"Chart names typically use dots or underscores, not spaces (e.g., 'system.cpu' not 'system cpu')"},info:{condition:"value && value.includes('*')",message:"Using wildcards will create alerts for all matching charts. Confirm this is intended."}}},host_labels:{"ui:help":"Filter by node characteristics. Use patterns like 'environment=production' or 'os=linux'. Use '*' to match all nodes. Find available labels in the dashboard's labels filter.","ui:classNames":"dyncfg-grid-col-span-1-3","ui:title":"Node Filter","ui:placeholder":"e.g. environment=production, *","ui:validation":{warning:{condition:"value && value !== '*' && !value.includes('=')",message:"Node labels should use key=value format (e.g., 'environment=production') or '*' for all nodes"}}},instance_labels:{"ui:classNames":"dyncfg-grid-col-span-4-3","ui:help":"Filter by instance characteristics. Use patterns like 'device=sda1' or 'mount_point=/home'. Use '*' to match all instances. Find available labels in the dashboard's labels filter.","ui:title":"Instance Filter","ui:placeholder":"e.g. device=sda*, mount_point=/*, *","ui:validation":{warning:{condition:"value && value !== '*' && !value.includes('=')",message:"Instance labels should use key=value format (e.g., 'device=sda*') or '*' for all instances"}}},"ui:groups":["on",{"Optional: Advanced Filters":["host_labels","instance_labels"],"ui:collapsible":!0,"ui:initiallyExpanded":!1,"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6"}]},summary:{"ui:classNames":"dyncfg-grid-col-span-1-6","ui:title":"Alert Summary","ui:help":"Brief description for notifications. Use ${label:hostname} for dynamic values.","ui:placeholder":"e.g. High CPU usage on ${label:hostname}","ui:validation":{error:{condition:"!value || value.trim() === ''",message:"Alert summary is required for notifications. Keep it short and descriptive."},warning:[{condition:"value && value.length > 100",message:"Summary is quite long. Keep under 100 characters for better readability in notifications."},{condition:"value && value.length < 10",message:"Very short summary may not provide enough context. Consider adding more detail."}],info:{condition:"value && value.includes('${label:')",message:"Good! Using ${label:key} variables will show dynamic values in notifications."}}},info:{"ui:classNames":"dyncfg-grid-col-span-1-6","ui:title":"Detailed Description","ui:help":"Longer explanation of what this alert means and why it matters.","ui:placeholder":"e.g. CPU usage has been consistently high, which may indicate...","ui:validation":{warning:{condition:"!value || value.trim() === ''",message:"Alert description helps team members understand the issue. Consider adding troubleshooting steps."},info:{condition:"value && value.includes('${label:')",message:"Great! Using ${label:key} variables will show dynamic values in notifications."}}},type:{"ui:classNames":"dyncfg-grid-col-span-1-2","ui:title":"Category","ui:help":"Group similar alerts together","ui:placeholder":"e.g. System, Containers, Web Servers","ui:widget":"select","ui:creatable":!0,"ui:options":{enumOptions:[{value:"System",label:"System"},{value:"Containers",label:"Containers"},{value:"Web Servers",label:"Web Servers"},{value:"Message Brokers",label:"Message Brokers"},{value:"Databases",label:"Databases"},{value:"Network",label:"Network"},{value:"Storage",label:"Storage"},{value:"Application",label:"Application"}]}},component:{"ui:classNames":"dyncfg-grid-col-span-3-2","ui:title":"Component","ui:help":"Specific component being monitored","ui:placeholder":"e.g. CPU, Memory, Disk, Network","ui:widget":"select","ui:creatable":!0,"ui:options":{enumOptions:[{value:"CPU",label:"CPU"},{value:"Memory",label:"Memory"},{value:"Disk",label:"Disk"},{value:"Network",label:"Network"},{value:"Hardware",label:"Hardware"},{value:"nginx",label:"nginx"},{value:"redis",label:"redis"},{value:"postgresql",label:"postgresql"},{value:"mysql",label:"mysql"},{value:"apache",label:"apache"},{value:"docker",label:"docker"},{value:"kubernetes",label:"kubernetes"}]}},classification:{"ui:classNames":"dyncfg-grid-col-span-5-2","ui:title":"Alert Type","ui:help":"What kind of issue this detects","ui:placeholder":"e.g. Utilization, Performance, Availability","ui:widget":"select","ui:creatable":!0,"ui:options":{enumOptions:[{value:"Workload",label:"Workload"},{value:"Utilization",label:"Utilization"},{value:"Latency",label:"Latency"},{value:"Availability",label:"Availability"},{value:"Errors",label:"Errors"},{value:"Performance",label:"Performance"},{value:"Capacity",label:"Capacity"},{value:"Security",label:"Security"}]}},value:{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6",database_lookup:{"ui:order":["data_source","time_group","time_group_condition","time_group_value","after","before","dims_group","dimensions","options"],"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","ui:collapsible":!0,"ui:initiallyExpanded":!0,"ui:title":"How to Calculate the Alert Value","ui:help":"Configure how to get the number that will trigger your alert",data_source:{"ui:widget":"radio","ui:options":{flavour:"buttonGroup"},"ui:classNames":"dyncfg-grid-col-span-1-6","ui:title":"Data Type","ui:help":"What kind of data to use for calculations"},time_group:{"ui:help":"How to combine multiple data points into a single value. 'Average' works for most cases.","ui:classNames":"dyncfg-grid-col-span-1-2","ui:title":"Calculation Method"},time_group_condition:{"ui:classNames":"dyncfg-grid-col-span-3-1"},time_group_value:{"ui:classNames":"dyncfg-grid-col-span-4-1"},after:{"ui:help":"How far back to look for data (in seconds). -600 = last 10 minutes, -3600 = last hour.","ui:classNames":"dyncfg-grid-col-span-1-3","ui:title":"Look Back Period","ui:placeholder":"e.g. -600 (10 min ago)"},before:{"ui:help":"End of time range (in seconds). 0 = now, -60 = 1 minute ago.","ui:classNames":"dyncfg-grid-col-span-4-3","ui:title":"End Time","ui:placeholder":"e.g. 0 (now)"},dims_group:{"ui:help":"If your chart has multiple lines (dimensions), how should they be combined? 'Sum' adds them together, 'Average' takes the mean.","ui:classNames":"dyncfg-grid-col-span-1-3","ui:title":"Combine Multiple Metrics"},dimensions:{"ui:help":"Which chart dimensions to include. Use '*' for all, or specific names like 'user,system'.","ui:classNames":"dyncfg-grid-col-span-4-3","ui:title":"Include Dimensions","ui:placeholder":"e.g. *, user, system"},options:{"ui:classNames":"dyncfg-grid-col-span-1-6"}},calculation:{"ui:widget":"alertExpressionWidget","ui:help":"Transform the calculated value using an expression. Use '$this' for the database value. Leave empty if no transformation needed.","ui:classNames":"dyncfg-grid-col-span-1-4","ui:placeholder":"e.g. $this * 100, $this / 1024","ui:title":"Transform Value (Optional)"},units:{"ui:help":"Unit of measurement for the alert value. If empty, uses the chart's original units.","ui:classNames":"dyncfg-grid-col-span-5-2","ui:title":"Units","ui:placeholder":"e.g. %, MB/s, requests/sec"},update_every:{"ui:help":"How often to check this alert (in seconds). Lower values = more responsive but use more CPU.","ui:classNames":"dyncfg-grid-col-span-1-2","ui:title":"Check Every (seconds)","ui:placeholder":"e.g. 10, 60, 300","ui:validation":{error:{condition:"value < 1",message:"Check interval must be at least 1 second to function properly"},warning:[{condition:"value < 5",message:"Very frequent checks (under 5 seconds) may impact system performance. Consider 10+ seconds for most alerts."},{condition:"value > 3600",message:"Checks over 1 hour may miss short-lived issues. Consider shorter intervals for critical alerts."}]}}},conditions:{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","ui:title":"When Should This Alert Fire?","ui:help":"Set the thresholds that trigger warnings and critical alerts",warning_condition:{"ui:widget":"alertExpressionWidget","ui:alertStatus":"warning","ui:classNames":"dyncfg-grid-col-span-1-6","ui:title":"Warning Threshold","ui:help":"Use '$this' for the calculated value. Example: '$this > 80' means warn when above 80","ui:placeholder":"e.g. $this > 80, $this < 20","ui:validation":{error:[{condition:"!value || value.trim() === ''",message:"Warning threshold is required. Try: $this > 80 for values above 80%"},{condition:"value && !value.includes('$this')",message:"Expression should reference $this (the calculated value). Example: $this > 80"}],warning:{condition:"value && !value.match(/[><=!]/)",message:"Expression should include a comparison operator (>, <, ==, !=). Example: $this > 80"}}},critical_condition:{"ui:widget":"alertExpressionWidget","ui:alertStatus":"critical","ui:classNames":"dyncfg-grid-col-span-1-6","ui:title":"Critical Threshold","ui:help":"Example: '$this > 95' means critical when above 95. Should be more severe than warning.","ui:placeholder":"e.g. $this > 95, $this < 10","ui:validation":{error:[{condition:"!value || value.trim() === ''",message:"Critical threshold is required. Try: $this > 95 for values above 95%"},{condition:"value && !value.includes('$this')",message:"Expression should reference $this (the calculated value). Example: $this > 95"}],warning:{condition:"value && !value.match(/[><=!]/)",message:"Expression should include a comparison operator (>, <, ==, !=). Example: $this > 95"}}}},action:{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","ui:title":"What Happens When Alert Fires?","ui:help":"Configure notifications and actions for this alert","ui:groups":["recipient",{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","Optional: Advanced Actions":["execute","options"],"ui:collapsible":!0,"ui:initiallyExpanded":!1},{"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","Optional: Notification Timing":["delay","repeat"],"ui:collapsible":!0,"ui:initiallyExpanded":!1}],execute:{"ui:classNames":"dyncfg-grid-col-span-1-6","ui:help":"Leave empty for default notifications. Advanced: specify custom command to run.","ui:title":"Custom Command (Optional)","ui:placeholder":"Leave empty for default notifications"},recipient:{"ui:classNames":"dyncfg-grid-col-span-1-6","ui:help":"Who should receive notifications. Use 'silent' to disable notifications. Separate multiple recipients with spaces.","ui:title":"Send Notifications To","ui:placeholder":"e.g. sysadmin, devops-team, silent"},options:{"ui:classNames":"dyncfg-grid-col-span-4-3","ui:help":"Additional options for alert actions.","ui:title":"Action Options"},delay:{"ui:collapsible":!0,"ui:initiallyExpanded":!1,"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","ui:title":"Advanced: Delay Settings","ui:help":"Prevent notification spam by adding delays (optional)",up:{"ui:classNames":"dyncfg-grid-col-span-1-3","ui:help":"Wait this many seconds before sending notification when alert starts firing.","ui:title":"Delay When Alert Fires","ui:placeholder":"e.g. 60, 300","ui:validation":{warning:{condition:"value > 3600",message:"Delaying alerts over 1 hour may miss critical issues. Consider shorter delays for urgent alerts."},info:{condition:"value > 0",message:"Delay helps avoid noise from brief spikes. Good for non-critical alerts."}}},down:{"ui:classNames":"dyncfg-grid-col-span-4-3","ui:help":"Wait this many seconds before sending notification when alert clears.","ui:title":"Delay When Alert Clears","ui:placeholder":"e.g. 30, 60","ui:validation":{warning:{condition:"value > 3600",message:"Delaying recovery notifications over 1 hour may confuse incident response teams."},info:{condition:"value > 0",message:"Delay prevents premature 'all clear' notifications during brief recoveries."}}},multiplier:{"ui:classNames":"dyncfg-grid-col-span-1-3","ui:help":"Increase delay by this factor each time alert changes state while delayed.","ui:title":"Delay Multiplier","ui:placeholder":"e.g. 2, 1.5"},max:{"ui:classNames":"dyncfg-grid-col-span-4-3","ui:help":"Maximum delay allowed (in seconds) before sending notification.","ui:title":"Maximum Delay","ui:placeholder":"e.g. 3600, 7200"}},repeat:{"ui:collapsible":!0,"ui:initiallyExpanded":!1,"ui:classNames":"dyncfg-grid dyncfg-grid-col-6 dyncfg-grid-col-span-1-6","ui:title":"Advanced: Repeat Notifications","ui:help":"Automatically resend notifications while alert is active (optional)",enabled:{"ui:classNames":"dyncfg-grid-col-span-1-6","ui:title":"Enable Repeating","ui:help":"Turn on automatic notification repeating"},warning:{"ui:classNames":"dyncfg-grid-col-span-1-3","ui:help":"How often to resend notifications while in warning state (in seconds). 0 = no repeat.","ui:title":"Repeat Warning Every","ui:placeholder":"e.g. 3600 (1 hour), 0","ui:validation":{warning:{condition:"value > 0 && value < 300",message:"Repeating every few minutes may spam notifications. Consider 15+ minutes for repeat alerts."},warning:{condition:"value > 86400",message:"Repeating only once per day may miss ongoing issues. Consider more frequent reminders."}}},critical:{"ui:classNames":"dyncfg-grid-col-span-4-3","ui:help":"How often to resend notifications while in critical state (in seconds). 0 = no repeat.","ui:title":"Repeat Critical Every","ui:placeholder":"e.g. 1800 (30 min), 0","ui:validation":{warning:{condition:"value > 0 && value < 300",message:"Repeating critical alerts every few minutes may spam notifications. Consider 10+ minutes."},warning:{condition:"value > 86400",message:"Critical alerts should repeat more frequently than once per day for proper incident response."}}}}},hash:{"ui:widget":"hidden"},source_type:{"ui:widget":"hidden"},source:{"ui:widget":"hidden"}}}}}},v={timeout:120},w=e=>({...e,attention:(0,r.bn)(e.attention)}),x=e=>e?.jsonSchema?.definitions?.configValue?.properties?.database_lookup?y:e?.jsonSchema?.definitions?.configValue?.properties?.database_lookup?.properties?.options?.items?.oneOf?{...e,jsonSchema:{...e.jsonSchema,definitions:{...e.jsonSchema.definitions,configValue:{...e.jsonSchema.definitions.configValue,properties:{...e.jsonSchema.definitions.configValue.properties,database_lookup:{...e.jsonSchema.definitions.configValue.properties.database_lookup,properties:{...e.jsonSchema.definitions.configValue.properties.database_lookup.properties,options:{...e.jsonSchema.definitions.configValue.properties.database_lookup.properties.options,items:{...e.jsonSchema.definitions.configValue.properties.database_lookup.properties.options.items,oneOf:e.jsonSchema.definitions.configValue.properties.database_lookup.properties.options.items.oneOf.map((e=>"abs"===e?.const?{...e,const:"absolute"}:e))}}}}}}}}}:e,C={tree:b.A.get,schema:b.A.get,get:b.A.get,enable:b.A.get,disable:b.A.get,restart:b.A.get,remove:b.A.get,add:b.A.post,update:b.A.post,test:b.A.post,userconfig:b.A.post,default:b.A.get},k=function(){let{node:e={},searchParams:t={},payload:i={},...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams(v);return Object.entries(e).forEach((e=>{let[i,n]=e;n&&t.append(i,n)})),`?${t.toString()}`}(t),{action:a}=t,s=C[a]||C.default,r={..."tree"===a?{transform:w,...n}:{...n},..."schema"===a?{transform:x,...n}:{...n},...l.Ay?{baseURL:window.envSettings.agentApiUrl,...n}:{...n}},d=s===b.A.get?[r]:[i,r];if(l.Ay){const{value:t,isParent:i}=e;return s(`${i?"":`/host/${t}`}/api/v1/config${o}`,...d)}return s(`/api/v2/nodes/${e?.value}/config${o}`,...d)},A=e=>{let{node:t,path:i,id:n}=e;return t?.value?k({node:t,searchParams:{action:"tree",path:i,id:n},allow401:!0}):Promise.resolve({data:{}})},_=e=>{let{id:t,node:i}=e;return k({node:i,searchParams:{action:"get",id:t}})},N=e=>{let{id:t,node:i}=e;return k({node:i,searchParams:{action:"enable",id:t}})},I=e=>{let{id:t,node:i}=e;return k({node:i,searchParams:{action:"disable",id:t}})},S=e=>{let{id:t,node:i}=e;return k({node:i,searchParams:{action:"restart",id:t}})},j=e=>{let{id:t,name:i,node:n,payload:o}=e;return k({node:n,searchParams:{action:"add",name:i,id:t},payload:o})},T=e=>{let{id:t,node:i,payload:n}=e;return k({node:i,searchParams:{action:"update",id:t},payload:n})},$=e=>{let{id:t,node:i}=e;return k({node:i,searchParams:{action:"remove",id:t}})},D=(0,o.eU)(null),E=(0,o.eU)(!1),R=(0,o.eU)(0),P=(0,h.Iz)((()=>(0,o.eU)(0)),s.Ay),U=(0,h.tx)([]),O=(0,h.Iz)((()=>(0,o.eU)(null)),s.Ay),W=(0,h.Iz)((()=>(0,o.eU)({loaded:!1,data:null,error:null})),s.Ay),F=(0,o.eU)({}),M={value:"",error:null},L=(0,o.eU)(M),B=(0,h.Iz)((()=>(0,o.eU)(!1)),s.Ay),z=(0,h.Iz)((()=>(0,o.eU)([])),s.Ay),q={term:""},V=(0,o.eU)(q),H={selectedTab:0,selectedSubTab:0},K=(0,o.eU)(H),G=(0,h.Iz)((()=>(0,h.tx)([])),s.Ay),J=(0,h.Iz)((e=>{let{node:t,path:i}=e;return(0,h.Rq)((0,o.eU)((async e=>(e(R),await A({node:t,path:i})))))}),s.Ay),Y=()=>{const e=(0,m.dg)(),t=(0,p.eO)({extraKey:"nodesView",merge:!1,scoped:!0,roomSlug:e?l.Iy:null}),{defaultRoomNodes:i,areDefaultRoomNodesLoaded:n}=(0,g.n)();return[e?t:i,!!e||n]},Z=(0,h.Iz)((e=>{let{id:t,node:i,key:n}=e;return(0,o.eU)((e=>{e(R);const o=e(W({id:t,node:i}));return n?o[n]:o}),((e,o,a)=>{if(!n)return o(W({id:t,node:i}),(e=>({...e,..."function"===typeof a?a(e):a})));o(W({id:t,node:i}),(e=>({...e,[n]:"function"===typeof a?a(e[n]):a})))}))}),s.Ay),Q=(0,h.Iz)((e=>{let{id:t,node:i}=e;return(0,h.Rq)((0,o.eU)((async e=>(e(R),await _({id:t,node:i})))))}),s.Ay),X=(0,h.Iz)((e=>{let{node:t,path:i}=e;return(0,o.eU)((e=>e(P({node:t,path:i}))),((e,n,o)=>{n(P({node:t,path:i}),o)}))}),s.Ay),ee=(0,h.Iz)((e=>{let{node:t,path:i}=e;return(0,o.eU)((e=>e(z({node:t,path:i}))),((e,n,o)=>{n(z({node:t,path:i}),o)}))}),s.Ay),te=(0,h.Iz)((e=>{let{nodeIds:t,id:i}=e;return(0,o.eU)((()=>{const e=(t||[]).map((e=>(e=>{let{node:t,id:i}=e;return t?.value&&i?new Promise(((e,n)=>{A({node:t,id:i}).then((i=>{let{data:o}=i;o.tree&&Object.keys(o.tree).length?e({nodeId:t.value}):n({error:"Alert not in node"})})).catch((e=>n({error:e.message||"Error"})))})):Promise.reject({error:t.value?"No alert id":"No node id"})})({node:{value:e},id:i})));return Promise.any(e).catch((e=>({error:e.message||"Error"})))}))}),s.Ay),ie=e=>{let{nodeIds:t,id:i}=e;return(0,a.md)(te({nodeIds:t,id:i}))},ne=e=>{let{node:t,path:i}=e;return(0,a.fp)(X({node:t,path:i}))},oe=function(){let{node:e,path:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=(0,a.md)(J({node:e,path:t})),n="hasError"===i.state;return{loaded:"loading"!==i.state,value:i.data?.data,hasError:n,error:n?i.error?.response?.data?.message||c.Fn:null}},ae=function(){let{id:e,node:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{loaded:i,data:n,hasError:o,error:s}=(0,a.md)(Z({id:e,node:t}));return{loaded:i,value:n,hasError:o,error:s,refresh:(0,f.AY)(W({id:e,node:t}))}},se=e=>{let{id:t,node:i}=e;return(0,f.yF)((0,n.useCallback)(((e,n)=>{(e=>{let{id:t,node:i}=e;return k({node:i,searchParams:{action:"schema",id:t}})})({id:t,node:i}).then((e=>{let{data:o}=e;return n(Z({id:t,node:i}),{loaded:!0,data:o,error:null})})).catch((e=>{const o=e?.response?.data?.error_message||e.message||"Something went wrong";n(Z({id:t,node:i}),{loaded:!0,data:null,error:o})}))}),[t,i]))},le=function(){let{id:e,node:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=(0,a.md)(Q({id:e,node:t})),n=Ce(),o="hasError"===i.state;return{loaded:"loading"!==i.state,value:i.data?.data,hasError:o,error:o?i.error?.response?.data?.message||c.Fn:null,refresh:n}},re=()=>(0,a.md)(D),de=()=>(0,a.fp)(D),ce=()=>{const[e,t]=(0,a.fp)(E),i=(0,p.u7)({extraKey:c.q4});return[e,(0,n.useCallback)((function(e){let{nodeId:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n&&i([n]),t((t=>"undefined"===typeof e?!t:!!e))}),[i,t])]},ue=e=>{let{id:t,node:i}=e;return(0,n.useCallback)((e=>(e?N:I)({id:t,node:i})),[t,i])},pe=e=>{let{id:t,node:i}=e;return(0,n.useCallback)((()=>S({id:t,node:i})),[t,i])},me=e=>{let{id:t,node:i}=e;return(0,n.useCallback)((()=>$({id:t,node:i})),[t,i])},ge=e=>{let{node:t}=e;return(0,n.useCallback)((e=>{let{ids:i}=e;if(!t)return;const n=i.map((e=>$({id:e,node:t})));return Promise.allSettled(n)}),[t])},he=e=>{let{node:t}=e;return(0,n.useCallback)((e=>{let{ids:i}=e;if(!t)return;const n=i.map((e=>S({id:e,node:t})));return Promise.allSettled(n)}),[t])},fe=e=>{let{disable:t,node:i}=e;return(0,n.useCallback)((e=>{let{ids:n}=e;if(!i)return;const o=t?I:N,a=n.map((e=>o({id:e,node:i})));return Promise.allSettled(a)}),[i])},be=e=>{let{id:t,node:i}=e;return(0,n.useCallback)((e=>T({id:t,node:i,payload:e})),[t,i])},ye=e=>{let{id:t,isNewItem:i}=e;return(0,n.useCallback)((function(){let{nodes:e=[],payload:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=i?n.name:(0,u.J3)(t),a=i?`${t}:${o}`:t,s=e.map((e=>_({id:a,node:e}).then((()=>i?Promise.reject({status:"rejected",message:`A job with name "${o}" already exists in this node.`}):T({id:a,node:e,payload:n}))).catch((()=>{const a=i?t:(0,u.UE)(t);return j({id:a,node:e,name:o,payload:n})}))));return Promise.allSettled(s)}),[t,i,j,T])},ve=e=>{let{id:t,node:i}=e;return(0,n.useCallback)((e=>{let{name:n,...o}=e;return j({id:t,name:n,node:i,payload:o})}),[t,i])},we=e=>{let{id:t,node:i}=e;return(0,n.useCallback)((e=>{let{name:n,payload:o}=e;return(e=>{let{id:t,name:i,node:n,payload:o}=e;return k({node:n,searchParams:{action:"test",name:i,id:t},payload:o})})({id:t,name:n,node:i,payload:o})}),[t,i])},xe=e=>{let{id:t,node:i}=e;const o=(0,n.useRef)(),{hasPermission:a}=(0,d.j)({edit:!0});return(0,n.useCallback)((function(){let{name:e="test",payload:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a?(o.current&&o.current.cancel(),o.current=(e=>{let{id:t,name:i,node:n,payload:o}=e;return k({node:n,searchParams:{action:"userconfig",name:i,id:t},payload:o,noResponseParsing:!0})})({id:t,name:e,node:i,payload:n}),o.current):Promise.resolve({data:""})}),[t,i,a])},Ce=()=>{const e=(0,a.Xr)(R),[,t]=de();return(0,n.useCallback)((()=>{e((e=>e+1)),t(null)}),[e,t])},ke=e=>{let{node:t,path:i,isNewItem:o}=e;const{loaded:a,value:s,hasError:l}=oe({node:t,path:i});return(0,n.useCallback)((e=>{if(!a||l)return null;const{tree:t}=s||{},i=(0,u.dG)(t);return o?i[e]:i[i[e]?.template]}),[a,l,s,o])},Ae=()=>{const[e,t]=(0,a.fp)(U),i=(0,n.useCallback)(((e,i)=>{t((t=>i||t.includes(e)?t.filter((t=>t!==e)):[...new Set([...t,e])]))}),[t]),o=(0,n.useCallback)((e=>i(e,!0)),[i]),s=(0,n.useCallback)((e=>i(e,!1)),[i]);return{ids:e,toggle:i,open:o,close:s,reset:(0,f.AY)(U)}},_e=e=>{let{id:t,node:i}=e;return(0,f.yF)((0,n.useCallback)(((e,n)=>{A({node:i,id:t}).then((e=>{let{data:t}=e;const{tree:o}=t||{};if(o){const e=Object.values(o)[0];e&&Object.entries(e).forEach((e=>{let[t,o]=e;n(O({node:i,id:t}),(0,r.bn)(o))}))}})).catch((()=>{}))}),[t,i]))},Ne=e=>{let{node:t,id:i}=e;return(0,a.md)(O({node:t,id:i}))},Ie=()=>{const[e,t]=(0,a.fp)(F),i=(0,n.useCallback)((()=>t({})),[t]);return{state:e,setState:t,refresh:i}},Se=()=>{const[{value:e,error:t},i]=(0,a.fp)(L),o=(0,n.useCallback)((e=>{i({...M,value:e})}),[i]),s=(0,n.useCallback)((e=>{i({...M,error:e})}),[i]);return{value:e,error:t,setValue:o,setError:s,refresh:(0,n.useCallback)((()=>i(M)),[i])}},je=(0,h.Iz)((e=>{let{spaceId:t,id:i,node:n}=e;return(0,o.eU)((e=>e(B({spaceId:t,id:i,node:n}))),((e,o,a)=>{o(B({spaceId:t,id:i,node:n}),a)}))}),s.Ay),Te=e=>{let{id:t,node:i}=e;const n=(0,m.vt)();return(0,a.fp)(je({spaceId:n,id:t,node:i}))},$e=e=>{let{node:t,path:i}=e;const[o,s]=(0,a.fp)(ee({node:t,path:i})),l=(0,n.useCallback)(((e,t)=>{s((i=>t||i.includes(e)?i.filter((t=>t!==e)):[...new Set([...i,e])]))}),[s]),r=(0,n.useCallback)((e=>l(e,!1)),[l]),d=(0,n.useCallback)((e=>l(e,!0)),[l]),c=(0,n.useCallback)((e=>o.includes(e)),[o]),u=(0,n.useCallback)((()=>s([])),[s]);return{items:o,setItems:s,toggle:l,add:r,remove:d,isSelected:c,reset:u}},De=()=>{const[e,t]=(0,a.fp)(V),i=(0,n.useCallback)((()=>{t(q)}),[t]);return[e,t,i]},Ee=()=>{const[{selectedTab:e,selectedSubTab:t},i]=(0,a.fp)(K),o=(0,n.useCallback)((e=>t=>i((i=>({...i,[e]:t})))),[i]);return{selectedTab:e,setSelectedTab:(0,n.useCallback)(o("selectedTab"),[o]),selectedSubTab:t,setSelectedSubTab:(0,n.useCallback)(o("selectedSubTab"),[o]),refresh:(0,n.useCallback)((()=>i(H)),[i])}},Re=()=>{const e=(0,m.vt)(),[t,i]=(0,a.fp)(G({spaceId:e}));return[t,i,(0,f.AY)(G({spaceId:e}))]}},14681:(e,t,i)=>{i.d(t,{A:()=>k});i(98992),i(54520),i(81454),i(25509),i(65223),i(60321),i(41927),i(11632),i(64377),i(66771),i(12516),i(68931),i(52514),i(35694),i(52774),i(49536),i(21926),i(94483),i(16215);var n=i(96540),o=i(33185),a=i(15920),s=i(65258),l=i(24609),r=i(85720),d=i(78804),c=i(54924),u=i(6304),p=i(51262),m=i(24013),g=i(87083),h=i(41708),f=i(7101),b=i(3203),y=i(71581),v=i(74848);const w=(0,o.default)(s.Flex).attrs({column:!0,round:1,background:"dropdown"}).withConfig({displayName:"nodeButton__Dropdown",componentId:"sc-1viran0-0"})(["box-shadow:0 4px 4px rgba(0,0,0,0.25);"]),x=(0,b.A)(r.A),C=(0,o.default)(s.Flex).attrs((e=>({as:s.Text,height:{min:8},padding:[1],cursor:"pointer",alignItems:"center",justifyContent:"center",round:!0,...e}))).withConfig({displayName:"nodeButton__Button",componentId:"sc-1viran0-1"})([""," pointer-events:",";&:hover{background:",";}"],(e=>{let{disabled:t}=e;return t&&"opacity: 0.6;"}),(e=>{let{disabled:t}=e;return t?"none":"auto"}),(0,s.getColor)("secondaryHighlight")),k=e=>{let{children:t,Component:i=C,tooltip:o="Go to node metrics.",truncate:r,textColor:b="text",nodeId:k,baseKey:A,extraKey:_,onActionDone:N,disabled:I,justIcon:S=!1,onClick:j,ref:T,...$}=e;const D=(0,n.useRef)(),[E,R,,P]=(0,u.A)(),U=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),R()}),[]),O=function(e){let{onDone:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,m.Zl)(e),{isNodeRestricted:o}=(0,p.A)(),{restricted:r}=o(e),d=(0,m.xY)(e),{isLive:c,capabilities:u}=d||{},g=u?.dyncfg?.enabled,[,h]=(0,f.PJ)(),b=(0,y.ZH)(d),w=(0,n.useCallback)((()=>{g&&(h(!0,{nodeId:e}),t())}),[e,g,h,t]),x=(0,a.Zp)(),C=(0,l.bq)(),k=(0,n.useCallback)((e=>{const t={nodeId:e};x(`/spaces/${C}/settings/notifications#notificationsActiveTab=1&silencingRulePrefill=${JSON.stringify(t)}`)}),[C]);return(0,n.useMemo)((()=>c?[{to:i,onClick:t,icon:"charts_view",label:(0,v.jsx)(s.Text,{children:"Node Metrics"}),testid:"go-to-node",disabled:r},!b&&{to:`${i}/logs`,onClick:t,icon:"logs",label:(0,v.jsx)(s.Text,{children:"Logs"}),testid:"go-to-functions-logs",disabled:r},{to:`${i}/anomalies`,onClick:t,icon:"anomaliesBrain",label:(0,v.jsx)(s.Text,{children:"Anomalies"}),testid:"go-to-anomalies-logs",disabled:r},{to:`${i}/alerts`,onClick:t,icon:"alarm",label:(0,v.jsx)(s.Text,{children:"Alerts"}),testid:"go-to-active-alerts-logs",disabled:r},!b&&{to:`${i}/top`,onClick:t,icon:"functions",label:(0,v.jsx)(s.Text,{children:"Top, Functions and more"}),testid:"go-to-functions-top",disabled:r},!b&&{onClick:w,icon:"gear",label:(0,v.jsx)(s.Text,{children:"Configuration"}),testid:"go-to-dynamic-configuration",disabled:r||!g},!b&&{onClick:k,icon:"alarm_off",label:(0,v.jsx)(s.Text,{children:"Silencing rules"}),testid:"go-to-silencing",disabled:r}].filter(Boolean):[]),[e,r,c,b])}(k,{onDone:e=>{P(),N?.(e)},baseKey:A,extraKey:_}),W=function(e){let{onDone:t,baseKey:i,extraKey:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isNodeRestricted:a}=(0,p.A)(),{restricted:l}=a(e),r=(0,m.xY)(e,"isLive"),[d,c]=(0,g.Oj)({merge:!1}),[u,h]=(0,g.Oj)({baseKey:i,extraKey:o,merge:!1}),f=d.includes(e),b=!!o&&u.includes(e);return(0,n.useMemo)((()=>[!f&&{onClick:i=>{c([e]),t(i)},icon:"spaces_v2",label:(0,v.jsxs)(s.Text,{children:["Select only this node ",(0,v.jsx)(s.Text,{strong:!0,children:"globally"})]}),testid:"global-select-node",disabled:l},f&&{onClick:i=>{c((t=>f?t.filter((t=>t!==e)):[...new Set([...t,e])])),t(i)},icon:"space",label:(0,v.jsxs)(s.TextSmall,{children:[(0,v.jsx)(s.Text,{strong:!0,children:f?"Remove":"Include"})," ",f?"from":"in"," global filters"]}),testid:"global-include-node",disabled:l}].filter(Boolean)),[e,f,b,l,r])}(k,{onDone:e=>{P(),N?.(e)},baseKey:A,extraKey:_}),{isNodeRestricted:F}=(0,p.A)(),{restricted:M,reason:L}=F(k),B=(0,m.xY)(k,"isOffline"),z=(0,m.xY)(k,"name"),q=(0,m.d3)(k);return(0,v.jsxs)(v.Fragment,{children:["string"===typeof t||S?(0,v.jsxs)(s.Flex,{gap:1,alignItems:"center",ref:T,children:[!S&&(0,v.jsx)(c.default,{Component:i,text:t,color:b,truncate:r,tooltip:o,noTooltip:!o,cursor:"pointer",onClick:M||B?void 0:()=>j?j():q(),disabled:I,...$}),(0,v.jsx)(C,{disabled:I,onClick:U,ref:D,children:(0,v.jsx)(s.Icon,{name:"triangle_down",width:"10px",color:"textLite",rotate:E?2:null})})]}):n.Children.map(t,(e=>(0,n.cloneElement)(e,{ref:D,onClick:U,textColor:b,truncate:r,tooltip:o,...$}))),D.current&&E&&(0,v.jsx)(s.Drop,{target:D.current,width:"260px",stretch:!1,zIndex:1e3,onClickOutside:P,dataToolbox:"nodeButton",children:(0,v.jsx)(w,{padding:[0,0,2],height:{max:"80vh"},onClick:e=>{e.preventDefault(),e.stopPropagation()},"data-drop":"nodeButton",children:M?(0,v.jsx)(h.u,{name:z,reason:L,padding:[2]}):(0,v.jsxs)(s.Flex,{column:!0,children:[O.map(((e,t)=>{let{label:i,...n}=e;return(0,v.jsx)(x,{payload:{description:`Node menu - Click navigation ${k}`},Wrapper:s.Flex,width:"100%",...n,children:i},t)})),!!O.length&&!!W.length&&(0,v.jsx)(d.c,{}),W.map(((e,t)=>{let{label:i,...n}=e;return(0,v.jsx)(x,{payload:{description:`Node menu - Click filter ${k}`},Wrapper:s.Flex,width:"100%",...n,children:(0,v.jsx)("div",{children:i})},t)}))]})})})]})}},21885:(e,t,i)=>{i.d(t,{$7:()=>o,CP:()=>b,D9:()=>p,DR:()=>s,FL:()=>n,Fn:()=>m,Sd:()=>a,T_:()=>g,V6:()=>c,V8:()=>h,bM:()=>d,bP:()=>u,g7:()=>r,q4:()=>l,rd:()=>y,zy:()=>f});const n=51,o="/health/alerts/prototypes",a="health:alert:prototype",s=`${a}:`,l="dyncfg",r={template:{color:"success"},default:{color:"text"}},d={accepted:{label:"Accepted",color:"success",icon:"checkmark_s"},disabled:{label:"Disabled",color:["neutral","grey100"],icon:"none_selected"},failed:{label:"Failed",color:["red","red100"],icon:"warning_triangle"},orphan:{label:"Orphan",color:["neutral","grey90"],icon:"checkmark_partial_s"},incomplete:{label:"Incomplete",color:["yellow","yellow100"],icon:"incindent_manager"},running:{label:"Running",color:"success",icon:"checkmark_s"}},c={internal:{icon:"internalConfig"},stock:{icon:"stockConfig"},user:{icon:"userConfig"},discovered:{icon:"discoveredConfig"},dyncfg:{icon:"dynamicConfig"}},u={loaded:!0,value:{},hasError:!1},p="__unsaved__",m="Something went wrong",g={accepted:{label:"Accepted",color:"border",searchCondition:{status:"accepted"}},disabled:{label:"Disabled",color:"border",searchCondition:{status:"disabled"}},failed:{label:"Failed",color:"border",searchCondition:{status:"failed"}},orphan:{label:"Orphan",color:"border",searchCondition:{status:"orphan"}},incomplete:{label:"Incomplete",color:"border",searchCondition:{status:"incomplete"}},running:{label:"Running",color:"border",searchCondition:{status:"running"}}},h={internal:{label:"Internal",color:"border",searchCondition:{source_type:"internal"}},stock:{label:"Stock",color:"border",searchCondition:{source_type:"stock"}},user:{label:"User",color:"border",searchCondition:{source_type:"user"}},discovered:{label:"Discovered",color:"border",searchCondition:{source_type:"discovered"}},dyncfg:{label:"Dynamic configuration",color:"border",searchCondition:{source_type:"dyncfg"}}},f=["restartRequired","pluginRejected","failed","incomplete"],b="__dyncfg_tree_path__",y={ErrForbidden:"ErrForbidden",ErrNoConfigurableNodes:"ErrNoConfigurableNodes",ErrNoDyncfgComponent:"ErrNoDyncfgComponent",ErrHealthDisabled:"ErrHealthDisabled",ErrDyncfgNotAvailable:"ErrDyncfgNotAvailable",ErrAlertNotAvailable:"ErrAlertNotAvailable"}},23226:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(67012),o=i(6304),a=i(19371);const s=()=>{const[e,t]=(0,o.A)(!1),i=(0,a.eg)();return(0,n.A)((()=>{if(i&&i.getRoot())return i.getRoot().updateAttribute("paused",!i.getRoot().getAttribute("autofetchOnWindowBlur")&&i.getRoot().getAttribute("blurred")||e),()=>i.getRoot().updateAttribute("paused",!i.getRoot().getAttribute("autofetchOnWindowBlur")&&i.getRoot().getAttribute("blurred"))}),[e]),[e,t]}},28688:(e,t,i)=>{i.d(t,{A:()=>c,n:()=>d});var n=i(19186),o=i(83268),a=i(98545),s=i(24609),l=i(24013),r=i(6304);const d=()=>{const{id:e=""}=(0,n.pr)(),t=(0,o.gr)(e,"ids"),i=(0,o.gr)(e,"loaded");return{defaultRoomId:e,defaultRoomNodes:(0,l.Gt)(t),defaultRoomNodesIds:t,areDefaultRoomNodesLoaded:i}},c=function(){let{polling:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{defaultRoomId:t,defaultRoomNodes:i,defaultRoomNodesIds:n,areDefaultRoomNodesLoaded:o}=d(),l=(0,s.vt)(),[c,,,u]=(0,r.A)();return(0,a.A)({id:t,spaceId:l,polling:e}),{areDefaultRoomNodesLoaded:o,nodes:i,nodeIds:n,isClaimNodeModalOpen:c,closeClaimNodeModal:u}}},30005:(e,t,i)=>{i.d(t,{Ay:()=>u,R0:()=>c});i(96540);var n=i(33185),o=i(65258),a=i(88307),s=i(74848);const l=(0,n.default)(o.Box).attrs((e=>({color:"textDescription",background:"modalTabsBackground",border:{side:"all",color:"borderSecondary"},padding:[4,10,4,4],position:"relative",width:"100%",...e}))).withConfig({displayName:"command__StyledTerminalCommand",componentId:"sc-wnwmk3-0"})(["color:",";border-radius:2px;overflow-wrap:anywhere;white-space:pre-wrap;font-family:monospace;letter-spacing:0.09px;line-height:18px;font-size:14px;word-break:break-word;"],(0,o.getColor)("textDescription")),r=(0,n.default)(o.Icon).withConfig({displayName:"command__StyledIcon",componentId:"sc-wnwmk3-1"})(["display:flex;align-self:flex-end;cursor:pointer;"]),d=(0,n.default)(o.Box).attrs({color:"textDescription",border:{side:"all",color:"borderSecondary"},background:"modalTabsBackground",padding:[0,1]}).withConfig({displayName:"command__CodeText",componentId:"sc-wnwmk3-2"})(["display:inline-block;color:",";border-radius:2px;font-family:monospace;letter-spacing:0.09px;line-height:16px;font-size:12px;font-weight:bold;word-break:break-word;"],(0,o.getColor)("textDescription")),c=e=>{let{children:t,...i}=e;return(0,s.jsx)(d,{...i,children:t})},u=e=>{let{children:t,confirmationText:i="Copied to your clipboard.",commandText:n=t,iconContainerProps:d={},...c}=e;return(0,s.jsxs)(l,{...c,children:[t,(0,s.jsx)(o.Box,{position:"absolute",bottom:"8px",right:"8px",onClick:(0,a.C)(n||t,{text:i}),...d,children:(0,s.jsx)(r,{name:"copy",size:"small",color:"primary"})})]})}},38773:(e,t,i)=>{i.d(t,{A:()=>l});i(96540);var n=i(15920),o=i(79748),a=i(24609),s=i(74848);const l=e=>{let{children:t,...i}=e;const l=`/spaces/${(0,a.bq)()}/settings/nodes`;return(0,s.jsx)(o.A,{as:n.N_,to:l,...i,children:t})}},41708:(e,t,i)=>{i.d(t,{A:()=>b,u:()=>f});i(96540);var n=i(15920),o=i(33185),a=i(65258),s=i(24609),l=i(24013),r=i(49181),d=i(51262),c=i(59400),u=i(73613),p=i(14681),m=i(74848);const g=(0,o.default)(n.N_).withConfig({displayName:"nodeName__StyledLink",componentId:"sc-1pgjinl-0"})(["text-decoration:none !important;&:hover{text-decoration:none !important;}"]),h=e=>{let{id:t,name:i,state:n,...o}=e;const a=(0,r.GM)(n);return(0,m.jsx)(p.A,{nodeId:t,extraKey:"nodes",Component:c.cK,"data-testid":"node-name-text",nodeStatus:a,...o,children:i})},f=e=>{let{name:t,reason:i,...n}=e;const o=(e=>{const t=(0,s.dg)();return"ErrNodeIsNotPreferred"===e?t?"Local dashboard is limited to 5 nodes.":"Your plan is limited to 5 nodes. Upgrade your plan for no limitations.":"ErrWindowsAgentIsNotSupported"===e?"Windows agent is not supported.":e})(i);return(0,m.jsxs)(a.Flex,{width:"300px",column:!0,gap:1,...n,children:[(0,m.jsx)(a.Text,{strong:!0,children:"Locked!"}),(0,m.jsxs)(a.Text,{children:["The node ",(0,m.jsx)(a.Text,{strong:!0,children:t})," is locked."]}),o?(0,m.jsx)(a.Text,{children:o}):null]})},b=(y=e=>{let{id:t,state:i,isLive:n,name:o,isEligible:a,...s}=e;const r=(0,l.Zl)(t);return("stale"===i||n)&&a?(0,m.jsx)(g,{"data-testid":"node-name-link",to:r,children:(0,m.jsx)(h,{id:t,state:i,name:o,...s})}):(0,m.jsx)(h,{id:t,state:i,name:o,...s})},e=>{const{isNodeRestricted:t}=(0,d.A)(),{restricted:i,reason:n}=t(e.id);return i?(0,m.jsx)(u.A,{plain:!0,content:(0,m.jsx)(f,{name:e.name,reason:n}),isBasic:!0,children:(0,m.jsxs)(a.Flex,{alignItems:"center",gap:1,children:[(0,m.jsx)(a.Icon,{name:"padlock",width:"18px",height:"18px",color:"placeholder"}),(0,m.jsx)(y,{...e,isEligible:!i})]})}):(0,m.jsx)(y,{...e,isEligible:!i})});var y},59400:(e,t,i)=>{i.d(t,{AS:()=>l,K:()=>d,SS:()=>c,cK:()=>u,d0:()=>r});var n=i(33185),o=i(65258),a=i(71341);const s=(0,n.default)(o.Button).attrs({flavour:"hollow",neutral:!0,tiny:!0}).withConfig({displayName:"styled__ActionButton",componentId:"sc-31e37b-0"})(["&&&{border-color:",";&:hover{background-color:",";}.button-icon{"," fill:",";}}"],(0,o.getColor)("nodeBadgeBorder"),(0,o.getColor)("nodeBadgeBackground"),(e=>{let{iconSize:t}=e;return t&&`\n      height: ${t};\n      width: ${t};\n      `}),(0,o.getColor)("textDescription")),l=(0,n.default)(s).attrs({icon:"trashcan",iconSize:"15px"}).withConfig({displayName:"styled__ObsoleteButton",componentId:"sc-31e37b-1"})([""]),r=(0,n.default)(s).attrs({icon:"removeNode"}).withConfig({displayName:"styled__RemoveButton",componentId:"sc-31e37b-2"})([""]),d=(0,n.default)(o.Box).attrs({background:"placeholder",height:4,width:.25}).withConfig({displayName:"styled__InfoSeparator",componentId:"sc-31e37b-3"})([""]),c=(0,n.default)(o.Flex).withConfig({displayName:"styled__NodeActions",componentId:"sc-31e37b-4"})(["display:none;"]),u=(0,n.default)(o.Text).attrs((e=>{let{nodeStatus:t}=e;return{cursor:"Live"===t?"pointer":"auto",color:(i=t,"Live"===i?a.P.live.statusTextColor:"Stale"===i?a.P.stale.statusTextColor:a.P.offline.statusTextColor)};var i})).withConfig({displayName:"styled__NodeName",componentId:"sc-31e37b-5"})(["&:hover{text-decoration:none !important;}"])},64973:(e,t,i)=>{i.d(t,{Ay:()=>h,OS:()=>m,Q8:()=>g});i(98992),i(72577);var n=i(96540),o=i(52035),a=i(34843),s=i(84929),l=i(19186),r=i(47090),d=i(57377),c=i(16015);const u=(0,s.Iz)((()=>(0,o.eU)({loaded:!1,loading:!1,userStatus:"notLoggedIn",userNodeStatus:"noAccess",nodeId:null,spaceId:null,roomIds:[],error:""})),d.Ay),p=(0,s.Iz)((()=>(0,o.eU)(1))),m=()=>{const e=window.localNetdataRegistry.mg,t=(0,a.Xr)(p(e));return(0,n.useCallback)((()=>t((e=>e+1))),[e])},g=e=>{const t=e||window.localNetdataRegistry.mg;return(0,a.fp)(u({mg:t}))},h=()=>{const e=(0,l.GJ)(),t=window.localNetdataRegistry.mg,[i,o]=(0,a.fp)(p(t)),[s,d]=g(t),{loading:u}=s;return(0,n.useEffect)((()=>{!u&&t&&e&&(d((e=>({loading:!0,nodeId:null,spaceId:null,roomIds:[],...e}))),(0,c.az)(t,window.localNetdataRegistry.nd).then((e=>{let{data:t}=e;if(Array.isArray(t.rooms)){const e=t.rooms.find((e=>e.untouchable));window.localNetdataRegistry.spaceId=t.spaceId,window.localNetdataRegistry.roomId=e?e.id:t.roomIds[0]}window.localNetdataRegistry.limitations=t.limitations?{limit:t.limitations.limit||99999999,customDashboardsLimit:t.limitations.customDashboardsLimit||99999999,windowsSupport:t.limitations.windowsSupport||!1}:{limit:window.localNetdataRegistry.nd?99999999:5,customDashboardsLimit:window.localNetdataRegistry.nd?99999999:1,windowsSupport:!!window.localNetdataRegistry.nd},d((e=>({...e,loading:!1,loaded:!0,...t,error:""})))})).catch((e=>{const t=e?.response?.data;d({loading:!1,loaded:!0,error:(0,r.o)(t?.errorMsgKey)||t?.errorMessage||"Something went wrong",userStatus:"notLoggedIn",userNodeStatus:"noAccess",nodeId:null,spaceId:null,roomIds:[]})})))}),[t,i,e,u]),{...s,checkAgain:o}}},67200:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(96540),o=i(65258),a=i(73613),s=i(74848);const l=e=>t=>{let{tooltip:i,onClick:l,...r}=t;const d=(0,n.useRef)(),c=(0,n.useCallback)((e=>{l?.(e),d.current?.blur?.()}),[l,d.current]),u=(0,n.useMemo)((()=>({...r,...l?{onClick:c}:{}})),[c,r]);return(0,s.jsx)(a.A,{align:"bottom",content:i,children:(0,s.jsx)(o.Box,{children:(0,s.jsx)(e,{ref:d,...u})})})}},71341:(e,t,i)=>{i.d(t,{P:()=>n});const n={live:{statusTextColor:"live",indicatorWrapperColor:"live",counterColor:"bright"},stale:{statusTextColor:"stale",indicatorWrapperColor:"stale",counterColor:"bright"},offline:{statusTextColor:"textLite",indicatorWrapperColor:"offline",counterColor:"bright"},unseen:{statusTextColor:"unseen",indicatorWrapperColor:"unseen",counterColor:"bright"}}},71581:(e,t,i)=>{i.d(t,{K3:()=>l,ZH:()=>o,e$:()=>r,yT:()=>s});i(98992),i(37550);var n=i(96540);const o=e=>{const t=e.labels||{};return"snmp"===t._vnode_type||!!(t.sysDescr||t.sysContact||t.sysLocation)},a=[{id:"servers",label:"Servers",isDefault:!0,isVisible:()=>!0,hideFn:e=>o(e)},{id:"snmp",label:"Network Devices",isVisible:e=>e.some(o),hideFn:e=>!o(e)}],s=e=>(0,n.useMemo)((()=>a.filter((t=>t.isVisible(e)))),[e]),l=e=>a.find((t=>t.id===e)),r=e=>(0,n.useMemo)((()=>{const t=a.find((t=>t.id===e));return t?.hideFn||(()=>!1)}),[e])},74891:(e,t,i)=>{i.d(t,{A:()=>s});i(96540);var n=i(65258),o=i(73613),a=i(74848);const s=e=>function(){let{tooltipProps:t={},noWrapper:i,WrapperComponent:s=n.Box,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.tooltip||Object.keys(t).length?(0,a.jsx)(o.A,{plain:!0,content:l.tooltip,...t,children:i?(0,a.jsx)(e,{...l}):(0,a.jsx)(s,{"data-testid":"tooltip-box",children:(0,a.jsx)(e,{...l})})}):(0,a.jsx)(e,{...l})}},76375:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(18739);const o={Business:!0,Pro:!0,Homelab:!0,Community:!1},a=()=>{const{loaded:e,value:t}=(0,n.JN)();return{loaded:e,isPaid:e&&o[t?.class]}}},78152:(e,t,i)=>{i.d(t,{Dm:()=>f,GW:()=>y,Mh:()=>h,Qi:()=>v,UY:()=>w,f9:()=>x,gf:()=>b});const n="mobileAppNotifications",o="alertConfiguration",a="editAlertConfiguration",s="hasFacetSelection",l="hasCello",r="nodeButton",d="insights",c="insightsAlertsInvestigation",u="nodesViewV2",p=[o,n,l,s,r,d,c],m={};function g(e){if(p.includes(e))return()=>!0;let t=localStorage.getItem(e);null===t&&(t=m[e]?"true":"false");const i="true"===t;return e=>e||i}const h=g(n)(),f=g(o)(),b=(g(a)(),g(s)()),y=g(l)(),v=(g(r)(),g(d)()),w=g(c)(),x=g(u)()},78804:(e,t,i)=>{i.d(t,{c:()=>a});var n=i(33185),o=i(65258);const a=n.default.div.withConfig({displayName:"styled__Divider",componentId:"sc-14bbmjw-0"})(["background:",";height:1px;width:auto;margin:"," ",";"],(0,o.getColor)("disabled"),(0,o.getSizeBy)(1),(0,o.getSizeBy)(2))},81214:(e,t,i)=>{i.d(t,{A:()=>n});const n=async e=>{if("string"!==typeof e)return console.error("Pass a string to copyToClipboard"),!1;const t=document.createElement("textarea"),i=document.activeElement;t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const n=document.getSelection(),o=n.rangeCount>0&&n.getRangeAt(0);document.body.append(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length;let a=!1;try{navigator.clipboard?(await navigator.clipboard.writeText(t.value),a=!0):a=document.execCommand("copy")}catch{}return t.remove(),o&&(n.removeAllRanges(),n.addRange(o)),i&&i.focus(),a}},85720:(e,t,i)=>{i.d(t,{A:()=>p,G:()=>d});var n=i(96540),o=i(33185),a=i(65258),s=i(15920),l=i(74848);const r=e=>e?"selected":"modalBackground",d=(0,o.default)(a.Flex).withConfig({displayName:"item__PanelRowContainer",componentId:"sc-lf007z-0"})(["cursor:",";"," &:hover{background:",";}",""],(e=>{let{disabled:t,justDesc:i}=e;return t||i?"default":"pointer"}),(e=>{let{justDesc:t}=e;return t&&"pointer-events: none;"}),(e=>(0,a.getColor)(r(e.isSidebar))(e)),(e=>e.selected&&`background: ${(0,a.getColor)(r(e.isSidebar))(e)};`)),c=(0,o.default)(a.Icon).withConfig({displayName:"item__StyledIcon",componentId:"sc-lf007z-1"})(["flex:0 0 auto;"]),u=(0,o.default)(a.IconComponents.LoaderIcon).withConfig({displayName:"item__StyledLoaderIcon",componentId:"sc-lf007z-2"})(["flex:0 0 auto;height:16px;width:16px;"]),p=e=>{let{disabled:t,children:i,Wrapper:o=a.Text,textProps:r,to:p="",onClick:m,testid:g,icon:h,iconHeight:f="16px",iconWidth:b="16px",iconColor:y="menuItem",textColor:v="menuItem",padding:w=[2,4],margin:x=[0],round:C=0,gap:k=3,actions:A,selected:_,loading:N,width:I="100%",isSidebar:S=!1,isSecondary:j,justDesc:T,ref:$,...D}=e;const E=(0,s.Zp)(),R=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),t||(m&&m(e),p&&E(p))}),[m,t,p]),P=D["data-ga"]||"";return(0,l.jsxs)(d,{ref:$,flexWrap:!1,justifyContent:"between",alignItems:"center",padding:w,margin:x,round:C,onClick:R,"data-testid":g,width:I,selected:_,disabled:t,isSidebar:S,justDesc:T,...P&&{"data-ga":P},children:[(0,l.jsxs)(a.Flex,{alignItems:"center",gap:k,flex:!0,basis:"",children:[N?(0,l.jsx)(u,{}):"string"===typeof h?(0,l.jsx)(c,{name:h,disabled:t,color:y,height:f,width:b}):h,!!i&&(0,l.jsx)(o,{opacity:t?"medium":void 0,width:"150px",color:v,italic:j,...r,children:i})]}),A]})}},88307:(e,t,i)=>{i.d(t,{C:()=>s});var n=i(81214),o=i(51900),a=i(12724);const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return()=>{(0,n.A)(e);const i=(0,a.UI)({header:"Copied",text:"Command copied to your clipboard! Please run it on your node's terminal.",icon:"gear",...t,success:!0});o.A.success(i,{context:"copy"})}}},88325:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(96540),o=i(18739),a=i(24609);const s=e=>{const{loaded:t,value:i,hasError:s}=(0,o.JN)(),l=(0,a.bq)(),r=t&&i?i.billingEmail?"update":"checkout":"",d=`/spaces/${l}/settings/billing/all-plans`,c=(0,n.useCallback)((e=>t&&i?`${d}#billingModalType=${r}&billingModalSlug=${e}`:null),[e,l,r]),u=e?c(e):d;return{loaded:t,getUrl:c,url:u,hasError:s}}},93598:(e,t,i)=>{i.d(t,{A:()=>g,j:()=>m});i(98992),i(37550);var n=i(96540),o=i(65258),a=i(24609),s=i(64973),l=i(99728),r=i(76375),d=i(67200),c=i(74848);const u=(0,d.A)(o.Button),p=["Business","Pro","Homelab"],m=e=>{let{view:t,edit:i,forceAccess:o,ifForbidden:d="disabled",tooltip:c,disabled:u}=e;const m=(0,a.dg)(),g=(0,l.JT)("agent:ReadDynCfg"),h=(0,l.JT)("agent:EditDynCfg"),f=(0,l.JT)("billing:Manage"),b=(0,a.UV)("ids"),y=(0,a.YP)(b),[v]=(0,s.Q8)(),{userStatus:w,spaceId:x}=v||{},C=m&&"loggedIn"===w,k=!!x&&function(e){return!!e&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((t=>{let{id:i,plan:n}=t;return i===e&&p.some((e=>n.startsWith(e)))}))}(x,y),A=o||(C?k:i?h:!t||g),{loaded:_,isPaid:N}=(0,r.A)();return{hidden:"hide"===d&&!A,isDisabled:"disabled"===d&&!A||u,tooltipText:(0,n.useMemo)((()=>A?c:_?N||m?"User does not have sufficient permissions to perform this action. Please contact your admin to grant access.":"Upgrade your plan to use this feature.":null),[_,N,A,c]),showUpgradeButton:f&&!A&&!N,hasPermission:A}},g=e=>{let{view:t,edit:i,forceAccess:n,ifForbidden:o,tooltip:a,disabled:s,...l}=e;const{hidden:r,isDisabled:d,tooltipText:p}=m({view:t,edit:i,forceAccess:n,ifForbidden:o,tooltip:a,disabled:s});return r?null:(0,c.jsx)(u,{disabled:d,tooltip:p,...l})}},95565:(e,t,i)=>{i.d(t,{A:()=>l});i(96540);var n=i(15920),o=i(79748),a=i(88325),s=i(74848);const l=e=>{let{children:t,...i}=e;const{url:l}=(0,a.A)("business");return(0,s.jsx)(o.A,{as:n.N_,to:l,disabled:!l,...i,children:t})}},98289:(e,t,i)=>{i.d(t,{J3:()=>s,UE:()=>l,Xt:()=>u,dG:()=>r,m8:()=>d,sr:()=>c});i(98992),i(54520),i(8872);var n=i(21885),o=i(41395);const a=new RegExp(/^\/[^/]+/),s=e=>{const t=e?.split(":");return t?t[t.length-1]:""},l=e=>e?.split(":").slice(0,-1).join(":"),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce(((e,t)=>{let[i,n]=t;return i.match(/\/[^/]+/g)?{...e,...n}:n}),{})},d=function(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce(((e,t)=>{let[i,n]=t;return{...e,[i.replace(a,"")]:n}}),{})}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return Object.entries(e).reduce(((e,t)=>{let[i,n]=t;return{...e,[i]:Object.entries(n).reduce(((e,t)=>{let[i,o]=t;if(["template","single"].includes(o.type)&&(e[i]={...o}),"template"===o.type){const t=Object.entries(n).filter((e=>{let[,{template:t}]=e;return t===i})).reduce(((e,t)=>{let[i,n]=t;return{...e,[i]:n}}),{});Object.keys(t).length&&(e[i].templateChildren=t)}return e}),{})}}),{})},c=e=>{const t=[],i=Object.entries(e).reduce(((e,i)=>{let[s,l]=i;const r=s.match(a)?.[0],d=(0,o.Zr)(r?.replace(/^\//,"")||"");d&&t.push(d);const c=s.replace(a,"")||`/${n.CP}${s.replace(/^\//,"")}`;return{...e,[d]:{...e[d],[c]:l}}}),{});return{tabs:t,tree:i}},u=e=>{let{tree:t={},level:i=1,parents:o=[]}=e;return Object.entries(t).reduce(((e,t)=>{let[a,s]=t;const l=a.match(/\/[^/]+/g)||[];return l.length>1?[...e,{id:l[0],type:"path",level:i,parents:o},...u({tree:{[l.slice(1).join("")]:s},level:i+1,parents:[...o,l[0]]})]:1===l.length?[...e,...l[0].startsWith(`/${n.CP}`)?[]:[{id:l[0],type:"path",level:i,parents:o}],...Object.entries(s).reduce(((e,t)=>[...e,{id:t[0],level:i+1,...t[1],parents:[...o,l[0]]},...t[1].templateChildren?u({tree:t[1].templateChildren,level:i+1,parents:[...o,l[0],t[0]]}):[]]),[])]:[...e,{id:a,level:i+1,...s,parents:o}]}),[])}}}]);