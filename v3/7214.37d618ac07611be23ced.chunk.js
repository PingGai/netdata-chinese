try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2c081478-a366-4f02-91ac-6f4e4c5e0187",e._sentryDebugIdIdentifier="sentry-dbid-2c081478-a366-4f02-91ac-6f4e4c5e0187")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[7214],{27214:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var n=a(96540),o=a(65258),s=a(6304),l=a(41579),d=a(67294),i=a(15920),r=a(32788),c=a(29263),h=a(47410),u=a(16866),m=a(19186),b=a(24609),g=a(5907),f=a(82418),x=a(38757),y=a(79868),p=a(74848);const w=e=>{let{onClose:t}=e;const a=(0,i.Zp)(),[s,l]=(0,n.useState)(!1),[d,w]=(0,n.useState)(""),{id:j,slug:A}=(0,b.ap)(),T=(0,m.ID)(),D=(0,m.QW)(),C=(0,n.useCallback)((e=>{let{slug:n}=e;t(),a(`/spaces/${A}/rooms/${D}/dashboards/${n}`)}),[A,D]),k=(0,g.Dn)(j,T,{onSuccess:C}),S=(0,n.useCallback)((()=>k({name:d})),[d]),_=d.length>0;return(0,p.jsxs)(r.GO,{onClose:t,children:[(0,p.jsx)(c.z,{onClose:t,title:"New Dashboard",children:(0,p.jsx)(o.Button,{label:"Add",icon:"plus",onClick:S,"data-testid":"addNewDashboardModal-add-button"})}),(0,p.jsx)(h.U,{children:"Create new Dashboard"}),(0,p.jsxs)(r.Yv,{children:[(0,p.jsx)(x.A,{value:d,label:"Name",onChange:e=>{w(e.target.value)},isValid:s,setIsValid:l,isDirty:_,instantFeedback:"all",onKeyDown:e=>e.keyCode===u.I7&&s&&S,"data-testid":"addNewDashboardModal-dashboardName-input",containerStyles:{flex:{grow:0,shrink:0},margin:[0,0,4,0]}}),(0,p.jsxs)(y.D7,{children:[(0,p.jsx)(y.Jp,{children:"What can you do with Dashboards?"}),"Combine all the metrics that matter to you, from all the nodes that matter to you, into one clean interface that helps you visually detect anomalies as they\u2019re happening. Building a new dashboard will only take a few minutes, and the metrics are always real-time."]}),(0,p.jsxs)(y.xI,{children:[(0,p.jsxs)(y.iS,{children:[(0,p.jsx)(y.vE,{name:"check"}),(0,p.jsx)(o.Text,{children:"Add charts from your infrastructure"})]}),(0,p.jsxs)(y.iS,{children:[(0,p.jsx)(y.vE,{name:"check"}),(0,p.jsx)(o.Text,{children:"Group information in a meaningful way"})]}),(0,p.jsxs)(y.z6,{children:[(0,p.jsx)(y.NT,{name:"help"}),(0,p.jsx)(o.Text,{children:"Learn more about Dashboards"})," ",(0,p.jsx)(y.N_,{href:"https://learn.netdata.cloud/docs/dashboards-and-charts/",target:"_blank",rel:"noopener noreferrer",children:"In our documentation"})]})]}),(0,p.jsx)(y.v_,{src:f.$})]})]})};var j=a(63474),A=a(63950),T=a.n(A),D=(a(98992),a(81454),a(37550),a(51262)),C=a(39175);const k=e=>{let{handleOpenAddDashboardModal:t,hasPermissionToAddDashboard:a,hasPermissionToDeleteDashboard:o,refetch:s}=e;const l=(0,m.GJ)(),i=(0,m.XA)("name"),r=(0,g.Ts)(),c=(0,d.q)(),h=(0,n.useMemo)((()=>c.some((e=>e===C.LA))),[c]),{hasLimitations:u,maxDashboards:b}=(0,D.A)(),f=async(e,t)=>{const a=(Array.isArray(e)?e:[e]).map((e=>{let{id:t}=e;return t}));await r({ids:a},{onSuccess:()=>t.toggleAllRowsSelected(!1)}),s()},x=(0,n.useMemo)((()=>({delete:{confirmLabel:"Yes, delete",confirmationMessage:e=>(0,p.jsxs)(p.Fragment,{children:["You are about to delete ",(0,p.jsx)("strong",{children:e.name})," from ",(0,p.jsx)("strong",{children:i}),".",(0,p.jsx)("br",{}),"Are you sure you want to continue?"]}),confirmationTitle:e=>`Delete ${e.name}`,declineLabel:"Cancel",handleAction:f,tooltipText:"Delete dashboard",isDisabled:e=>!o||l&&e.id===C.LA,disabledTooltipText:o?"Local dashboard cannot be deleted":"Only admins can delete"}})),[o]),y=(0,n.useMemo)((()=>({addEntry:{handleAction:t,isVisible:a,tooltipText:"Create dashboard",disabledTooltipText:`Your plan does not allow you to create more than ${b} dashboards.`,disabled:u&&c.length-(h?1:0)>=b},delete:{confirmLabel:"Yes, delete",confirmationMessage:(e,t)=>(0,p.jsxs)(p.Fragment,{children:["You are about to delete"," ",(0,p.jsx)("strong",{children:t.length>1?`${t.length} dashboards`:t[0].name})," ","from ",(0,p.jsx)("strong",{children:i}),".",(0,p.jsx)("br",{}),"Are you sure you want to continue?"]}),confirmationTitle:()=>"Delete",disabledTooltipText:"Delete is disabled because you haven't selected dashboards",declineLabel:"Cancel",handleAction:f,tooltipText:"Delete dashboards",isVisible:o}})));return{rowActions:o?x:[],bulkActions:[a,o].some(Boolean)?y:[]}};var S=a(92726),_=a(73613);const v=e=>{let t=new Date(e);t=t.getTime()===t.getTime()?t:new Date;const[,a,n,o]=t.toDateString().split(" ");return`${a} ${n}, ${o}`};var I=a(79748);const L=e=>{let{name:t}=e;return(0,p.jsxs)(o.Flex,{width:"300px",column:!0,gap:1,children:[(0,p.jsx)(o.Text,{strong:!0,children:"Locked!"}),(0,p.jsxs)(o.Text,{children:["The dashboard ",(0,p.jsx)(o.Text,{strong:!0,children:t})," is locked."]}),(0,p.jsx)(o.Text,{children:"Your plan is limited to 1 dashboard. You can delete some dashboards or upgrade your plan for no limitations."})]})},N=e=>{let{getValue:t,row:a}=e;const n="notAvailable"==a?.original?.state,s=t();return n?(0,p.jsx)(_.A,{content:(0,p.jsx)(L,{name:s}),align:"bottom",isBasic:!0,children:(0,p.jsxs)(o.Flex,{alignItems:"center",children:[(0,p.jsx)(o.Text,{children:s}),(0,p.jsx)(o.Icon,{name:"padlock",height:"12px",color:"text"})]})}):(0,p.jsx)(I.A,{as:"Link",to:a.original.slug,children:s})};var F=a(99728);const M=e=>{let{refetch:t,handleOpenAddDashboardModal:a}=e;const[,s]=(0,n.useState)(),l=(0,d.q)(),i=(0,S.Sf)(l),r=(0,F.JT)("dashboard:Create"),c=(0,F.JT)("dashboard:Delete"),h=(0,n.useMemo)((()=>[{id:"name",accessorKey:"name",header:"Name",cell:N},{id:"updatedAt",accessorKey:"updatedAt",header:"Last modified",cell:e=>{let{getValue:t}=e;return(0,p.jsx)(o.TextSmall,{children:v(t())})},sortingFn:"datetime"},{id:"createdAt",accessorKey:"createdAt",header:"Created",cell:e=>{let{getValue:t}=e;return(0,p.jsx)(o.TextSmall,{children:v(t())})},sortingFn:"datetime"}]),[]),{rowActions:u,bulkActions:m}=k({dashboards:i,handleOpenAddDashboardModal:a,hasPermissionToAddDashboard:r,hasPermissionToDeleteDashboard:c,refetch:t});return{rowActions:u,bulkActions:m,data:i,enableSelection:c,columns:h,enableSorting:!0,globalFilterFn:(0,n.useCallback)(((e,t,a)=>{const n=a?.toLowerCase?.(),o=e.getValue("name")?.toLowerCase?.(),s=`${v(e.getValue("updatedAt"))?.toLowerCase?.()}`,l=`${v(e.getValue("createdAt"))?.toLowerCase?.()}`;return o.includes(n)||s.includes(n)||l.includes(n)}),[]),setGlobalFilter:s}},$=[{id:"updatedAt",desc:!0}],V=e=>{let{refetch:t=T(),handleOpenAddDashboardModal:a}=e;const{enableSelection:n,columns:s,data:l,rowActions:d,bulkActions:i,enableSorting:r,globalFilterFn:c,setGlobalFilter:h}=M({refetch:t,handleOpenAddDashboardModal:a});return(0,p.jsx)(o.Table,{rowActions:d,enableSelection:n,data:l,dataColumns:s,bulkActions:i,enableSorting:r,globalFilterFn:c,onSearch:h,testPrefixCallback:e=>e.name,sortBy:$,title:"Dashboards"})};var B=a(60908);const E=()=>{const e=(0,l.A)(),[t,,a,n]=(0,s.A)(!1);return(0,d.RQ)()?(0,p.jsx)(B.Ay,{feature:"DashboardOverview",children:(0,p.jsxs)(o.Flex,{position:"relative",width:"100%",height:"100%",flex:"1",column:!0,padding:[3,3,0],overflow:"hidden",children:[(0,p.jsx)(V,{refetch:e,handleOpenAddDashboardModal:a}),t&&(0,p.jsx)(w,{onClose:n})]})}):(0,p.jsx)(j.Ki,{})}},79868:(e,t,a)=>{a.d(t,{D7:()=>l,Jp:()=>d,NT:()=>h,N_:()=>m,iS:()=>r,vE:()=>c,v_:()=>s,xI:()=>i,z6:()=>u});var n=a(33185),o=a(65258);const s=n.default.img.withConfig({displayName:"styled__Illustration",componentId:"sc-1yhntgl-0"})(["margin:0 auto;"]),l=(0,n.default)(o.Text).withConfig({displayName:"styled__StyledText",componentId:"sc-1yhntgl-1"})(["display:block;"]),d=n.default.div.withConfig({displayName:"styled__TextHeader",componentId:"sc-1yhntgl-2"})(["margin-bottom:",";font-weight:700;"],(0,o.getSizeBy)(2)),i=n.default.div.withConfig({displayName:"styled__StaticCheckmarks",componentId:"sc-1yhntgl-3"})(["margin-top:",";margin-bottom:",";"],(0,o.getSizeBy)(2),(0,o.getSizeBy)(5)),r=n.default.div.withConfig({displayName:"styled__CheckmarkLine",componentId:"sc-1yhntgl-4"})(["display:flex;align-items:center;"]),c=(0,n.default)(o.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-1yhntgl-5"})(["margin-right:4px;height:18px;> use{fill:",";}"],(0,o.getColor)("primary")),h=(0,n.default)(c).withConfig({displayName:"styled__HelpIcon",componentId:"sc-1yhntgl-6"})(["vertical-align:middle;"]),u=n.default.div.withConfig({displayName:"styled__LearnMoreSection",componentId:"sc-1yhntgl-7"})(["margin-top:",";"],(0,o.getSizeBy)(4)),m=n.default.a.withConfig({displayName:"styled__Link",componentId:"sc-1yhntgl-8"})(["text-decoration:underline;color:",";&:visited{color:",";}"],(0,o.getColor)("success"),(0,o.getColor)("success"))}}]);