try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="07ce431e-e3d2-4228-b89c-0fac7df19627",e._sentryDebugIdIdentifier="sentry-dbid-07ce431e-e3d2-4228-b89c-0fac7df19627")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[4211],{24211:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});a(96540);var l=a(15920),n=a(87650),d=a(60959),s=a(74848);const o=e=>{let{spaceId:t,roomId:a,nodeName:o}=e;const{alertId:i}=(0,l.g)();return(0,s.jsx)(d.A,{children:(0,s.jsx)(n.A,{alertId:i,spaceId:t,roomId:a,nodeName:o,isWebview:!0})})}},60959:(e,t,a)=>{a.d(t,{A:()=>s});a(96540);var l=a(65258),n=a(10444),d=a(74848);const s=e=>{let{children:t}=e;return(0,n.J)()?(0,d.jsx)(l.Layer,{full:!0,children:(0,d.jsx)(l.Flex,{width:"100%",background:"mainBackground","data-testid":"mobileContainer",children:t})}):t}},87650:(e,t,a)=>{a.d(t,{A:()=>J});var l=a(65258),n=a(19075),d=a(62718),s=a(10444),o=a(19186),i=a(997),r=a(54042),c=a(9271),u=a(17829),h=a(96540),x=a(15920),g=a(42790),f=a(24013),m=a(33185);const p=(0,m.default)(l.Flex).attrs({alignItems:"center"}).withConfig({displayName:"styled__StyledButtonContainer",componentId:"sc-1glv09p-0"})(["position:sticky;bottom:0;"]);var j=a(52007),b=a(1390),I=a(3203),w=a(74848);const y=(0,I.A)(l.Button),v=e=>{let{disabled:t,nodeId:a,alertId:n,context:d,lastStatusChange:s,onClose:o,isLoading:i,small:r=!1,testid:c="alertDetailsModal"}=e;const u=(0,x.Zp)(),m=(0,f.Zl)(a),I=(0,h.useCallback)((()=>{o&&o(),u(m,n?{state:{alertId:n}}:{state:{contextToGo:d}})}),[m,n]),v=(0,g.rI)(),C=(0,h.useCallback)((()=>{const e=1e3*s,t=e-6e4;v((a=>({...a,highlight:{after:t,before:e},correlation:!0}))),I()}),[s,d,I,n]);return(0,w.jsx)(p,{justifyContent:"end",gap:2,children:(0,w.jsxs)(l.Flex,{gap:2,justifyContent:"end",children:[(0,w.jsx)(y,{small:r,label:"Run correlations",onClick:C,flavour:"hollow",isLoading:i,width:r?"112px":"170px","data-testid":`${c}-runCorrelations-button`,"data-ga":"alert-modal::click-run-correlations::alerts-view",payload:{action:"Run correlations",alertId:n,nodeId:a}}),(0,w.jsx)(y,{small:r,label:"Go to chart",onClick:I,flavour:"hollow",isLoading:i,disabled:i||t,width:r?"112px":"150px","data-testid":`${c}-goToNode-button`,"data-ga":"alert-modal::click-goto-chart::alerts-view",payload:{action:"Go to chart",alertId:n,nodeId:a}}),(0,w.jsx)(j.A,{alertId:n,nodeId:a,isLoading:i,small:r,"data-testid":`${c}-edit-alert-button`}),(0,w.jsx)(b.A,{alertId:n,small:!0,flavour:"hollow",popoverProps:{localStorageKey:"dissmiss-ask-ai-popover-alert-page"}})]})})},C=(0,h.memo)(v);var k=a(65502),A=a(75894);const L=e=>{let{alertId:t,context:a,name:n,nodeId:d,status:o,lastStatusChange:i,fullyLoaded:r,isWebview:c}=e;const u=(0,s.J)(),h=u?l.H4:l.H0;return(0,w.jsxs)(l.Flex,{column:!0,gap:4,children:[(0,w.jsxs)(l.Flex,{justifyContent:"between",children:[(0,w.jsxs)(l.Flex,{alignItems:"center",gap:2,children:[(0,w.jsx)(A.A,{margin:u?null:[.5,0,0],flavour:o,"data-testid":"alertView-statusPill",children:o}),(0,w.jsx)(h,{"data-testid":"alertView-alertName",children:n})]}),!1]}),(0,w.jsxs)(l.Flex,{justifyContent:"between",alignItems:"center",children:[(0,w.jsx)(k.A,{alertId:t}),!c&&r&&!u&&(0,w.jsx)(C,{lastStatusChange:i,alertId:t,context:a,name:n,nodeId:d,small:!0,testid:"alertView"})]})]})};var S=a(92318),F=a(60908);const T=m.default.img.withConfig({displayName:"sc-404__Illustration",componentId:"sc-4w81fg-0"})(["height:35%;width:35%;"]),V=m.default.div.withConfig({displayName:"sc-404__ButtonContainer",componentId:"sc-4w81fg-1"})(["margin:",";"],(0,l.getSizeBy)(4)),_=()=>{const e=`${S.A.assetsBaseURL}/img/no-nodes-room.svg`;return(0,w.jsx)(F.DL,{children:(0,w.jsxs)(l.Flex,{column:!0,alignItems:"center",justifyItems:"center",justifyContent:"center",height:"100%",width:"100%",padding:[0,0,"10%"],children:[(0,w.jsx)(T,{src:e,alt:"Unreachable alert",title:"Unreachable alert"}),(0,w.jsx)(l.H3,{children:"We couldn't find the alert"}),(0,w.jsx)(l.Text,{children:"This can be a temporary problem of that specific alert."}),(0,w.jsx)(V,{children:(0,w.jsx)(l.Button,{label:"Retry",icon:"reload"})})]})})};var N=a(77029),B=a(51262),R=a(12407);const D=e=>{let{children:t}=e;return(0,w.jsxs)(l.Flex,{background:"modalHeaderBackground",height:12,flex:!1,gap:4,padding:[0,2,0,4],alignItems:"center",children:[(0,w.jsx)(l.Icon,{name:"logo_s",color:"success",width:"23px"}),t]})},J=e=>{let{alertId:t,spaceId:a,roomId:h,isWebview:x,nodeName:g}=e;const f=(0,o.XA)("name"),{isNodeRestricted:m}=(0,B.A)(),{fullyLoaded:p=!1,fullyLoading:j=!0,info:b,units:I,lastStatusChangeValue:y,lastStatusChange:v,context:C,instance:k,name:A,nodeId:S,status:T,lastUpdated:V,value:J}=(0,n.JL)(t);(0,n.yk)(t,{spaceId:a,roomId:h});const E=(0,u.J4)(J,I),H=(0,u.J4)(y,I),U=(0,s.J)(),{restricted:W}=m(S);return W?(0,w.jsx)(F.Ay,{feature:"AlertDetailsViewRestricted",children:(0,w.jsx)(R.A,{})}):(0,w.jsx)(F.Ay,{feature:"AlertDetailsView",children:(0,w.jsxs)(l.Flex,{"data-testid":"alert-view-content",column:!0,width:U?"100%":{max:280},padding:U?null:[0,0,10],background:U?"modalBackground":null,children:[!x&&U&&(0,w.jsx)(D,{children:(0,w.jsxs)(l.Flex,{column:!0,children:[(0,w.jsx)(l.H6,{color:"textLite",children:"ROOM"}),(0,w.jsx)(l.Text,{"data-testid":"alertView-mobile-roomName",children:f})]})}),(0,w.jsxs)(l.Flex,{column:!0,padding:U?[3]:[0],overflow:U?"auto":"visible",gap:3,children:[(0,w.jsx)(L,{alertId:t,context:C,status:T,name:A,nodeId:S,lastStatusChange:v,fullyLoaded:p,isWebview:x}),p?null:j?(0,w.jsx)(d.h4,{}):(0,w.jsx)(_,{}),p&&b&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.A,{iconName:"documentation",children:"Alert Description"}),(0,w.jsx)(l.Text,{"data-testid":"alertView-info",children:b}),(0,w.jsx)(N.A,{alertId:t})]}),p&&(0,w.jsx)(i.A,{id:t,context:C,instance:k,formattedLastValue:E,formattedLastStatusChangeValue:H,lastStatusChange:v,lastUpdated:V,isFormattedValueLoaded:p,nodeId:S,status:T,testid:"alertView",spaceId:a,roomId:h}),p&&(0,w.jsx)(c.A,{id:t,nodeName:g,testid:"alertView"})]}),U&&(0,w.jsx)(l.Box,{position:"sticky",padding:[4],background:"modalBackground",bottom:0,border:{side:"top",color:"border"},children:(0,w.jsxs)(l.TextSmall,{children:["In order to ",(0,w.jsx)(l.TextSmall,{strong:!0,children:"Run Correlations"})," or"," ",(0,w.jsx)(l.TextSmall,{strong:!0,children:"View the Chart"})," you will have to visit this alert from its' dedicated page on a desktop device."]})})]})})}}}]);