try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cf63061e-346a-4fb3-910e-f78cc2658618",e._sentryDebugIdIdentifier="sentry-dbid-cf63061e-346a-4fb3-910e-f78cc2658618")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[2201],{3033:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(96540),i=t(65258),a=t(63950),l=t.n(a),o=t(10853),s=t(60266),d=t(99243),u=t(74848);const c={banner:{color:"main"},sidebar:{lineHeight:"1.6",color:"main"},freePlanUpgrade:{lineHeight:"1.6",color:"main"},billing:{color:"textLite"}},g=e=>{let{canUpgrade:n,onUpdateClick:t=l(),children:r,...a}=e;return n?(0,u.jsx)(i.Box,{"data-testid":"upgrade-to-business-banner",onClick:t,as:i.Text,cursor:"pointer",textDecoration:"underline",color:"main",...a,children:r}):null},p=e=>{let{flavour:n,couponRemainingDays:t,onUpdateClick:a=l()}=e;const{daysRemaining:p,canUpgrade:m,trialEndsAt:f}=(0,o.A)(),{isEarlybirdAndCommunitySunset:h}=(0,s.A)(),x=(0,r.useMemo)((()=>({isCoupon:t>0,isEarlybirdAndCommunitySunset:h,isBanner:"banner"==n,isSidebar:"sidebar"==n,isBilling:"billing"==n,isFreePlanUpgrade:"freePlanUpgrade"==n})),[n,t]);return(0,u.jsx)(i.Flex,{justifyContent:x.isBilling?"start":"center",alignItems:"center",width:"100%",gap:2,children:x.isCoupon?(0,u.jsxs)(i.Flex,{column:!0,children:[(0,u.jsx)(i.Text,{...c[n],fontSize:"10px",strong:!0,children:"BLACK FRIDAY OFFER"}),(0,u.jsx)(d.Te,{...c[n],fontSize:"38px",lineHeight:.8,strong:!0,children:"20% off"})]}):x.isEarlybirdAndCommunitySunset?(0,u.jsxs)(i.Flex,{column:!0,gap:1,alignItems:"center",children:[(0,u.jsxs)(i.Text,{...c[n],textAlign:"center",strong:!0,...x.isBanner?{}:{fontSize:"10px"},children:["Thank you for your support!"," ",x.isBanner?(0,u.jsx)(g,{canUpgrade:m,onUpdateClick:a,children:"Upgrade"}):null]}),(0,u.jsx)(i.Text,{...c[n],color:"primary",fontSize:"22px",lineHeight:.8,strong:!0,children:"25% Lifetime off"})]}):x.isFreePlanUpgrade?(0,u.jsx)(i.Text,{...c[n],children:"Upgrade your plan for unlimited access and Business features."}):(0,u.jsxs)(i.Text,{...c[n],children:["You have ",(0,u.jsx)(i.Text,{strong:!0,...c[n],children:`${p} days`})," ","left to explore all the features of Netdata Business."," ",x.isBilling&&(0,u.jsxs)(u.Fragment,{children:["Trial ends at"," ",(0,u.jsx)(i.Text,{strong:!0,...c[n],children:f}),"."," "]}),x.isBanner?(0,u.jsx)(g,{canUpgrade:m,onUpdateClick:a,children:"Consider upgrading for unlimited access."}):(0,u.jsx)(u.Fragment,{children:"Consider upgrading for unlimited access."})]})})}},10853:(e,n,t)=>{t.d(n,{A:()=>h});t(98992),t(72577);var r=t(96540),i=t(46587),a=t(99728),l=t(24285),o=t(86706),s=(t(37550),t(32370)),d=t(73087),u=t(68399);var c=t(18739),g=t(53142),p=t(18387),m=t(19707);const f=e=>{const n=new Date(e||void 0).toLocaleDateString();return"Invalid Date"!==n?n:null},h=()=>{const e=(0,o.gk)(),n=(0,o.bj)(),{id:t,isAnonymous:h}=(0,i.uW)(),x=(0,r.useMemo)((()=>!!(n||[]).find((e=>e.id===t&&"creator"===e.joinMethod))),[t,n]),b=(0,m.I)(),{loaded:y,value:j,refresh:w}=(0,c.JN)(),{isFailure:A}=(0,g.A)(),{slug:C,trialEndsAt:T,paymentProvider:k}=j||{},S=(0,r.useMemo)((()=>(e=>{if(!e)return null;const n=new Date(e)-new Date;return Math.ceil(n/864e5)})(T)),[T]),v=y&&!!T&&!b,B=(0,a.JT)("billing:Manage"),[I]=(0,l.ng)("trialModalDismissed"),F=e&&x&&B&&(v||A)&&!localStorage.getItem(u.$B)&&!I,[O,M]=(0,r.useState)(localStorage.getItem(u.TB)),[D,E]=(0,r.useState)(),W=(P=S)>8?"default":P>3?"warning":"critical";var P;const U=!h&&B;return(0,r.useEffect)((()=>{const e=((e,n,t,r)=>{if(n<0)return!1;const i=new Date(e||void 0);if(!(0,s.f)(i))return!1;const a=new Date(r||void 0);if(!(0,s.f)(a))return n<=u.w1;const{days:l}=(0,d.F)({start:a,end:i});return t.some((e=>e>=n&&e<l))})(T,S,u.ml,O);E(e)}),[T,S,O]),{trialWelcomeVisible:F,sidebarWarningVisible:v,bannerVisible:D,dismissBanner:()=>{const e=(new Date).toISOString();M(e),localStorage.setItem(u.TB,e)},daysRemaining:S,trialEndsAt:f(T),trialEndsAtRaw:T,type:W,canUpgrade:U,onTrial:v,refreshPlan:w,planIsFreeOrEarlyBird:(0,p.Kj)(C),paymentProvider:k}}},34495:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c,usePostSignup:()=>u});var r=t(96540),i=t(15920),a=t(65258),l=t(46587),o=t(10444),s=t(79748),d=t(74848);const u=()=>{const e=`postsignup-disnissed-${(0,l.NJ)()}`;return[localStorage.getItem(e),(0,r.useCallback)((()=>{localStorage.setItem(e,!0)}),[e])]},c=()=>{const e=(0,i.Zp)(),{pathname:n}=(0,i.zy)(),[,t]=u(),l=(0,o.J)(),c=(0,r.useCallback)((()=>{t(),e(n,{replace:!0})}),[n,t]);return(0,d.jsx)(a.Modal,{backdropProps:{backdropBlur:!0},children:(0,d.jsxs)(a.ModalContent,{width:l?{base:"95vw"}:{},children:[(0,d.jsx)(a.ModalHeader,{children:(0,d.jsxs)(a.Flex,{gap:2,alignItems:"center",children:["Tip",(0,d.jsx)(a.ModalCloseButton,{testId:"close-button",onClose:c})]})}),(0,d.jsx)(a.ModalBody,{children:(0,d.jsxs)(a.Flex,{column:!0,gap:3,width:{max:120},padding:[0,0,4,0],children:[(0,d.jsx)(a.TextBigger,{lineHeight:1.5,children:"Netdata works best on larger screens. Try logging in from a laptop, desktop or tablet for the ultimate dashboard adventure."}),(0,d.jsxs)(a.TextBigger,{lineHeight:1.5,children:["Installing the Netdata agent takes less than a minute, check out the"," ",(0,d.jsx)(s.A,{Component:a.TextBigger,href:"https://www.youtube.com/watch?v=z5m8JdwMOn8",target:"_blank",rel:"noopener noreferrer",children:"video"})," ","and try it out yourself!"]})]})}),(0,d.jsx)(a.ModalFooter,{children:(0,d.jsx)(a.Flex,{gap:4,justifyContent:"end",padding:[1,2],children:(0,d.jsx)(a.Button,{label:"Dismiss",flavour:"hollow",onClick:c})})})]})})}},37785:(e,n,t)=>{t.d(n,{A:()=>s,s:()=>o});var r=t(18739),i=t(18387),a=t(50979);const l=e=>{const{value:n}=(0,r.lU)();if(!n?.[e])return{};const t=Object.keys(n[e]).sort(i.M7)[0];return{id:n[e][t]?n[e][t][0]?.id:null,version:t}},o=()=>l(a.VH.homelab),s=()=>l(a.VH.free)},42711:(e,n,t)=>{t.d(n,{A:()=>u});var r=t(96540),i=t(63950),a=t.n(i),l=t(65258),o=t(3319),s=t(74848);const d={default:"Or you can opt to downgrade immediately",billing:"Or you can opt to downgrade immediately"},u=e=>{let{flavour:n="default",onOptOutClick:t=a(),...i}=e;const{sendLog:u,isReady:c}=(0,o.A)(),g=(0,r.useCallback)((()=>{t(),u({feature:"TrialOptOut",isStart:!0})}),[c]);return(0,s.jsxs)(l.Text,{...i,children:["After the trial, you'll automatically switch to the free Community plan."," ",(0,s.jsx)(l.Box,{"data-testid":"upgrade-to-business-banner",onClick:g,as:l.Text,cursor:"pointer",textDecoration:"underline",color:"primary",children:d[n]}),"."]})}},52201:(e,n,t)=>{t.r(n),t.d(n,{OptOut:()=>j.A,OptOutModal:()=>w.A,TrialMessage:()=>A.A,TrialWarning:()=>y,default:()=>T,useBusinessPlan:()=>C.A,useTrial:()=>o.A});var r=t(96540),i=t(46587),a=t(7960),l=t(24285),o=t(10853),s=t(60266),d=t(19707),u=t(10444),c=t(34495),g=t(74848);const p=(0,a.A)((()=>Promise.resolve().then(t.bind(t,34495))),"PostSignup"),m=(0,a.A)((()=>t.e(4484).then(t.bind(t,14484))),"TrialWelcome"),f=(0,a.A)((()=>t.e(3718).then(t.bind(t,11337))),"BumpedWarning"),h=(0,a.A)((()=>Promise.all([t.e(8938),t.e(1526)]).then(t.bind(t,21526))),"NewUserForm"),x=()=>{const{isEarlybirdAndCommunitySunset:e}=(0,s.A)(),{trialWelcomeVisible:n,paymentProvider:t}=(0,o.A)(),{email:a,isAnonymous:x}=(0,i.uW)(),[b]=(0,l.tF)("signupSurveySubmitted"),y=(0,d.I)(),[j]=(0,c.usePostSignup)(),w=(0,u.J)();if(!e&&!y&&"AWS"!==t&&!x&&!b)return(0,g.jsx)(r.Suspense,{fallback:"",children:(0,g.jsx)(h,{email:a})});if(w&&!j)return(0,g.jsx)(r.Suspense,{fallback:"",children:(0,g.jsx)(p,{})});const A=e?f:n?m:null;return A?(0,g.jsx)(r.Suspense,{fallback:"",children:(0,g.jsx)(A,{})}):null},b=(0,a.A)((()=>t.e(4913).then(t.bind(t,44913))),"Warnings"),y=e=>(0,i.uW)("isAnonymous")?null:(0,g.jsx)(r.Suspense,{fallback:"",children:(0,g.jsx)(b,{...e})});var j=t(42711),w=t(71282),A=t(3033),C=t(2652);const T=()=>{const e=(0,i.uW)("isAnonymous");return window.envSettings.onprem||e?null:(0,g.jsx)(x,{})}},60266:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(96540),i=t(24609),a=t(10853);var l=t(6304);const o=e=>{const n=new Date(e||void 0).toDateString();return"Invalid Date"!==n?n:null},s=()=>{const e=(0,i.ap)(),n=(0,r.useMemo)((()=>`dismissedBumpedWarningKey_${e?.id}`),[e?.id]),[t,,,s]=(0,l.A)(!localStorage.getItem(n)),{trialEndsAtRaw:d}=(0,a.A)(),u=d&&"EarlybirdAndCommunitySunset"==e?.metadata?.joinTrialCode,c=t&&d&&u,g=u?"EARLYB25":null,p=(0,r.useCallback)((()=>{localStorage.setItem(n,!0),s()}),[s,n]);return{isModalVisible:c,isEarlybirdAndCommunitySunset:u,coupon:g,trialEndsAt:o(d),onClose:p}}},68399:(e,n,t)=>{t.d(n,{$B:()=>o,TB:()=>s,W1:()=>i,ml:()=>a,ue:()=>r,w1:()=>l});const r={default:"successSemi",warning:"warningSemi",critical:"errorSemi"},i={default:{background:"successSemi",border:"success"},warning:{background:"warningSemi",border:"warning"},critical:{background:"errorSemi",border:"error"}},a=[10,3,2,1],l=12,o="dismissedTrialWelcome",s="dismissedTrialWarningDate"},71282:(e,n,t)=>{t.d(n,{A:()=>h});var r=t(96540),i=t(63950),a=t.n(i),l=t(65258),o=t(18739),s=t(63872),d=t(60908),u=t(3203),c=t(3319),g=t(6304),p=t(37785),m=t(74848);const f=(0,u.A)(l.Button),h=e=>{let{onConfirm:n,onDecline:t=a(),onCancellingEnd:i=a()}=e;const u=(0,o.M4)(),[h,x]=(0,s.A)(),{id:b}=(0,p.A)(),{sendLog:y,isReady:j}=(0,c.A)(),[w,,A,C]=(0,g.A)(),T=(0,r.useCallback)((()=>{A(),u({productId:b}).then((()=>{h({header:"Successfully canceled subscription",text:"You are now on Community plan"}),y({feature:"TrialOptOut",isSuccess:!0})})).catch((()=>{x({header:"Failed to cancel the subscription",text:"Remained on Business plan"}),y({feature:"TrialOptOut",isFailure:!0,error:"Failed to cancel the subscription"})})).finally((()=>{i(),C()}))}),[b,j]),k=(0,r.useCallback)((()=>{n?n():T()}),[n,T]);return(0,m.jsx)(l.Modal,{backdropProps:{backdropBlur:!0},children:(0,m.jsx)(d.Ay,{feature:"TrialOptOut",children:(0,m.jsxs)(l.ModalContent,{width:{base:140},children:[(0,m.jsx)(l.ModalHeader,{children:(0,m.jsx)(l.Flex,{gap:2,alignItems:"center",children:(0,m.jsx)(l.H4,{children:"Opt out of Free Trial"})})}),(0,m.jsx)(l.ModalBody,{children:w?(0,m.jsx)(l.Flex,{height:"100px",children:(0,m.jsx)(l.TextBig,{children:"Changing billing plan..."})}):(0,m.jsxs)(l.Flex,{gap:2,column:!0,children:[(0,m.jsx)(l.H3,{children:"Are You Sure?"}),(0,m.jsx)(l.TextBig,{children:"It looks like you have chosen to opt-out of your free 14-day business trial. Are you sure you do not want to experience all the features Netdata has to offer?"}),(0,m.jsx)(l.TextBig,{children:"By opting out, you will be downgraded to the community plan immediately."})]})}),(0,m.jsx)(l.ModalFooter,{children:(0,m.jsxs)(l.Flex,{justifyContent:"end",gap:4,padding:[1,2],children:[(0,m.jsx)(f,{feature:"TrialOptOut",label:"Yes, I am sure!",flavour:"hollow",small:!0,onClick:k,disabled:!b||w,textTransform:""}),(0,m.jsx)(f,{feature:"TrialOptOut",label:"No, I want the trial!",small:!0,onClick:t,disabled:w,textTransform:""})]})})]})})})}},99243:(e,n,t)=>{t.d(n,{PL:()=>o,Te:()=>s,bg:()=>l});var r=t(33185),i=t(65258),a=t(68399);const l=(0,r.default)(i.Flex).attrs({position:"relative"}).withConfig({displayName:"styled__TrialWarningSidebar",componentId:"sc-66x250-0"})(["background-color:",";border-width:1px;border-style:dashed;border-color:",";border-radius:2px;"],(e=>{let{type:n}=e;return(0,i.getColor)(a.W1[n]?.background)}),(e=>{let{type:n}=e;return(0,i.getColor)(a.W1[n]?.border)})),o=(0,r.default)(i.Button).withConfig({displayName:"styled__TrialUpgradeButton",componentId:"sc-66x250-1"})(["flex:auto;"]),s=(0,r.default)(i.Text).attrs({strong:!0,lineHeight:.8}).withConfig({displayName:"styled__PromoText",componentId:"sc-66x250-2"})(["background-color:",";background-image:linear-gradient( 43deg,"," 0%,"," 46%,"," 100% );-webkit-background-clip:text;-webkit-text-fill-color:transparent;"],(0,i.getColor)("primary"),(0,i.getColor)(["blue","aquamarine"]),(0,i.getColor)(["purple","mauve"]),(0,i.getColor)("primary"))}}]);