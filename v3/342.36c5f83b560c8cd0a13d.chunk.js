try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},o=(new e.Error).stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="4cc97c23-ce6c-47ac-8c28-559d85446c6b",e._sentryDebugIdIdentifier="sentry-dbid-4cc97c23-ce6c-47ac-8c28-559d85446c6b")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[342,5187],{45187:(e,o,n)=>{n.d(o,{R:()=>i,H:()=>c});var t=n(34843),l=n(52035);const a=(0,l.eU)(!1),s=(0,l.eU)(!1);var r=n(96540);const i=()=>{const[e,o]=(0,t.fp)(a);return{isInitialized:e,init:(0,r.useCallback)((()=>o(!0)),[o])}},c=()=>{const[e,o]=(0,t.fp)(s);return{isActive:e,activate:(0,r.useCallback)((()=>o(!0)),[o]),deactivate:(0,r.useCallback)((()=>o(!1)),[o])}}},50342:(e,o,n)=>{n.r(o),n.d(o,{default:()=>to});var t=n(96540),l=n(65258),a=n(24285),s=n(33185),r=n(15920),i=n(92318),c=n(6304),d=n(32742),u=n(70140),h=(n(98992),n(81454),n(24655)),g=n(24609),p=n(74848);const x=e=>{let{spaceIds:o,colors:n}=e;const t=(0,g.vt)();return(0,p.jsx)(l.Flex,{width:"100%",column:!0,alignItems:"center","data-testid":"workspaceBar-spacesList",overflow:{vertical:"auto"},children:o.map((e=>{const o=n?.[e];return(0,p.jsx)(h.A,{testIdPrefix:"workspaceBar-space",spaceId:e,active:e===t,backgroundColor:o},e)}))})};var C=n(64156),m=n(63872);const b=()=>{const e=(0,t.useRef)(),[o,,n,l]=(0,c.A)(),[s,r]=(0,a.tF)("spacesList"),i=(0,u.A)(),[d,h]=(0,t.useState)(i),[g,,p,x]=(0,c.A)(),[C]=(0,m.A)(),b=(0,t.useCallback)((e=>{h((o=>({...o,spaceIds:e})))}),[h]),j=(0,t.useCallback)((e=>{let{id:o,color:n}=e;h((e=>({...e,colors:{...e.colors,[o]:n}})))}),[h]),f=(0,t.useCallback)((e=>{h((o=>({...o,colors:{...o.colors,[e]:i.colors?.[e]}})))}),[i,h]),v=(0,t.useCallback)((e=>{h((o=>({...o,colors:{...o.colors,[e]:void 0}})))}),[h]),k=(0,t.useCallback)((e=>{n(),r(d),l(),x(),C({header:"Success",text:"Your changes have been successfully saved."}),"function"===typeof e&&e()}),[d,r,x,C,n,l]),w=(0,t.useMemo)((()=>!!s),[s]),I=(0,t.useCallback)((()=>{n(),r(null),l(),C({header:"Success",text:"All settings have been successfully deleted."})}),[r,n,l]),y=(0,t.useCallback)((()=>{h(i),x()}),[i,h,x]);return(0,t.useEffect)((()=>{h(i)}),[i,h]),(0,t.useEffect)((()=>(e.current=Date.now(),()=>{e.current=0})),[]),(0,t.useEffect)((()=>{Date.now()-e.current>500&&p()}),[d,e]),{state:d,onOrderChange:b,onColorChange:j,onColorReset:f,onColorClear:v,onSave:k,onDelete:I,onReset:y,canDelete:w,isDirty:g,loading:o}};var j=n(43375),f=n(43627),v=n(74979),k=n(7542);const w=(0,s.default)(l.Flex).attrs((e=>({width:7,height:7,round:!0,border:{side:"all",color:"border"},cursor:"pointer",alignItems:"center",justifyContent:"center",...e}))).withConfig({displayName:"styled__StyledColorBox",componentId:"sc-1iqu0oz-0"})(["background-color:",";"],(e=>e.background)),I=(0,s.default)(l.Icon).attrs((e=>({color:(0,k.T4)(e.backgroundColor)?["neutral","black"]:["neutral","white"],...e}))).withConfig({displayName:"styled__StyledIcon",componentId:"sc-1iqu0oz-1"})([""]);var y=n(73613);n(8872);const A={green:["green50","green100","green150","green180"],red:["red50","red100","red150","red180"],yellow:["yellow50","yellow100","yellow150","yellow180"],blue:["blue50","blue100","blue150","blue180"],purple:["purple50","purple100","purple150","purple180"],violet:["violet50","violet100","violet150","violet180"]};var S=n(74891);const F=(0,S.A)(w),R=e=>{let{value:o,theme:n,onChange:a}=e;const s=(0,t.useMemo)((()=>Object.entries(A).reduce(((e,o)=>{let[t,a]=o;return[...e,...a.map((e=>(0,l.getColor)([t,e])({theme:n})))]}),[])),[n]),r=(0,t.useCallback)((()=>{const e=Math.floor(Math.random()*s.length-1),o=s[e];a({target:{value:o}})}),[s,a]);return(0,p.jsx)(F,{border:"none",background:o,onClick:r,tooltip:"Change to random color",children:(0,p.jsx)(I,{name:"refresh",backgroundColor:o})})},T=(0,t.memo)(R),B=e=>{let{theme:o,onChange:n}=e;return(0,p.jsx)(l.Flex,{gap:2,children:Object.entries(A).map((e=>{let[t,a]=e;return(0,p.jsx)(l.Flex,{column:!0,gap:2,children:a.map((e=>{const a=(0,l.getColor)([t,e])({theme:o});return(0,p.jsx)(w,{border:"none",background:a,onClick:()=>n({target:{value:a}})},e)}))},t)}))})},D=(0,t.memo)(B),M=e=>{let{value:o,onChange:n}=e;const a=(0,s.useTheme)(),[r,i]=(0,t.useState)();return(0,t.useEffect)((()=>{i((0,k.Bi)(o)?null:"Invalid color value.")}),[o]),(0,p.jsxs)(l.Flex,{column:!0,gap:2,padding:[4],children:[(0,p.jsxs)(l.Flex,{gap:2,children:[(0,p.jsx)(T,{value:o,theme:a,onChange:n}),(0,p.jsx)(l.TextInput,{height:7,value:o,onChange:n,error:r})]}),(0,p.jsx)(l.TextSmall,{children:"Choose from default colors."}),(0,p.jsx)(D,{theme:a,onChange:n})]})},_=e=>{let{value:o,tooltip:n,onChange:a}=e;const s=(0,t.useRef)(),[r,i,,d]=(0,c.A)(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(y.A,{align:"bottom",content:n,children:(0,p.jsx)(l.Flex,{ref:s,children:(0,p.jsx)(w,{background:o,onClick:i})})}),s.current&&r?(0,p.jsx)(l.Drop,{width:60,target:s.current,align:{top:"bottom",right:"right"},background:"modalBackground",margin:[2,0,0],round:!0,onClickOutside:d,onEsc:d,children:(0,p.jsx)(M,{value:o,onChange:a})}):null]})},P=e=>{let{value:o,onChange:n}=e;const l=(0,s.useTheme)(),a=(0,t.useMemo)((()=>l?.colors?.spaceIdle),[l]);return(0,p.jsx)(_,{value:o||a,onChange:n,tooltip:"Change color"})},O=e=>{let{id:o,color:n,onColorChange:l,onColorReset:a,onColorClear:s}=e;const r=(0,u.A)(),i=(0,t.useMemo)((()=>r.colors?.[o]!=n),[r,n]),c=(0,t.useCallback)((e=>{l({id:o,color:e.target.value})}),[o,l]),d=(0,t.useCallback)((()=>{a(o)}),[o,a]),h=(0,t.useCallback)((()=>{s(o)}),[o,s]);return{isDirty:i,hasColor:!!n,onChange:c,onReset:d,onClear:h}},E=(0,S.A)(l.Icon),H=e=>{let{id:o,color:n,onColorChange:t,onColorReset:a,onColorClear:s}=e;const{attributes:r,listeners:i,setNodeRef:c,transform:d,transition:u}=(0,f.gl)({id:o}),h={transform:v.Ks.Transform.toString(d),transition:u},{name:x}=(0,g.ns)(o),{isDirty:C,hasColor:m,onChange:b,onReset:j,onClear:k}=O({id:o,color:n,onColorChange:t,onColorReset:a,onColorClear:s});return(0,p.jsx)("div",{ref:c,style:h,...r,children:(0,p.jsxs)(l.Flex,{gap:1,alignItems:"center",children:[(0,p.jsx)(l.Icon,{name:"nav_dots",color:"textLite",...i,cursor:"grab"}),(0,p.jsx)(P,{value:n,onChange:b}),(0,p.jsx)(l.TextBig,{padding:[0,0,0,2],children:x}),C?(0,p.jsx)(E,{name:"reload",color:"text",cursor:"pointer",onClick:j,tooltip:"Reset background color to previous value",noWrapper:!0}):null,m?(0,p.jsx)(E,{name:"x",color:"text",cursor:"pointer",onClick:k,tooltip:"Remove background color",noWrapper:!0}):null]},o)})},L=e=>{let{spaceIds:o,colors:n,onOrderChange:l,onColorChange:a,onColorReset:s,onColorClear:r}=e;const[i,c]=(0,t.useState)(o),d=(0,j.FR)((0,j.MS)(j.AN),(0,j.MS)(j.uN,{coordinateGetter:f.JR})),u=(0,t.useCallback)((e=>{const{active:o,over:n}=e;o?.id&&n?.id&&o.id!==n.id&&c((e=>{const t=e.indexOf(o.id),l=e.indexOf(n.id);return(0,f.be)(e,t,l)}))}),[f.be,c]);return(0,t.useEffect)((()=>{c(o)}),[o,c]),(0,t.useEffect)((()=>{l(i)}),[i,l]),(0,p.jsx)(j.Mp,{sensors:d,collisionDetection:j.fp,onDragEnd:u,children:(0,p.jsx)(f.gB,{items:i,strategy:f._G,children:i.map((e=>(0,p.jsx)(H,{id:e,color:n?.[e],onColorChange:a,onColorReset:s,onColorClear:r},e)))})})},N=e=>{let{spaceIds:o,colors:n,onOrderChange:t,onColorChange:a,onColorReset:s,onColorClear:r}=e;return(0,p.jsxs)(l.Flex,{column:!0,gap:4,children:[(0,p.jsx)(l.Text,{children:"Reorder spaces by dragging and customize their colors using the color picker."}),(0,p.jsx)(l.Flex,{column:!0,gap:4,children:(0,p.jsx)(L,{spaceIds:o,colors:n,onOrderChange:t,onColorChange:a,onColorReset:s,onColorClear:r})})]})},z="closeModal",W="deleteSettings",U=()=>(0,p.jsxs)(l.Flex,{column:!0,gap:2,children:[(0,p.jsx)(l.Text,{children:"There are some unsaved changes that will be lost after closing the modal window."}),(0,p.jsx)(l.Text,{children:"Are you sure you want to colse without saving your changes?"})]}),G=()=>(0,p.jsxs)(l.Flex,{column:!0,gap:2,children:[(0,p.jsx)(l.Text,{children:"You are about to delete all previously saved settings. This action cannot be reverted."}),(0,p.jsx)(l.Text,{children:"Are you sure you want to continue?"})]}),Y={[z]:{title:"Close modal",confirmLabel:"Close without saving",message:(0,p.jsx)(U,{})},[W]:{title:"Delete settings",confirmLabel:"Yes, delete settings",message:(0,p.jsx)(G,{})}},q=e=>{let{flavour:o,handleConfirm:n,handleDecline:a}=e;const s=(0,t.useMemo)((()=>Y[o]),[o]);return(0,p.jsx)(l.ConfirmationDialog,{"data-testid":"spacesListDialog",handleConfirm:n,handleDecline:a,...s})},J=(0,S.A)(l.Button),V=e=>{let{onClose:o}=e;const{state:n,onOrderChange:a,onColorChange:s,onColorReset:r,onColorClear:i,onSave:c,onDelete:d,onReset:u,canDelete:h,isDirty:g,loading:x}=b(),{spaceIds:m,colors:j}=n||{},f=(0,C.A)("(max-width: 767px)"),v=x,[k,w]=(0,t.useState)(),I=(0,t.useCallback)((()=>w()),[w]),y=(0,t.useMemo)((()=>({width:f?"90vw":{min:"400px",base:"30vw"},height:f?"90vh":{max:"90vh"}})),[f]),A=(0,t.useCallback)((()=>{g?w(z):o()}),[g,w,o]),S=(0,t.useCallback)((()=>{w(W)}),[w]),F=(0,t.useCallback)((()=>{if(k===z)return I(),void o();k===W&&(d(),o())}),[k,o,I]),R=(0,t.useCallback)((()=>{c(o)}),[c]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.Modal,{backdropProps:{backdropBlur:!0},onEsc:A,children:(0,p.jsxs)(l.ModalContent,{...y,children:[(0,p.jsxs)(l.ModalHeader,{justifyContent:"between",padding:[4],round:!0,children:[(0,p.jsx)(l.Flex,{gap:3,alignItems:"center",children:(0,p.jsx)(l.H4,{children:"Configure spaces list"})}),(0,p.jsx)(l.ModalCloseButton,{onClose:A})]}),(0,p.jsx)(l.ModalBody,{overflow:{vertical:"auto"},children:(0,p.jsx)(N,{spaceIds:m,colors:j,onOrderChange:a,onColorChange:s,onColorReset:r,onColorClear:i})}),(0,p.jsxs)(l.ModalFooter,{gap:2,justifyContent:"between",children:[(0,p.jsx)(J,{label:"Delete all settings",flavour:"borderless",disabled:v||!h,onClick:S,danger:!0,tooltip:v||!h?null:"Delete any previously saved settings."}),(0,p.jsxs)(l.Flex,{gap:2,children:[(0,p.jsx)(l.Button,{label:"Close",flavour:"hollow",onClick:A,disabled:v}),(0,p.jsx)(l.Button,{label:"Reset",flavour:"hollow",onClick:u,disabled:v||!g}),(0,p.jsx)(l.Button,{label:"Save",onClick:R,disabled:v||!g})]})]})]})}),k?(0,p.jsx)(q,{flavour:k,handleConfirm:F,handleDecline:I}):null]})};var Z=n(46587);const $=(0,S.A)(l.Icon),K=()=>{const e=(0,Z.uW)("isAnonymous"),o=(0,u.A)(),{spaceIds:n,colors:t}=o||{},[a,s,,r]=(0,c.A)();return(0,p.jsxs)(l.Flex,{width:"100%",column:!0,gap:4,alignItems:"center",overflow:{vertical:"auto",horizontal:"hidden"},children:[(0,p.jsx)(x,{spaceIds:n,colors:t}),!e&&n.length>1?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($,{name:"hamburger",color:"text",cursor:"pointer",tooltip:"Customize spaces list",onClick:s}),a?(0,p.jsx)(V,{onClose:r}):null]}):null]})};var X=n(72679);const Q=e=>{let{...o}=e;const n=(0,X.A)(),t=(0,g.dg)();return(0,p.jsx)(y.A,{content:t?"Settings":"Space settings",children:(0,p.jsx)(l.Flex,{padding:[0,1],children:(0,p.jsx)(l.Button,{flavour:"borderless",icon:"gear",neutral:!0,onClick:n,small:!0,"data-ga":"left-sidebar::click-space-settings::global-view","data-testid":"workspaceBar-manageSpace",...o})})})};var ee=n(30582),oe=n(99746),ne=n(41514),te=n(51571),le=n(61337),ae=n(19186),se=n(45187),re=n(48464),ie=n(39175);const ce=()=>{const e=(0,ae.ID)(),o=(0,ie.tB)(e),n=(0,Z.uW)("isAnonymous"),{isInitialized:t}=(0,se.R)();return!t||o||n?null:(0,p.jsx)(l.Flex,{position:"relative",children:(0,p.jsx)(l.IconButton,{className:re.zs,"data-testid":"open-referrer-modal",icon:"giftbox",tooltip:"Spread the word, earn up to $1000 with Netdata!",neutral:!0,width:"20px",height:"20px"})})};var de=n(38740),ue=n(48301);const he=()=>{const e=(0,ue.Cu)(),{handleOpenProfileModal:o}=(0,de.A)();return(0,p.jsx)(l.IconButton,{"data-testid":"open-email-notification",cursor:"pointer",onClick:()=>o("notifications"),icon:e?.email?"notification_shortcut_enabled":"notification_shortcut_disabled",tooltip:"Email Notifications","data-ga":"left-sidebar::click-user-notification-settings::global-view",neutral:!0,width:"20px",height:"20px"})},ge=(0,t.memo)(he);var pe=n(3203);const xe=(0,S.A)(te.A),Ce=(0,pe.A)(xe),me=s.default.div.withConfig({displayName:"spaces__Separator",componentId:"sc-1gbju6k-0"})(["height:1px;width:",";background:",";"],(0,l.getSizeBy)(3),(0,l.getColor)("border")),be={onClickOut:()=>(0,ne.H)("header-help","click-out-modal","global-view"),onCloseClick:()=>(0,ne.H)("header-help","click-close","global-view"),onOpenIssueClick:()=>(0,ne.H)("header-help","click-\u03bfpen-issue","global-view"),onContributeClick:()=>(0,ne.H)("header-help","click-contribute","global-view"),onOpenBugClick:()=>(0,ne.H)("header-help","click-bug","global-view"),onSupportClick:()=>(0,ne.H)("header-help","click-support","global-view"),onVisitDocumentClick:()=>(0,ne.H)("header-help","click-visit-doc","global-view"),onGoToDemoClick:()=>(0,ne.H)("header-help","click-go-to-demo","global-view")},je=e=>{let{spacePanelCollapsed:o,toggleSpacePanel:n}=e;const[a,,s,u]=(0,c.A)(),h=(0,r.Zp)(),g=(0,t.useCallback)((function(){let{slug:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(`/spaces/${e}`)}),[]);return(0,p.jsxs)(l.Flex,{background:"sideBarMini","data-testid":"workspaceBar",padding:[3,0],column:!0,alignItems:"center",gap:6,height:"100vh",justifyContent:"between",children:[(0,p.jsxs)(l.Flex,{width:"100%",column:!0,"data-testid":"workspaceBar-spaces-list",gap:4,alignItems:"center",overflow:"hidden",children:[(0,p.jsx)(d.A,{"data-testid":"workspaceBar-netdataLogo"}),o&&(0,p.jsx)(l.IconButton,{"data-testid":"workspaceBar-expandButton",onClick:n,icon:"chevron_right",neutral:!0,padding:[0],width:"20px",height:"20px"}),(0,p.jsx)(K,{}),(0,p.jsx)(le.A,{permission:"user:CreateSpace",children:(0,p.jsx)(me,{"data-testid":"workspaceBar-separator"})}),(0,p.jsx)(Ce,{permission:"user:CreateSpace",ifForbidden:"hide",icon:"plus",onClick:s,"data-testid":"workspaceBar-addSpace-button",feature:"CreateSpace",isStart:!0,tooltip:"Create a new Space",tooltipProps:{align:"right"},iconWidth:"20px",iconHeight:"20px",padding:[.5]})]}),(0,p.jsxs)(l.Flex,{column:!0,"data-testid":"workspaceBar-actionsList",gap:4,alignItems:"center",children:[(0,p.jsxs)(l.Flex,{column:!0,gap:1,alignItems:"center",children:[(0,p.jsx)(ce,{}),(0,p.jsx)(t.Suspense,{fallback:"",children:(0,p.jsx)(le.A,{permission:"user:ChangeSpaceRoomNotifications",children:(0,p.jsx)(ge,{})})}),(0,p.jsx)(l.Documentation,{app:"cloud",demoUrl:i.A.demoUrl,...be,children:e=>(0,p.jsx)(l.IconButton,{icon:"question",onClick:e,"data-ga":"header-help::click-help::global-view","data-testid":"documentation-button",tooltip:"Read documentation, engage with the community and let us know about any feature requests or bugs",width:"18px",height:"18px"})}),(0,p.jsx)(Q,{})]}),(0,p.jsx)(oe.A,{})]}),a&&(0,p.jsx)(ee.A,{onClose:u,onDone:g})]})};var fe=n(85005),ve=n(98595),ke=n(64602),we=n(99728);const Ie=e=>o=>{const n=(0,g.vt)();return(0,t.createElement)(e,{...o,key:n})};var ye=n(31933);const Ae={isSidebar:!0,padding:[1,2,1,4],textColor:"menuItem",Wrapper:l.TextSmall},Se=Ie((()=>{const e=(0,we.JT)("room:Create"),o=(0,we.JT)("room:Read"),[n,a]=(0,c.A)(o),[s,,r,i]=(0,c.A)(!1),d=(0,t.useCallback)((o=>{o.stopPropagation(),e&&r()}),[e]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ve.A,{"data-testid":"workspaceRooms-menuList",disabled:!o,headerTestId:"workspaceRooms-warRooms",isOpen:n,label:(0,p.jsxs)(l.Flex,{padding:[1,0],margin:[0,0,1,0],flex:!0,justifyContent:"between",alignItems:"center",height:"24px",children:[(0,p.jsxs)(l.Flex,{alignItems:"center",gap:2,children:[(0,p.jsx)(l.Icon,{name:"space_new",color:"menuItem",width:"14px",height:"14px"}),(0,p.jsx)(l.TextSmall,{color:"menuItem",children:"Rooms"})]}),(0,p.jsxs)(l.Flex,{alignItems:"center",gap:2,children:[(0,p.jsx)(y.A,{content:"Create a new room",align:"right",children:(0,p.jsx)(te.A,{permission:"room:Create",tiny:!0,icon:"plus",onClick:d,"data-testid":"workspaceRooms-addWarRoom-button"})}),(0,p.jsx)(ke.v,{right:!n,name:"chevron_down",size:"small",color:"textLite"})]})]}),toggleOpen:a,children:(0,p.jsx)(l.Flex,{column:!0,"data-testid":"workspaceRooms-warRoomsList",padding:[0,0,1],children:(0,p.jsx)(ye.A,{...Ae})})}),s&&(0,p.jsx)(fe.n,{onClose:i,isSubmodal:!1})]})}));var Fe=n(7960),Re=n(85720),Te=n(98591);const Be=(0,s.default)(l.Flex).attrs({alignItems:"center",justifyContent:"center",width:10,height:4,round:.5,background:"sideBarMini"}).withConfig({displayName:"styled__AdminPill",componentId:"sc-1ps23b1-0"})(["opacity:0;",":hover &{opacity:1;}"],Re.G),De=(0,Fe.A)((()=>n.e(35).then(n.bind(n,70035))),"CurrentPlan"),Me=e=>{let{children:o,onToggle:n}=e;return(0,p.jsxs)(l.Flex,{column:!0,gap:1,children:[(0,p.jsxs)(l.Flex,{justifyContent:"between",alignItems:"center",children:[(0,p.jsx)(l.Flex,{alignItems:"center",overflow:"hidden",children:o}),(0,p.jsx)(l.Button,{onClick:n,icon:"chevron_left",neutral:!0,flavour:"hollow",small:!0})]}),(0,p.jsx)(t.Suspense,{fallback:"",children:(0,p.jsx)(De,{})})]})};var _e=n(69706),Pe=n(1174),Oe=n(61661),Ee=n(89942);const He=()=>{const e=(0,Ee.PP)(),[o,n]=(0,Oe.XL)(),{reset:l}=(0,Oe.b8)(),a=(0,t.useCallback)((()=>{l(),(0,Ee.Z8)({...e,integrationsModalOpen:"true"}),n("true")}),[l,n,e]);return{isIntegrationsVisible:o,hideIntegrations:(0,t.useCallback)((()=>{(0,Ee.Z8)({...e,integrationsModalOpen:""}),n("")}),[e,n]),onIntegrationsClick:a}};var Le=n(56284);const Ne=(0,Fe.A)((()=>Promise.all([n.e(2201),n.e(9707)]).then(n.bind(n,52201)).then((e=>({default:e.TrialWarning})))),"TrialWarning"),ze=(0,s.default)(ve.N).attrs({padding:[2],color:"textLite"}).withConfig({displayName:"spacePanel__ListHeader",componentId:"sc-1275zgk-0"})([""]),We=e=>(0,p.jsxs)(l.Flex,{alignItems:"center",gap:2,...e,children:[(0,p.jsx)(Be,{children:(0,p.jsx)(l.TextFemto,{strong:!0,color:"text",children:"ADMIN"})}),(0,p.jsx)(l.Flex,{opacity:"medium",children:(0,p.jsx)(l.Icon,{name:"padlock",size:"small",width:"18px",height:"18px",color:"text"})})]}),Ue={iconWidth:"14px",iconHeight:"14px",padding:[1,2],gap:2,isSidebar:!0,textColor:"menuItem",iconColor:"menuItem",Wrapper:l.TextSmall},Ge=e=>{let{toggleSpacePanel:o}=e;const n=(0,g.ap)(),[a,,s,r]=(0,c.A)(),[,i]=(0,Te.A)("manageInvitations"),d=(0,g.dg)(),{onIntegrationsClick:u}=He();return(0,p.jsxs)(p.Fragment,{children:[a&&(0,p.jsx)(_e.A,{onClose:r}),(0,p.jsx)(ve.A,{"data-testid":"spacesPanel",isOpen:!0,label:(0,p.jsx)(Me,{onToggle:o,children:(0,p.jsx)(Le.default,{maxFontSize:20,Component:l.TextSmall,strong:!0,title:n.name,lineHeight:"unset",children:n.name})}),headerTestId:"spacesPanel-activeSpaceHeader",Header:ze,children:(0,p.jsxs)(l.Flex,{column:!0,padding:[2,0,1],"data-testid":"spacesPanel-menuList",children:[(0,p.jsx)(t.Suspense,{fallback:"",children:(0,p.jsx)(Ne,{flavour:"sidebar"})}),(0,p.jsx)(Re.A,{onClick:u,testid:"agentDashboard-addIntegrations",dataGa:"integrations::click-add-integrations::sideMenu",icon:"integrations",...Ue,children:"Integrations"}),d?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Pe.A,{permission:"node:Create",children:e=>(0,p.jsx)(Re.A,{actions:e?null:(0,p.jsx)(We,{"data-testid":"adminWarning-notAdmin"}),disabled:!e,onClick:s,testid:"spacesPanel-claimNodes",icon:"nodes_hollow",...Ue,children:"Connect Nodes"})}),(0,p.jsx)(Pe.A,{permission:"space:InviteUser",children:e=>(0,p.jsx)(Re.A,{actions:e?null:(0,p.jsx)(We,{"data-testid":"adminWarning-cannotInvite"}),disabled:!e,onClick:i,testid:"spacesPanel-inviteUsers",icon:"user",...Ue,children:"Invite Users"})})]})]})})]})},Ye=e=>{let{spacePanelCollapsed:o,toggleSpacePanel:n}=e;return(0,p.jsx)(l.Collapsible,{width:56,background:"sideBar",border:{side:"right",color:"borderSecondary"},open:!o,direction:"horizontal",children:(0,p.jsxs)(l.Flex,{flex:!0,width:56,column:!0,overflow:{vertical:"hidden"},padding:[2,0],position:"relative",children:[(0,p.jsx)(Ge,{toggleSpacePanel:n}),(0,p.jsx)(l.Flex,{overflow:{vertical:"auto"},flex:!0,column:!0,children:(0,p.jsx)(Se,{})})]})})};var qe=n(29263),Je=n(32788),Ve=n(37846),Ze=n(62718),$e=n(14815),Ke=n(60908);const Xe=(0,Fe.A)((()=>Promise.all([n.e(1220),n.e(3864),n.e(8791),n.e(3185),n.e(1861)]).then(n.bind(n,53185)))),Qe={"data-testid":"addIntegrationModal"},eo={"data-testid":"addIntegration-header"},oo={"data-testid":"addIntegration-content",overflow:"hidden",hasFooter:!1,padding:[0],hasModalTitle:!1},no=e=>{let{title:o="Integrations",onClose:n}=e;return(0,p.jsx)(Ke.Ay,{feature:"IntegrationsModal",children:(0,p.jsxs)(Ve.GO,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:n,...Qe,children:[(0,p.jsx)(qe.z,{title:(0,p.jsx)(l.TextBig,{color:"textLite",children:o}),onClose:n,...eo||{}}),(0,p.jsx)(Je.Yv,{...oo||{},children:(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(Ze.H$,{}),children:(0,p.jsx)(Xe,{flavour:$e.D_.addNodesModal})})})]})})},to=(0,t.memo)((()=>{const[e,o]=(0,a.tF)("spacePanelCollapsed"),{isIntegrationsVisible:n,hideIntegrations:s}=He(),r=(0,t.useCallback)((()=>o(!e)),[e]);return(0,t.useLayoutEffect)((()=>{const e=setTimeout((()=>window.dispatchEvent(new Event("resize"))),400);return()=>clearTimeout(e)}),[e]),(0,p.jsxs)(l.Flex,{children:[(0,p.jsx)(je,{spacePanelCollapsed:e,toggleSpacePanel:r}),(0,p.jsx)(Ye,{spacePanelCollapsed:e,toggleSpacePanel:r}),n&&(0,p.jsx)(no,{onClose:s})]})}))}}]);