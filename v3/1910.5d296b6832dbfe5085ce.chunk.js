try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e2d1f369-c0ed-4696-92ff-cb2d300e1d0a",e._sentryDebugIdIdentifier="sentry-dbid-e2d1f369-c0ed-4696-92ff-cb2d300e1d0a")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[1910],{11910:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var l=a(96540),n=a(44245),s=a(19075),d=a(88255),o=a(62718),i=a(15920),r=a(86663);var c=a(87650),u=a(60959),h=a(74848);const x=()=>{const e=(()=>{const{alertId:e,...t}=(0,i.g)(),{search:a}=(0,i.zy)(),{transition:n}=r.parse(a),s=(0,l.useRef)(n||e),d=(0,i.Zp)();return(0,l.useEffect)((()=>{n&&n!==e&&d((0,i.tW)(`/spaces/:spaceSlug/rooms/:roomSlug/alerts/${n}`,t),{replace:!0})}),[e,n]),s.current})(),{name:t="unknown alert",fullyLoaded:a=!1}=(0,s.JL)(e),x=(0,s.x)();return(0,n.ZB)({title:t,id:e,destination:e,params:location.hash,type:"alerts",isReady:a}),x?(0,h.jsx)(d.A,{overflow:{vertical:"auto"},margin:[0,0,8],padding:[3],children:x&&(0,h.jsx)(u.A,{children:(0,h.jsx)(c.A,{alertId:e})})}):(0,h.jsx)(o.xh,{})}},60959:(e,t,a)=>{a.d(t,{A:()=>d});a(96540);var l=a(65258),n=a(10444),s=a(74848);const d=e=>{let{children:t}=e;return(0,n.J)()?(0,s.jsx)(l.Layer,{full:!0,children:(0,s.jsx)(l.Flex,{width:"100%",background:"mainBackground","data-testid":"mobileContainer",children:t})}):t}},87650:(e,t,a)=>{a.d(t,{A:()=>J});var l=a(65258),n=a(19075),s=a(62718),d=a(10444),o=a(19186),i=a(997),r=a(54042),c=a(9271),u=a(17829),h=a(96540),x=a(15920),g=a(42790),f=a(24013),m=a(33185);const p=(0,m.default)(l.Flex).attrs({alignItems:"center"}).withConfig({displayName:"styled__StyledButtonContainer",componentId:"sc-1glv09p-0"})(["position:sticky;bottom:0;"]);var j=a(52007),b=a(1390),w=a(3203),I=a(74848);const y=(0,w.A)(l.Button),v=e=>{let{disabled:t,nodeId:a,alertId:n,context:s,lastStatusChange:d,onClose:o,isLoading:i,small:r=!1,testid:c="alertDetailsModal"}=e;const u=(0,x.Zp)(),m=(0,f.Zl)(a),w=(0,h.useCallback)((()=>{o&&o(),u(m,n?{state:{alertId:n}}:{state:{contextToGo:s}})}),[m,n]),v=(0,g.rI)(),C=(0,h.useCallback)((()=>{const e=1e3*d,t=e-6e4;v((a=>({...a,highlight:{after:t,before:e},correlation:!0}))),w()}),[d,s,w,n]);return(0,I.jsx)(p,{justifyContent:"end",gap:2,children:(0,I.jsxs)(l.Flex,{gap:2,justifyContent:"end",children:[(0,I.jsx)(y,{small:r,label:"Run correlations",onClick:C,flavour:"hollow",isLoading:i,width:r?"112px":"170px","data-testid":`${c}-runCorrelations-button`,"data-ga":"alert-modal::click-run-correlations::alerts-view",payload:{action:"Run correlations",alertId:n,nodeId:a}}),(0,I.jsx)(y,{small:r,label:"Go to chart",onClick:w,flavour:"hollow",isLoading:i,disabled:i||t,width:r?"112px":"150px","data-testid":`${c}-goToNode-button`,"data-ga":"alert-modal::click-goto-chart::alerts-view",payload:{action:"Go to chart",alertId:n,nodeId:a}}),(0,I.jsx)(j.A,{alertId:n,nodeId:a,isLoading:i,small:r,"data-testid":`${c}-edit-alert-button`}),(0,I.jsx)(b.A,{alertId:n,small:!0,flavour:"hollow",popoverProps:{localStorageKey:"dissmiss-ask-ai-popover-alert-page"}})]})})},C=(0,h.memo)(v);var k=a(65502),A=a(75894);const L=e=>{let{alertId:t,context:a,name:n,nodeId:s,status:o,lastStatusChange:i,fullyLoaded:r,isWebview:c}=e;const u=(0,d.J)(),h=u?l.H4:l.H0;return(0,I.jsxs)(l.Flex,{column:!0,gap:4,children:[(0,I.jsxs)(l.Flex,{justifyContent:"between",children:[(0,I.jsxs)(l.Flex,{alignItems:"center",gap:2,children:[(0,I.jsx)(A.A,{margin:u?null:[.5,0,0],flavour:o,"data-testid":"alertView-statusPill",children:o}),(0,I.jsx)(h,{"data-testid":"alertView-alertName",children:n})]}),!1]}),(0,I.jsxs)(l.Flex,{justifyContent:"between",alignItems:"center",children:[(0,I.jsx)(k.A,{alertId:t}),!c&&r&&!u&&(0,I.jsx)(C,{lastStatusChange:i,alertId:t,context:a,name:n,nodeId:s,small:!0,testid:"alertView"})]})]})};var S=a(92318),F=a(60908);const T=m.default.img.withConfig({displayName:"sc-404__Illustration",componentId:"sc-4w81fg-0"})(["height:35%;width:35%;"]),V=m.default.div.withConfig({displayName:"sc-404__ButtonContainer",componentId:"sc-4w81fg-1"})(["margin:",";"],(0,l.getSizeBy)(4)),_=()=>{const e=`${S.A.assetsBaseURL}/img/no-nodes-room.svg`;return(0,I.jsx)(F.DL,{children:(0,I.jsxs)(l.Flex,{column:!0,alignItems:"center",justifyItems:"center",justifyContent:"center",height:"100%",width:"100%",padding:[0,0,"10%"],children:[(0,I.jsx)(T,{src:e,alt:"Unreachable alert",title:"Unreachable alert"}),(0,I.jsx)(l.H3,{children:"We couldn't find the alert"}),(0,I.jsx)(l.Text,{children:"This can be a temporary problem of that specific alert."}),(0,I.jsx)(V,{children:(0,I.jsx)(l.Button,{label:"Retry",icon:"reload"})})]})})};var B=a(77029),R=a(51262),N=a(12407);const D=e=>{let{children:t}=e;return(0,I.jsxs)(l.Flex,{background:"modalHeaderBackground",height:12,flex:!1,gap:4,padding:[0,2,0,4],alignItems:"center",children:[(0,I.jsx)(l.Icon,{name:"logo_s",color:"success",width:"23px"}),t]})},J=e=>{let{alertId:t,spaceId:a,roomId:h,isWebview:x,nodeName:g}=e;const f=(0,o.XA)("name"),{isNodeRestricted:m}=(0,R.A)(),{fullyLoaded:p=!1,fullyLoading:j=!0,info:b,units:w,lastStatusChangeValue:y,lastStatusChange:v,context:C,instance:k,name:A,nodeId:S,status:T,lastUpdated:V,value:J}=(0,n.JL)(t);(0,n.yk)(t,{spaceId:a,roomId:h});const E=(0,u.J4)(J,w),H=(0,u.J4)(y,w),U=(0,d.J)(),{restricted:W}=m(S);return W?(0,I.jsx)(F.Ay,{feature:"AlertDetailsViewRestricted",children:(0,I.jsx)(N.A,{})}):(0,I.jsx)(F.Ay,{feature:"AlertDetailsView",children:(0,I.jsxs)(l.Flex,{"data-testid":"alert-view-content",column:!0,width:U?"100%":{max:280},padding:U?null:[0,0,10],background:U?"modalBackground":null,children:[!x&&U&&(0,I.jsx)(D,{children:(0,I.jsxs)(l.Flex,{column:!0,children:[(0,I.jsx)(l.H6,{color:"textLite",children:"ROOM"}),(0,I.jsx)(l.Text,{"data-testid":"alertView-mobile-roomName",children:f})]})}),(0,I.jsxs)(l.Flex,{column:!0,padding:U?[3]:[0],overflow:U?"auto":"visible",gap:3,children:[(0,I.jsx)(L,{alertId:t,context:C,status:T,name:A,nodeId:S,lastStatusChange:v,fullyLoaded:p,isWebview:x}),p?null:j?(0,I.jsx)(s.h4,{}):(0,I.jsx)(_,{}),p&&b&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(r.A,{iconName:"documentation",children:"Alert Description"}),(0,I.jsx)(l.Text,{"data-testid":"alertView-info",children:b}),(0,I.jsx)(B.A,{alertId:t})]}),p&&(0,I.jsx)(i.A,{id:t,context:C,instance:k,formattedLastValue:E,formattedLastStatusChangeValue:H,lastStatusChange:v,lastUpdated:V,isFormattedValueLoaded:p,nodeId:S,status:T,testid:"alertView",spaceId:a,roomId:h}),p&&(0,I.jsx)(c.A,{id:t,nodeName:g,testid:"alertView"})]}),U&&(0,I.jsx)(l.Box,{position:"sticky",padding:[4],background:"modalBackground",bottom:0,border:{side:"top",color:"border"},children:(0,I.jsxs)(l.TextSmall,{children:["In order to ",(0,I.jsx)(l.TextSmall,{strong:!0,children:"Run Correlations"})," or"," ",(0,I.jsx)(l.TextSmall,{strong:!0,children:"View the Chart"})," you will have to visit this alert from its' dedicated page on a desktop device."]})})]})})}}}]);