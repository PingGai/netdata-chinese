try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b3f301a1-4d27-44b5-9446-fd000521a1ed",e._sentryDebugIdIdentifier="sentry-dbid-b3f301a1-4d27-44b5-9446-fd000521a1ed")}catch(e){}("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"6f1faf434b0a85eb183c91391b598f364a828f27"};(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[7782],{1444:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(40573),o=n(19186),s=n(76375),l=n(39175),a=n(96540);const i=()=>{const{isDemo:e}=(0,r.A)(),t=(0,o.ID)(),n=(0,l.tB)(t),{loaded:i,isPaid:c}=(0,s.A)();return{disabled:!i||!c||e||n,reason:(0,a.useMemo)((()=>{switch(!0){case n:return"LocalDashboard";case e:return"DemoSpace";case i&&!c:return"FreePlan";default:return null}}),[n,e,i,c])}}},2626:(e,t,n)=>{n.d(t,{l3:()=>c,Xt:()=>m,YS:()=>p});n(98992),n(8872);var r=n(57377),o=n(52035),s=n(34843),l=n(84929);const a=(0,o.eU)({}),i=[],c=(0,o.eU)((e=>{e(a)}),((e,t,n)=>t(a,n))),d=(0,l.Iz)((e=>(0,o.eU)((t=>t(a)[e]||i),((t,n,r)=>{n(a,(t=>({...t,[e]:[...r].sort(((e,t)=>e.id-t.id))})))})))),u=(0,l.Iz)((e=>(0,o.eU)((t=>{const n=t(a);return(e=e.length?e:Object.keys(n)).reduce(((e,t)=>[...e,...n[t]||[]]),[])}))),r.Ay),m=e=>(0,s.md)(d(e)),p=e=>(0,s.md)(u(e))},7761:(e,t,n)=>{n.d(t,{A$:()=>a,N3:()=>u,P9:()=>x,SW:()=>m,c8:()=>i,jg:()=>d,kf:()=>p,s6:()=>c,xs:()=>h});var r=n(34843),o=n(39870),s=n(24609),l=n(19186);const a=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.fp)((0,o.nr)({spaceId:e,roomId:t}))},i=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.md)((0,o.R8)({spaceId:e,roomId:t}))},c=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.Xr)((0,o.R8)({spaceId:e,roomId:t}))},d=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.md)((0,o.GK)({spaceId:e,roomId:t}))},u=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.Xr)((0,o.GK)({spaceId:e,roomId:t}))},m=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.md)((0,o.$n)({spaceId:e,roomId:t}))},p=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.Xr)((0,o.$n)({spaceId:e,roomId:t}))},x=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.md)((0,o._x)({spaceId:e,roomId:t}))},h=()=>{const e=(0,s.vt)(),t=(0,l.ID)();return(0,r.Xr)((0,o._x)({spaceId:e,roomId:t}))}},13473:(e,t,n)=>{n.d(t,{A:()=>i});n(98992),n(81454);var r=n(96540),o=n(65258),s=n(74848);const l=e=>{let{iconName:t,label:n,onClick:r,containerStyles:l,textStyles:a}=e;return(0,s.jsxs)(o.Flex,{"data-testid":"sidebar-icon-item",...l,column:!0,margin:[2,0],alignItems:"center",children:[(0,s.jsx)(o.Flex,{"data-testid":"sidebar-icon-item-wrapper",margin:[0,0,.5,0],alignItems:"center",onClick:r,cursor:"pointer",children:(0,s.jsx)(o.Icon,{name:t,color:"textLite",width:"18px",height:"18px"})}),(0,s.jsx)(o.TextMicro,{color:"text",...a,children:n})]})},a=e=>{let{onClickTab:t,availableTabs:n,tabsToShow:r,...a}=e;return(0,s.jsx)(o.Flex,{"data-testid":"collapsed-sidebar",column:!0,justifyContent:"center",...a,children:r.map(((e,r)=>{const{iconName:o,label:a}=n[e];return(0,s.jsx)(l,{containerStyles:{border:{size:"2px",type:"solid",color:"mainBackground",side:"left"}},textStyles:{color:"textLite"},onClick:()=>t(r),iconName:o,label:a},o)}))})},i=(0,r.memo)(a)},14806:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(96540),o=n(41514),s=n(65258),l=n(74848);class a extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){(0,o.H)("alert-error",{error:e.message,stack:t.componentStack,alertId:this.props.alertId})}handleRetry=()=>{this.setState({hasError:!1,error:null}),this.props.onRetry&&this.props.onRetry()};render(){return this.state.hasError?this.props.fallback||(0,l.jsx)(i,{onRetry:this.handleRetry,canRetry:!1!==this.props.canRetry,error:this.state.error}):this.props.children}}const i=e=>{let{onRetry:t,canRetry:n=!0,error:r}=e;return(0,l.jsxs)(s.Flex,{column:!0,alignItems:"center",justifyContent:"center",padding:[8],gap:4,children:[(0,l.jsx)(s.Icon,{name:"alert_triangle",size:"large",color:"error"}),(0,l.jsx)(s.Text,{size:"large",strong:!0,children:"Something went wrong"}),(0,l.jsx)(s.Text,{color:"textLite",children:"We're having trouble loading this alert"}),(0,l.jsxs)(s.Flex,{gap:2,children:[(0,l.jsx)(s.Button,{onClick:t,disabled:!n,children:n?"Try Again":"Max Retries Reached"}),(0,l.jsx)(s.Button,{flavour:"borderless",onClick:()=>window.location.reload(),children:"Reload Page"})]})]})},c=a},15992:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(33185),o=(n(96540),n(65258)),s=n(6304),l=n(73613),a=n(74848);const i=(0,r.default)(o.Icon).withConfig({displayName:"group__IconLink",componentId:"sc-9459pv-0"})(["&:hover{fill:",";}"],(0,o.getColor)("textDescription")),c=e=>e.stopPropagation(),d=e=>{let{children:t,isEnabled:n,link:r,onClick:s,open:l}=e;return(0,a.jsxs)(o.Flex,{alignItems:"center",justifyContent:"between",height:8,onClick:n?s:null,cursor:n?"pointer":"default",children:[(0,a.jsxs)(o.Flex,{gap:2,alignItems:"center",children:[(0,a.jsx)(o.TextSmall,{strong:!0,children:t}),r&&(0,a.jsx)(o.Flex,{as:"a",href:r,target:"_blank",onClick:c,children:(0,a.jsx)(i,{height:"13px",width:"13px",name:"documentation",size:"small",color:"placeholder"})})]}),n&&(0,a.jsx)(o.Icon,{name:"chevron_left",size:"small",color:"textLite",rotate:l?1:3})]})},u=(0,r.default)(o.Flex).withConfig({displayName:"group__StyledFlex",componentId:"sc-9459pv-1"})(["&:last-child{border:none;}"]),m=e=>{let{children:t,isEnabled:n=!0,link:r,name:i,noDataLabel:c,...m}=e;const[p,x]=(0,s.A)(!0),h=n?null:c;return(0,a.jsx)(l.A,{content:h,isBasic:!0,children:(0,a.jsxs)(u,{column:!0,border:{side:"bottom",color:"borderSecondary"},padding:[1,0,p?2:1],isEnabled:n,...m,children:[(0,a.jsx)(d,{isEnabled:n,open:p,onClick:x,link:r,children:i}),(0,a.jsx)(o.Collapsible,{column:!0,open:p,gap:1,children:t})]})})}},18283:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(96540),o=n(15992),s=n(65258),l=n(88307),a=n(74848);const i=e=>{let{node:t}=e;return(0,a.jsx)(o.A,{name:"Files",children:(0,a.jsxs)(s.Flex,{gap:1,padding:[0,1],alignItems:"center",children:[(0,a.jsx)(s.Box,{sx:{fontWeight:"500",letterSpacing:"1px"},as:s.Text,color:"textLite",children:"{;}"}),(0,a.jsx)(s.TextSmall,{children:"View node info in"}),(0,a.jsxs)(s.Flex,{cursor:"pointer",gap:1,onClick:(0,l.C)(JSON.stringify(t),{text:"JSON copied to clipboard"}),children:[(0,a.jsx)(s.TextSmall,{color:"primary",children:"json"}),(0,a.jsx)(s.Icon,{color:"primary",size:"small",name:"copy"})]})]})})},c=(0,r.memo)(i)},23208:(e,t,n)=>{n.d(t,{A:()=>g});n(98992),n(72577),n(81454);var r=n(96540),o=n(15920),s=n(65258),l=n(7761),a=n(24013),i=n(30403),c=n(31522),d=n(15992),u=n(51865),m=n(74848);const p=e=>{const t=Object.entries(i.j8).find((t=>{let[,n]=t;return n==e}))?.[0];return c.$S[t]||"offline"},x=e=>{let{id:t,hostname:n,status:l,flavour:i}=e;const c=(0,o.Zp)(),d=(0,a.Zl)(t),u="sidebar"==i,x=(0,r.useCallback)((()=>c(d)),[d]);return(0,m.jsxs)(s.Flex,{gap:2,justifyContent:"between",children:[(0,m.jsxs)(s.Flex,{gap:2,children:[(0,m.jsx)(s.Icon,{name:"dot",width:"8px",color:p(l)}),(0,m.jsx)(s.Text,{children:n})]}),u&&(0,m.jsx)(s.Icon,{name:"goToNode",color:"text",onClick:x,cursor:"pointer"})]},t)},h=e=>{let{nodes:t,flavour:n,limit:r=10}=e;return t=t||[],t.length?"sidebar"==n||t.length<=r?t.map((e=>(0,m.jsx)(x,{flavour:n,...e},e.id))):(0,m.jsxs)(s.Flex,{column:!0,gap:2,children:[t.slice(0,r).map((e=>(0,m.jsx)(x,{flavour:n,...e},e.id))),(0,m.jsxs)(s.Text,{color:"primary",children:[t.length-r," more items"]})]}):"-"},g=e=>{let{id:t,flavour:n="tooltip"}=e;const r=(0,l.c8)(),{loaded:o,nodes:a}=r||{},{children:i,parents:c}=a?.[t]||{};return o?"sidebar"==n?(0,m.jsxs)(d.A,{name:"Replication",children:[(0,m.jsx)(u.A,{size:"small",name:"Parents",children:(0,m.jsx)(h,{nodes:c,flavour:n})}),(0,m.jsx)(u.A,{size:"small",name:"Children",children:(0,m.jsx)(h,{nodes:i,flavour:n})})]}):(0,m.jsxs)(s.Flex,{column:!0,gap:2,children:[(0,m.jsxs)(s.Flex,{column:!0,gap:1,children:[(0,m.jsx)(s.Text,{children:"Parents"}),(0,m.jsx)(h,{nodes:c,flavour:n})]}),(0,m.jsxs)(s.Flex,{column:!0,gap:1,children:[(0,m.jsx)(s.Text,{children:"Children"}),(0,m.jsx)(h,{nodes:i,flavour:n})]})]}):null}},27784:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(96540),o=n(65258),s=n(78446),l=n(74848);const a=e=>{let{onToggle:t,icon:n="node_hollow",isOpen:r,title:a,...i}=e;return(0,l.jsx)(s.A,{dataTestId:"collapsed-header",iconClose:r?"arrow_w_line_right":"arrow_w_line_left",onClick:t,...i,children:r&&(0,l.jsxs)(o.Flex,{gap:2,alignItems:"center","data-testid":"sidebar-nodeName",children:[(0,l.jsx)(o.Icon,{name:n,color:"text",size:"small"}),(0,l.jsx)(o.TextSmall,{strong:!0,children:a})]})})},i=(0,r.memo)(a)},31522:(e,t,n)=>{n.d(t,{$S:()=>d,AZ:()=>p,Cc:()=>m,Hl:()=>h,Hn:()=>c,Ug:()=>s,XJ:()=>i,jZ:()=>a,nv:()=>l,q5:()=>u,vd:()=>g,w9:()=>r});const r={none:{label:"None",value:"none",canAddNodes:!0},status:{label:"Status",value:"status",canAddNodes:!1},os:{label:"OS",value:"os",canAddNodes:!0},version:{label:"Agent version",value:"version",canAddNodes:!1},technology:{label:"Technology",value:"technology",canAddNodes:!0},stability:{label:"Connection stability",value:"stability",canAddNodes:!1},replication:{label:"Replication factor",value:"replication",canAddNodes:!1},cloudProvider:{label:"Cloud provider",value:"cloudProvider",canAddNodes:!1},cloudRegion:{label:"Cloud region",value:"cloudRegion",canAddNodes:!1},instanceType:{label:"Instance type",value:"instanceType",canAddNodes:!1}},o={r_1:"None",r_2:"Single","r_*":"Multi"},s={replication:o},l=r.none,a=r.status,i=[l,r.status,r.os,r.technology,r.version,r.replication,r.cloudProvider,r.cloudRegion,r.instanceType],c=[a,r.stability,r.replication],d={live:"success",offline:"offline",stale:"stale",unseen:"unseen"},u={r_1:["blue","indigo"],r_2:["purple","lilac"],"r_*":["purple","lilacFocus"]},m={[r.status.value]:d,[r.stability.value]:{stable:"success",unstable:"error"},[r.replication.value]:u},p={[r.os.value]:e=>({group:e.os.nm,type:e.os.id}),[r.version.value]:e=>({group:e.version}),[r.status.value]:e=>({group:e.nodeStatus}),[r.technology.value]:e=>({group:e.technology,type:e.technology}),[r.replication.value]:e=>({group:e.replicationFactor}),[r.cloudProvider.value]:e=>({group:e.labels?.cloud_provider}),[r.cloudRegion.value]:e=>({group:e.labels?._cloud_instance_region}),[r.instanceType.value]:e=>({group:e.labels?._cloud_instance_type})},x={[r.replication.value]:e=>o[e],default:e=>e},h=e=>{const t=x[e];return t||x.default},g={isHover:!1,nodes:[]}},38800:(e,t,n)=>{n.d(t,{A:()=>l});n(96540);var r=n(77057),o=n(38823),s=n(74848);const l=e=>{let{baseKey:t,extraKey:n,testIdPrefix:l,groupProps:a,...i}=e;return(0,s.jsx)(o.A,{title:"Nodes",testIdPrefix:l,baseKey:t,extraKey:n,param:"selectedIds",defaultIsOpen:!1,help:"Select nodes individually. By selecting nodes in this filter, you bypass the rest of the filters.",...a,children:(0,s.jsx)(r.Ay,{baseKey:t,extraKey:n,itemProps:{padding:[1,1,1,.5]},searchMargin:[0,0,1],height:{max:"300px"},testIdPrefix:l,...i})})}},38823:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(62672),o=(n(96540),n(20982)),s=n(65258),l=n(42790),a=n(73613),i=n(65890),c=n(74848);const d=e=>{let{margin:t,title:n,testIdPrefix:d,baseKey:u,extraKey:m,baseExtraKey:p,param:x,paramFlavour:h="arr",children:g,multi:y=!0,defaultIsOpen:f=!0,border:v={side:"bottom",color:"borderSecondary"},required:b=!1,configElements:j,showCounter:I=!0,help:C,collapsible:A=!0,merge:k=!1,options:w,csvDownloadable:P=!0,...S}=e;const[K,N]=(0,l.N9)(x,{key:u,extraKey:m,flavour:h,merge:k}),[F,_]=(0,l.N9)(`isOpen-${x}`,{key:u,extraKey:p,flavour:"bool",defaultValue:f||!!K?.length});return(0,c.jsxs)(s.Flex,{"data-testid":`${d}-filter`,column:!0,padding:[2,0,0],border:v,...S,children:[(0,c.jsxs)(s.Flex,{justifyContent:"between",margin:!A||F?t:[0],gap:2,children:[(0,c.jsxs)(s.Flex,{alignItems:"center",gap:1,height:4.5,children:[b&&!K?.length&&(0,c.jsx)(s.Icon,{color:"error",name:"error",size:"small"}),(0,c.jsxs)(s.Flex,{alignItems:"center",gap:.5,onClick:()=>A?_(!F):void 0,cursor:"pointer",children:[(0,c.jsx)(s.TextSmall,{strong:!0,children:n}),!!C&&(0,c.jsx)(a.A,{align:"top",content:C,children:(0,c.jsx)(s.Flex,{children:(0,c.jsx)(s.Icon,{name:"question",color:"textLite",width:"12px",height:"12px"})})})]}),I&&!!K?.length&&(0,c.jsx)(s.Pill,{flavour:"neutral",hollow:!0,"data-testid":`${d}-selected-count`,tiny:!0,children:K?.length})]}),(0,c.jsxs)(s.Flex,{gap:1,alignItems:"center",children:[!b&&y&&(F||!F&&!!K?.length)&&(0,c.jsx)(a.A,{content:"Reset selections",align:"top",children:(0,c.jsx)(s.IconButton,{padding:[0],flavour:"borderless",onClick:e=>{e.stopPropagation(),N([])},"data-testid":`${d}-filter-resetAll`,neutral:!0,disabled:!K?.length,children:(0,c.jsx)(o.g,{icon:r.Df,size:"sm",alt:"Reset"})})}),"function"===typeof j?j({isOpen:F,collapsible:A}):j,F&&w&&P&&(0,c.jsx)(i.A,{title:n,options:w,testIdPrefix:d}),A&&(0,c.jsx)(s.Icon,{name:"chevron_left",size:"small",color:"textLite",rotate:F?1:3,onClick:()=>A?_(!F):void 0,cursor:"pointer"})]})]}),(0,c.jsx)(s.Collapsible,{open:!A||F,height:"100%",position:"relative",children:g})]})}},39870:(e,t,n)=>{n.d(t,{$n:()=>m,GK:()=>d,Ml:()=>a,R8:()=>i,_x:()=>x,jf:()=>c,nr:()=>l,ul:()=>u,ve:()=>p});var r=n(52035),o=n(84929),s=n(57377);const l=(0,o.Iz)((()=>(0,r.eU)(null)),s.Ay),a={loaded:!1,error:!1,nodes:{},replicationFactor:{},totalChildren:0,totalParents:0},i=(0,o.Iz)((()=>(0,r.eU)(a)),s.Ay),c={loaded:!1,error:!1,alerts:[],nodes:{critical:0,warning:0,total:0,hosts:{}}},d=(0,o.Iz)((()=>(0,r.eU)(c)),s.Ay),u={loaded:!1,error:!1,stability:{}},m=(0,o.Iz)((()=>(0,r.eU)(u)),s.Ay),p={loaded:!1,error:!1,dataRetention:[],metricsCollected:0},x=(0,o.Iz)((()=>(0,r.eU)(p)),s.Ay)},40573:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(96540),o=n(24609),s=n(92318);const{demoSlug:l}=s.A,a=()=>{const e=(0,o.bq)();return{isDemo:(0,r.useMemo)((()=>l===e),[e])}}},50959:(e,t,n)=>{n.d(t,{A:()=>C});n(98992),n(81454);var r=n(96540),o=n(65258),s=n(24013),l=n(2626),a=n(19075),i=n(42790),c=n(73613),d=n(79748),u=n(33185),m=n(15920),p=n(64587),x=n(3527),h=n(14681),g=n(74848);const y=(0,u.default)(o.Flex).withConfig({displayName:"alert__AlertContainer",componentId:"sc-ndxwzg-0"})(["transition:opacity 0.3s ease-in-out;&:hover{& ","{opacity:0.7;}}"],o.Text),f={overview:"overview",k8s:"kubernetes",singleNode:"nodes/:nodeId"},v=e=>{let{alert:t,onAlertClick:n,flavour:l}=e;const{value:a,instance:i,lastStatusChange:u,id:v,status:b,units:j,name:I,summary:C,nodeId:A}=t,k=(0,s.xY)(A,"name"),{localeTimeString:w,localeDateString:P}=(0,p.$j)(),S=(0,r.useMemo)((()=>{const e=new Date(1e3*u);return isNaN(e.valueOf())?"":`${P(e,{long:!1})} ${w(e,{secs:!1})}`}),[u,w,P]),K=(0,r.useCallback)((()=>{n({alertId:v})}),[]),N=(0,m.g)(),F=(0,m.Zp)(),_=(0,s.d3)(A,{alertId:v});return(0,g.jsxs)(y,{column:!0,padding:[4,0],gap:1,border:{color:"border",side:"bottom"},"data-testid":"alertItem","data-test-name":`alertItem-${I}`,children:[(0,g.jsxs)(o.Flex,{column:!0,children:[(0,g.jsx)(c.A,{plain:!0,content:C,isBasic:!0,children:(0,g.jsx)(o.Text,{strong:!0,"data-testid":"alertItem-alertName",children:I})}),(0,g.jsxs)(o.TextSmall,{wordBreak:"break-all","data-testid":"alertItem-chartId",children:[i," @"," ",(0,g.jsx)(h.A,{nodeId:A,extraKey:"alerts",onClick:_,Component:o.TextSmall,children:k})]})]}),(0,g.jsxs)(o.Flex,{alignItems:"center",justifyContent:"between",children:[(0,g.jsx)(x.A,{loaded:!0,status:b,units:j,value:a,flex:!1,"data-testid":"alertItem-alertValuePill"}),(0,g.jsx)(o.TextMicro,{color:"textLite","data-testid":"alertItem-alertDate",children:S})]}),(0,g.jsxs)(o.Flex,{gap:1,children:[!!f[l]&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.A,{Component:o.TextMicro,onClick:()=>{F((0,m.tW)(`/spaces/:spaceSlug/rooms/:roomSlug/${f[l]}`,N),{replace:!0,state:{alertId:v}})},children:"Plot on chart"}),(0,g.jsx)(o.TextMicro,{color:"textLite",children:"\u2022"})]}),(0,g.jsx)(d.A,{Component:o.TextMicro,onClick:K,children:"Show info"})]})]})};var b=n(66570);const j=(e,t)=>e.status===t.status?0:"critical"===e.status?-1:1,I={nodesView:!0},C=e=>{let{nodeIds:t,flavour:n}=e;const[u,m]=(0,i.r$)("sidebarNodeId",{flavour:"val",extraKey:n}),p=(0,s.xY)(u),x=(0,l.YS)(u?[u]:t),h=(0,a.Gq)(x),y=(0,r.useMemo)((()=>[...h].sort(j)),[h]),[f,C,,A]=(0,b.A)(),k=h.length?`(${h.length})`:"";return(0,g.jsxs)(o.Flex,{width:"100%",column:!0,overflow:"hidden",children:[(0,g.jsxs)(o.Flex,{column:!0,gap:5,padding:[2],children:[(0,g.jsxs)(o.Flex,{column:!0,children:[(0,g.jsx)(c.A,{content:"Currently Active alerts",align:"bottom",children:(0,g.jsxs)(o.TextBig,{strong:!0,"data-testid":"nodeAlertsView-activeAlerts-header",children:["Alerts ",k]})}),!!I[n]&&(0,g.jsxs)(o.TextMicro,{children:["Showing ",p.id?(0,g.jsx)(o.TextMicro,{strong:!0,children:p.name}):"room"," alerts"," ",!!p.id&&(0,g.jsxs)(g.Fragment,{children:[" ","-"," ",(0,g.jsx)(d.A,{Component:o.TextMicro,onClick:()=>m(""),children:"Show all"})]})]})]}),!h.length&&(0,g.jsxs)(o.Flex,{column:!0,gap:8,padding:[0,5],"data-testid":"nodesAlertsView-blankSlate",alignItems:"center",children:[(0,g.jsx)(o.Icon,{name:"checkmark",width:"90px",height:"90px"}),(0,g.jsxs)(o.H4,{textAlign:"center",children:[1!==t.length?"No":"This node has no"," active alerts, you are all good!"]})]})]}),(0,g.jsx)(o.Flex,{column:!0,overflow:{vertical:"auto"},padding:[0,2],children:y.map((e=>(0,g.jsx)(v,{alert:e,onAlertClick:C,flavour:n},e.id)))}),f&&A]})}},51865:(e,t,n)=>{n.d(t,{A:()=>l});n(96540);var r=n(65258),o=n(20982),s=n(74848);const l=e=>{let{children:t,iconName:n,faIcon:l,name:a,size:i,testId:c="entry-line-text-container",row:d=!1,...u}=e;const m="small"===i?r.TextSmall:r.Text,p="undefined"!==typeof t&&null!==t;return(0,s.jsxs)(r.Flex,{alignItems:"start","data-testid":"entry-line",children:[(!!n||!!l)&&(0,s.jsx)(r.Flex,{"data-testid":"entry-line-icon-container",padding:[0,1,0,0],color:"textLite",children:l&&"object"===typeof l?(0,s.jsx)(o.g,{icon:l,alt:n}):(0,s.jsx)(r.Icon,{color:"textLite","data-testid":"entry-line-icon",name:n,width:"16px",height:"16px"})}),(0,s.jsxs)(r.Flex,{column:!d,alignItems:"start","data-testid":c,gap:.5,...u,children:[(0,s.jsxs)(m,{"data-testid":"entry-line-text-label",whiteSpace:"nowrap",color:"textDescription",children:[a,p&&": "]}),p&&(0,s.jsx)(r.TextSmall,{color:"textDescription","data-testid":"entry-line-text-value",strong:!0,children:t})]})]})}},52253:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var r=n(65258),o=n(49181),s=n(82103),l=n(74848);const a=e=>{let{children:t,badge:n,enabled:a,name:i,onClick:c,...d}=e;const u=(0,o.lw)(a);return(0,l.jsx)(s.A,{badge:n,"data-testid":`node-${n}-status`,status:u.status,nodeName:i,...d,children:(0,l.jsxs)(r.Flex,{alignItems:"center",gap:1,onClick:a?c:void 0,cursor:a&&c?"pointer":"default","data-ga":`nodes-list::click-capability::${u.label}`,children:[t,(0,l.jsx)(r.Pill,{flavour:u.flavour,size:"small",children:u.label})]})})}},54583:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(33185),o=n(65258);const s=(0,r.default)(o.Flex).attrs((e=>({as:"ul",width:"100%",role:"complementary",column:!0,overflow:{vertical:"auto"},"data-sidebar":"true",position:"relative",...e}))).withConfig({displayName:"wrapper__MenuWrapper",componentId:"sc-14s4jb2-0"})([""])},54822:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(96540),o=n(33185),s=n(65258),l=n(42790),a=n(43375),i=n(61710),c=n(74848);const d=(0,o.default)(s.IconButton).attrs({icon:"resize_handler",padding:[0],position:"absolute",bottom:0,right:0,hoverColor:"textDescription",width:"14px",height:"14px"}).withConfig({displayName:"resizer__ResizeButton",componentId:"sc-t6cbeb-0"})(["&&{cursor:ns-resize;}"]),u=e=>{let{param:t,extraKey:n,children:o}=e;const[s,u]=(0,l.r$)(`${t}-size`,{extraKey:n,flavour:"val",defaultValue:null}),m=(0,r.useRef)(),[p,x]=(0,r.useState)(null);(0,a.E5)((0,r.useMemo)((()=>({onDragStart:e=>{let{active:n}=e;n.id===`${t}-resizer-handle`&&x(m.current.clientHeight)},onDragMove:e=>{let{active:n}=e;if(n.id===`${t}-resizer-handle`&&n.rect?.current){const{initial:e,translated:t}=n.rect.current;u(Math.max(p+(0,i.sd)(t.bottom-e.bottom),0))}},onDragEnd:e=>{let{active:n}=e;n.id===`${t}-resizer-handle`&&x(null)},onDragCancel:e=>{let{active:n}=e;n.id===`${t}-resizer-handle`&&(u(p),x(null))}}))),[]);const{attributes:h,listeners:g,setNodeRef:y}=(0,a.PM)({id:`${t}-resizer-handle`,data:{}});return o({containerRef:m,height:s,resizer:(0,c.jsx)(d,{ref:y,...g,...h,onDoubleClick:()=>u(null),tooltip:s?"Drag to resize. Double click to reset.":"Drag to resize"})})}},56473:(e,t,n)=>{n.d(t,{JO:()=>I,PP:()=>j,QD:()=>b,hv:()=>y,qr:()=>v});n(98992),n(72577),n(81454),n(8872),n(37550);var r=n(96540),o=n(34843),s=n(42790),l=n(24609),a=n(19186),i=n(87083),c=n(77679),d=n(51262),u=n(6196),m=n(19075);const p=e=>(e=Array.isArray(e)?e:[e],(t,n)=>!Array.isArray(n)||!n?.length||e.some((e=>((e,t)=>{if(!e||!t)return!1;t=Array.isArray(t)?t:[t];for(let n=0;n<=t.length;n++){if(e.includes(t[n]))return!0;break}return!1})(n,t[e])))),x={alertStatuses:p("status"),alertNames:p("name"),alertContexts:p(["context","contexts"]),alertClasses:p(["class","classes"]),alertComponents:p(["component","components"]),alertTypes:p(["type","types"]),alertRoles:p(["recipient","recipients"]),alertTypeComponents:(e,t)=>!Array.isArray(t)||!t.length||t.includes(`${e.type}|${e.component}`),nodeIds:p(["nodeId","nodeIds"]),selectedNodeIds:p(["nodeId","nodeIds"])},h=e=>{let{roomId:t,key:n,extraKey:o,omit:l}=e;const a=(0,s.rW)(null,{key:n||t,extraKey:o,flavour:"arr"}),c=(0,s.rW)(null,{key:n||t,flavour:"arr"});let d=(0,r.useMemo)((()=>Object.keys(a).map((e=>[e,l&&l.split(":::").includes(e)?c[e]:a[e]]))),[a,l]);const u=(0,i.w7)({key:n||t,extraKey:o,omit:l,keepAll:!1,merge:!1,scoped:!0});return(0,r.useMemo)((()=>(l&&l.includes("selectedNodeIds")||!u?.length||(d.find((e=>"nodeIds"===e[0]))?d=d.map((e=>"nodeIds"===e[0]?[e[0],u]:e)):d.push(["nodeIds",u])),(e=>t=>!e.some((e=>{let[n,r]=e;return!!x[n]&&!x[n](t,r)})))(d))),[d,l,u])},g=function(e){let{nodeId:t,keepAll:n,checkAlert:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isNodeRestricted:s,loaded:l}=(0,d.A)();return(0,r.useMemo)((()=>e.reduce(((e,r)=>(t&&r.nodeId!==t||s(r.nodeId).restricted||(o(r)?e.push(r):n&&e.push({...r,hidden:!0})),e)),[])),[t,e,n,l,o])},y={alertStatuses:{critical:0,warning:0},alertClasses:{Errors:0,Latency:0,Utilization:0,Workload:0}},f={critical:0,warning:1},v={alertStatuses:(e,t)=>f[e.id]-f[t.id],default:(e,t)=>e.id.localeCompare(t.id,void 0,{sensitivity:"accent",ignorePunctuation:!0})},b=function(){let{extraKey:e,omit:t,keepAll:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,a.ID)(),[o,s]=(0,c.w)(),l=h({key:o?s:r,extraKey:e,roomId:r,omit:t}),i=(0,m.SU)(r);return g(i,{keepAll:n,checkAlert:l})},j=function(){let{extraKey:e,omit:t,keepAll:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,l.vt)(),s=(0,a.ID)(),[i,d]=(0,c.w)(),m=h({key:i?d:s,extraKey:e,roomId:s,omit:t}),p=(0,o.md)((0,u.xz)({spaceId:r,roomId:s}));return g(p,{keepAll:n,checkAlert:m})},I=e=>{let{extraKey:t,alertName:n,nodeId:r,omit:s,keepAll:i=!1}=e;const d=(0,l.vt)(),m=(0,a.ID)(),[p,x]=(0,c.w)(),y=h({key:p?x:m,extraKey:t,roomId:m,omit:s});let f=(0,o.md)((0,u._v)({spaceId:d,roomId:m,name:n}));return g(f,{keepAll:i,checkAlert:y,nodeId:r})}},56876:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(96540),o=n(63950),s=n.n(o),l=n(69457),a=n(4719),i=n(33962),c=n(50239);const d=e=>(t,n)=>{const r=t.querySelector(n);r&&e(r)},u="scrollIntoViewIfNeeded"in document.body?d((e=>e.scrollIntoViewIfNeeded(!0))):d((e=>e.scrollIntoView({block:"center"}))),m=function(){let{onMenuClick:e=s(),onChartNameChange:t,initialChartName:n,linkToGo:o,contextToGo:d,loaded:m=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const p=(0,l.NF)(),x=(0,c.UH)(),h=(0,a.yy)(),g=(0,i.Ud)(),y=(0,r.useRef)(n);(0,r.useLayoutEffect)((()=>{m&&x&&o&&!y.current&&x.goToLink(o)}),[x,o]),(0,r.useLayoutEffect)((()=>{m&&x&&d&&!y.current&&x.goToElement(d,{leaf:!0})}),[x,d]);const f=(0,r.useCallback)((e=>{g(e),u(p,`[data-sidebar="true"] [data-sidebar-menuid="${e}"]`),e&&h[e]&&t?.(h[e].link)}),[h]),v=(0,i.W2)();(0,r.useLayoutEffect)((()=>{u(p,`[data-sidebar="true"] [data-sidebar-menuid="${v}"]`)}),[v]),(0,r.useLayoutEffect)((()=>{m&&y.current&&x&&x.goToLink(n)&&(y.current=null)}),[x]);const b=(0,r.useCallback)((function(){let{id:t,event:n,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n&&n.preventDefault(),x&&(x.goToElement(t,{leaf:!0}),e({id:t,...r}))}),[x]);return{setActiveMenuId:f,onMenuClick:b}}},64007:(e,t,n)=>{n.d(t,{V$:()=>y,b1:()=>g,H5:()=>v,Ay:()=>I});n(98992),n(54520),n(3949),n(81454),n(37550),n(25509),n(65223),n(60321),n(41927),n(11632),n(64377),n(66771),n(12516),n(68931),n(52514),n(35694),n(52774),n(49536),n(21926),n(94483),n(16215);var r=n(96540),o=n(63950),s=n.n(o),l=n(33185),a=n(42790),i=n(65258),c=n(54924),d=n(73613),u=n(68531);n(8872);const m=e=>{let{collection:t,selected:n,getValue:r,getLabel:o,itemsProps:s,multi:l,sortBy:a}=e;if(!t.length)return[];const i=l&&t.length<=n.length,c=l&&!i&&!!n.length;let d=t;const u=(e=>({"num-asc":(e,t)=>String(e.pill_raw||e.pill||e.actualCount||e.count||0).localeCompare(String(t.pill_raw||t.pill||t.actualCount||t.count||0),void 0,{sensitivity:"accent",ignorePunctuation:!0,numeric:!0}),"num-desc":(e,t)=>String(t.pill_raw||t.pill||t.actualCount||t.count||0).localeCompare(String(e.pill_raw||e.pill||e.actualCount||e.count||0),void 0,{sensitivity:"accent",ignorePunctuation:!0,numeric:!0}),"alpha-asc":(t,n)=>String(e(t)).localeCompare(String(e(n)),void 0,{sensitivity:"accent",ignorePunctuation:!0,numeric:!0}),"alpha-desc":(t,n)=>String(e(n)).localeCompare(String(e(t)),void 0,{sensitivity:"accent",ignorePunctuation:!0,numeric:!0}),none:!1}))(o)[a||"alpha-asc"];return u&&(d=d.sort(u)),d.reduce(((e,t)=>{const l=n.includes(r(t));return[...e,{...s.row,...t,value:r(t),label:o(t),selected:l}]}),l?[{...s.head,label:"Select all",value:t.map(r),selected:i,indeterminate:c}]:[])};var p=n(54822),x=n(74848);const h=e=>e?e[0].toUpperCase()+e.slice(1):"Unknown",g=(0,l.default)(i.Flex).attrs((e=>({as:"li",role:"option",padding:[1,2],gap:1,justifyContent:"between",width:"100%",...e}))).withConfig({displayName:"checkboxes__ItemContainer",componentId:"sc-1vef46u-0"})(["cursor:",";opacity:",";align-items:",";background-color:",";transition:background-color 0.2s ease;&:hover{background-color:",";}",""],(e=>{let{disabled:t}=e;return t?"default":"pointer"}),(e=>{let{stale:t,disabled:n,selected:r}=e;return!t&&!n||r?1:.6}),(e=>{let{alignItems:t}=e;return t||"center"}),(e=>{let{isPending:t}=e;return t?"rgba(255, 193, 7, 0.2)":"transparent"}),(e=>{let{isPending:t,theme:n}=e;return t?"rgba(255, 193, 7, 0.3)":n.colors.secondaryHighlight}),(e=>{let{multi:t,selected:n,theme:r}=e;return!t&&n&&`\n    background-color: ${(e=>{let{theme:t}=e;const{name:n}=t;return("Dark"===n?(0,i.getRgbColor)(["green","green20"]):(0,i.getRgbColor)(["green","green170"]))({theme:t})})({theme:r})};\n  `})),y=(0,l.default)(i.MenuDropdown).attrs((e=>({background:"",hideShadow:!0,height:{max:"300px"},width:{max:"600px"},overflow:"auto",...e}))).withConfig({displayName:"checkboxes__CheckboxesContainer",componentId:"sc-1vef46u-1"})(["-webkit-user-select:none;-ms-user-select:none;user-select:none;"]),f=e=>e,v={itemProps:{padding:[1,.5],multi:!0},itemsProps:{head:{textColor:"textLite"},row:{textColor:"text"}},Item:e=>{let{item:t,onItemClick:n,itemProps:r,...o}=e;const{value:l,disabled:a,onClick:u,label:m,selected:p,excluded:y,indeterminate:f,textColor:v,iconName:b,count:j,countLabel:I="results",actualCount:C,actualCountLabel:A,pill:k,info:w,level:P=0,stale:S,isPending:K,...N}=t,{capitalized:F}=r,{multi:_}=r,M=a||!_&&p,T=e=>{a||(u&&u(e),n({value:l,label:m,checked:!p,item:t}))};return(0,x.jsxs)(g,{"aria-selected":p,selected:p,disabled:M,stale:0===j||"0"===j||S||y,isPending:K,...N,...o,...r,"data-testid":`${r.testIdPrefix}-filters-item`,children:[(0,x.jsx)(i.Flex,{gap:2,alignItems:"center",padding:[0,0,0,4*P],width:"100%",overflow:"hidden",children:_?(0,x.jsx)(i.Checkbox,{"data-testid":`${r.testIdPrefix}-filters-checkbox-${m}`,checked:p,disabled:M,indeterminate:f,onChange:T,label:(0,x.jsxs)(i.Flex,{gap:1,alignItems:"center",width:"100%",children:[b&&(0,x.jsx)(i.Icon,{name:b,size:"small",color:"textLite"}),(0,x.jsx)(c.default,{Component:i.TextSmall,text:"string"===typeof m&&F?h(m):m.toString(),color:v})]})}):(0,x.jsx)(i.Flex,{flex:!0,gap:1,padding:[0,1],alignItems:"center",onClick:p?s():T,"data-testid":`${r.testIdPrefix}-filters-item-${m}`,children:(0,x.jsx)(c.default,{Component:i.TextSmall,text:"string"===typeof m&&F?h(m):m.toString(),color:v})})}),(!isNaN(j)||/%/.test(j||"")||k)&&(0,x.jsx)(d.A,{align:"top",content:w||(C?`${C} ${A} aggregated in ${j} ${I}`:`${j} ${I}`),children:(0,x.jsxs)(i.Pill,{flavour:"neutral",hollow:!0,"data-testid":`${r.testIdPrefix}-filters-${m}-count`,size:"small",children:[!!C&&(0,x.jsxs)(i.TextSmall,{children:[C," \u2283\xa0"]}),(0,x.jsx)(i.TextSmall,{children:(k||j).toString()})]})})]})},getValue:f,getLabel:f},b=[],j=(0,r.memo)((0,r.forwardRef)(((e,t)=>{let{baseKey:o,extraKey:s,paramFlavour:l="arr",param:i,Item:c=v.Item,testIdPrefix:d,collection:h,getValue:g=v.getValue,getLabel:f=v.getLabel,itemsProps:j=v.itemsProps,itemProps:I=v.itemProps,capitalized:C=!0,multi:A=!0,merge:k=!1,sortBy:w,baseExtraKey:P,resizeable:S,debounceDelay:K,batchMode:N="immediate",batchDelay:F=300,onBatchApply:_,hasSearch:M="auto",...T}=e;const[L,D]=(0,a.N9)(i,{defaultValue:b,key:o,extraKey:s,flavour:l,merge:k}),[z,B]=(0,r.useState)(L||[]),[R,$]=(0,r.useState)(new Set);(0,r.useEffect)((()=>{0===R.size&&B(L||[])}),[L,R.size]);const q=(0,r.useCallback)((()=>{R.size>0&&(D(z),$(new Set),_?.(z))}),[z,R.size,D,_]),V=(0,r.useCallback)((()=>{B(L),$(new Set)}),[L]);(0,r.useEffect)((()=>{if(!h.length||!z.length)return;const e=z.filter((e=>h.some((t=>g(t)===e))));e.length!==z.length&&B(e)}),[h.length,z,g]);const O=(0,r.useCallback)((e=>{let{value:t,checked:n}=e;const r=A?Array.isArray(t)?n?t:[]:n?[...z,t]:z.filter((e=>e!==t)):n?[t]:[];B(r);const o=new Set(R),s=L||[];Array.isArray(t)?t.forEach((e=>{s.includes(e)!==r.includes(e)?o.add(e):o.delete(e)})):s.includes(t)!==r.includes(t)?o.add(t):o.delete(t),$(o),"immediate"===N&&(D(r),$(new Set))}),[z,L,A,N,D,R]);(0,u.A)((()=>{"time"===N&&R.size>0&&q()}),F,[q,N,R.size]),(0,r.useImperativeHandle)(t,(()=>({applyChanges:q,cancelChanges:V,hasPendingChanges:R.size>0})),[q,V,R.size]);const H=(e=>{let{collection:t,selected:o,getValue:s,getLabel:l,itemsProps:a,multi:i,sortBy:c,debounceDelay:d=300}=e;const[p,x]=(0,r.useState)([]),h=(0,r.useRef)(!1),g=(0,r.useRef)(null),y=(0,r.useCallback)((()=>{if(g.current&&g.current.terminate(),t.length<1e4){const e=m({collection:t,selected:o,getValue:s,getLabel:l,itemsProps:a,multi:i,sortBy:c});x(e)}else g.current=new Worker(new URL(n.p+n.u(271),n.b)),g.current.postMessage({collection:t,sortBy:c}),g.current.onmessage=e=>{if(h.current)return;const t=e.data,n=m({collection:t,selected:o,getValue:s,getLabel:l,itemsProps:a,multi:i,sortBy:"none"});x(n)}}),[t,o,s,l,a,i,c]);return 0===d?(0,r.useEffect)((()=>{y()}),[y]):(0,u.A)(y,d,[y]),(0,r.useEffect)((()=>()=>{h.current=!0,g.current&&g.current.terminate()}),[]),p})({collection:h,selected:z,getValue:g,getLabel:f,itemsProps:j,multi:A,sortBy:w,debounceDelay:K}),E=H.map((e=>{const t=R.has(e.value)||Array.isArray(e.value)&&e.value.some((e=>R.has(e)));return{...e,isPending:t}}));return S?(0,x.jsx)(p.A,{param:i,extraKey:P,children:e=>{let{height:t,resizer:n,containerRef:r}=e;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y,{containerRef:r,"data-testid":`${d}-filter-selections`,items:E,Item:c,onItemClick:O,value:z,"data-value":z.join(",")||"all-selected",hasSearch:"auto"===M?h.length>5:M,searchMargin:[0,0,1],itemProps:{...I,testIdPrefix:d,capitalized:C,multi:A},...T,...null!==t&&{height:`${t}px`}}),n]})}}):(0,x.jsx)(y,{"data-testid":`${d}-filter-selections`,items:E,Item:c,onItemClick:O,value:z,"data-value":z.join(",")||"all-selected",hasSearch:"auto"===M?h.length>5:M,searchMargin:[0,0,1],itemProps:{...I,testIdPrefix:d,capitalized:C,multi:A},...T})}))),I=j},65890:(e,t,n)=>{n.d(t,{A:()=>l});n(98992),n(8872),n(96540);var r=n(65258),o=n(73613),s=n(74848);const l=e=>{let{title:t,options:n,testIdPrefix:l}=e;return(0,s.jsx)(o.A,{content:"Download as CSV",align:"top",children:(0,s.jsx)(r.IconButton,{padding:[0],flavour:"borderless",icon:"download",width:"12px",height:"12px",onClick:e=>{e.stopPropagation();const r=n.reduce(((e,t)=>`${e}\n${t.name??t.id},${t.pill??t.count??"-"}`),`${t},value`),o=window.URL.createObjectURL(new Blob([r],{type:"text/csv;charset=utf-8;"})),s=document.createElement("a");s.href=o;const l=`${t}-values.csv`;s.setAttribute("download",l),document.body.appendChild(s),s.click(),s.remove()},"data-testid":`${l}-filter-download-csv`,tiny:!0,neutral:!0})})}},66570:(e,t,n)=>{n.d(t,{A:()=>F});var r=n(96540),o=n(98591),s=n(65258),l=n(19075),a=n(32788),i=n(29263),c=n(75894),d=n(9271),u=n(997),m=n(17829),p=n(74848);const x=(0,r.memo)((e=>{let{id:t}=e;const{fullyLoaded:n,nodeId:r,instance:o,lastStatusChangeValue:s,lastStatusChange:a,units:i,context:c,value:d,lastUpdated:x,status:h}=(0,l.JL)(t),g=(0,m.J4)(d,i),y=(0,m.J4)(s,i);return(0,p.jsx)(u.A,{instance:o,context:c,formattedLastValue:g,formattedLastStatusChangeValue:y,lastStatusChange:a,lastUpdated:x,isFormattedValueLoaded:"clear"===h||n,nodeId:r,status:h,testid:"alertDetailsModal"})}));var h=n(24609),g=n(19186),y=n(15920),f=n(3319);const v=e=>{let{alertId:t,testid:n}=e;const o=`/spaces/${(0,h.bq)()}/rooms/${(0,g.QW)()}/alerts/${t}`,l=(0,y.Zp)(),{sendButtonClickedLog:a,isReady:i}=(0,f.A)(),c=(0,r.useCallback)((e=>{e.preventDefault(),a({dataGa:`${n}::view-alert-button`}).finally((()=>{l(o)}))}),[l,o,i]);return(0,p.jsx)(s.Button,{"data-testid":`${n}-view-alert-button`,"data-ga":`${n}::view-alert-button`,href:o,onClick:c,label:"View alert page"})};var b=n(1390),j=n(54042),I=n(65502),C=n(77029),A=n(12407),k=n(51262),w=n(62718),P=n(14806),S=n(60908);const K=e=>{let{alertId:t,onClose:n}=e;const{isNodeRestricted:o}=(0,k.A)(),{name:u="unknown alert",status:m,fullyLoaded:h,info:g,nodeId:y}=(0,l.JL)(t);(0,l.yk)(t);const{restricted:f}=o(y);return(0,p.jsx)(S.Ay,{mode:"AlertDetailsModal",children:(0,p.jsxs)(a.GO,{onClose:n,children:[(0,p.jsx)(i.z,{onClose:n,title:u,"data-testid":"alertDetailsModal-alertName",children:(0,p.jsx)(c.A,{flavour:m,icon:"alarm_bell","data-testid":"alertDetailsModal-alertPill",children:m})}),h?f?(0,p.jsx)(A.A,{flavour:"alert"}):(0,p.jsxs)(P.A,{children:[(0,p.jsxs)(a.Yv,{overflow:{vertical:"auto"},hasModalTitle:!1,gap:2,hasFooter:!0,children:[(0,p.jsx)(j.A,{iconName:"monitoring",iconSize:"20px",children:"Time Values"}),(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(w.au,{}),children:(0,p.jsx)(I.A,{alertId:t})}),(0,p.jsx)(j.A,{iconName:"documentation",children:"Alert Description"}),(0,p.jsx)(s.Text,{"data-testid":"alertDetailsModal-info",children:g}),(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(w.au,{}),children:(0,p.jsx)(C.A,{alertId:t})}),(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(w.au,{}),children:(0,p.jsx)(x,{id:t})}),(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(w.au,{}),children:(0,p.jsx)(d.A,{id:t})})]}),(0,p.jsxs)(a.CG,{gap:3,children:[(0,p.jsx)(b.A,{alertId:t,flavour:"hollow"}),(0,p.jsx)(v,{alertId:t,testid:"alertDetailsModal"})]})]}):(0,p.jsx)(w.au,{})]})})},N=e=>{let{alertId:t,onClose:n}=e;return(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(w.au,{}),children:(0,p.jsx)(K,{alertId:t,onClose:n})})},F=()=>{const[e,,t,n,s]=(0,o.A)("alertDetailsModal"),l=(0,r.useCallback)((e=>{let{alertId:n}=e;t("",{alertId:n})}),[]),a=(0,r.useMemo)((()=>(0,p.jsx)(N,{onClose:n,...s})),[s]);return[e,l,n,a]}},67782:(e,t,n)=>{n.d(t,{kO:()=>Re,Ay:()=>We});n(98992),n(54520),n(81454);var r=n(96540),o=n(33185),s=n(65258),l=n(42790),a=n(81683),i=n(13473),c=n(27784),d=n(78446),u=n(24013),m=n(51865),p=n(19186),x=n(94413),h=n(76609),g=n(23208),y=n(96768),f=n(76522),v=n(15992);const b=[{name:"MySQL",title:"MySQL",iconName:"serviceMySQL",logoFilename:"mysql.svg",category:"Databases",collectors:["python.d.plugin:mysql","go.d.plugin:mysql"],contexts:["mysql.queries","mysql.net","mysql.connections"],priority:1},{name:"MariaDB",title:"MariaDB",iconName:"serviceMariaDB",logoFilename:"mariadb.svg",category:"Databases",collectors:["python.d.plugin:mysql","go.d.plugin:mysql"],contexts:["mysql.queries","mysql.net","mysql.connections"],priority:2},{name:"Oracle Database",title:"Oracle Database",iconName:"osOracle",logoFilename:"oracle.svg",category:"Databases",collectors:["python.d.plugin:oracledb"],contexts:["oracledb.session_count","oracledb.physical_disk_read_writes","oracledb.tablespace_usage_in_percent"],priority:3},{name:"PostgreSQL",title:"PostgreSQL",iconName:"servicePostgreSQL",logoFilename:"postgresql.svg",category:"Databases",collectors:["python.d.plugin:postgres"],contexts:["postgres.checkpointer","postgres.archive_wal","postgres.db_size"],priority:4},{name:"MongoDB",title:"MongoDB",iconName:"serviceMongoDB",logoFilename:"mongodb.svg",category:"Databases",collectors:["python.d.plugin:mongodb"],contexts:["mongodb.active_clients","mongodb.read_operations","mongodb.write_operations"],priority:5},{name:"ElasticSearch",title:"ElasticSearch",iconName:"serviceElasticSearch",logoFilename:"elasticsearch.svg",category:"Databases",collectors:["python.d.plugin:elasticsearch"],contexts:["elastic.search_performance_total","elastic.index_performance_total","elastic.index_segments_memory"],priority:6},{name:"CouchDB",title:"CouchDB",iconName:"serviceCouchDB",logoFilename:"couchdb.svg",category:"Databases",collectors:["python.d.plugin:couchdb"],contexts:["couchdb.activity","couchdb.response_codes"],priority:7},{name:"Proxy SQL",title:"Proxy SQL",iconName:"serviceProxySQL",logoFilename:"proxysql.svg",category:"Databases",collectors:["python.d.plugin:proxysql"],contexts:["proxysql.questions","proxysql.pool_status","proxysql.pool_overall_net"],priority:8},{name:"Redis",title:"Redis",iconName:"serviceRedis",logoFilename:"redis.svg",category:"Databases",collectors:["python.d.plugin:redis"],contexts:["redis.operations","redis.net","redis.connections"],priority:9},{name:"MemCached",title:"MemCached",iconName:"serviceMemCached",logoFilename:"memcached.svg",category:"Databases",collectors:["python.d.plugin:memcached"],contexts:["memcached.cache","memcached.net","memcached.connections"],priority:10},{name:"RethinkDB",title:"RethinkDB",iconName:"serviceRethinkDB",logoFilename:"rethinkdb.svg",category:"Databases",collectors:["python.d.plugin:rethinkdbs"],contexts:["rethinkdb.cluster_queries","rethinkdb.cluster_clients_active","rethinkdb.cluster_connected_servers"],priority:11},{name:"Solr",title:"Solr",iconName:"serviceSolr",logoFilename:"solr.svg",category:"Databases",collectors:["go.d.plugin:solr"],contexts:["solr.search_requests","solr.update_requests"],priority:12},{name:"RabbitMQ",title:"RabbitMQ",iconName:"serviceRabbitMQ",logoFilename:"rabbitmq.svg",category:"Messaging",collectors:["python.d.plugin:rabbitmq","go.d.plugin:rabbitmq"],contexts:["rabbitmq.queued_messages","rabbitmq.erlang_run_queue"],priority:1},{name:"Beanstalkd",title:"Beanstalkd",iconName:"serviceBeanstalk",logoFilename:"beanstalkd.svg",category:"Messaging",collectors:["python.d.plugin:beanstalk"],contexts:["beanstalk.total_jobs_rate","beanstalk.connections_rate","beanstalk.current_tubes"],priority:2},{name:"Apache",title:"Apache",iconName:"serviceApache",logoFilename:"apache.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:apache","go.d.plugin:apache"],contexts:["apache.requests","apache.connections","apache.net"],priority:1},{name:"nginx",title:"nginx",iconName:"serviceNginx",logoFilename:"nginx.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:nginx","go.d.plugin:nginx"],contexts:["nginx.requests","nginx.connections"],priority:2},{name:"nginx+",title:"nginx+",iconName:"serviceNginxPlus",logoFilename:"nginx-plus.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:nginx_plus"],contexts:["nginx_plus.requests_total","nginx_plus.connections_statistics"],priority:3},{name:"lighthttpd",title:"lighthttpd",iconName:"serviceLighthttpd",logoFilename:"lighthttpd.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:lighttpd","go.d.plugin:lighttp"],contexts:["lighttpd.requests","lighttpd.net"],priority:4},{name:"lighthttpd2",title:"lighthttpd2",iconName:"serviceLighthttpd2",logoFilename:"lighthttpd.svg",category:"Web, Proxies, LBs, Streaming",collectors:["go.d.plugin:lighttpd2"],contexts:["lighttpd2.requests","lighttpd2.traffic"],priority:5},{name:"LiteSpeed",title:"LiteSpeed",iconName:"serviceLiteSpeed",logoFilename:"litespeed.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:litespeed"],contexts:["litespeed.requests","litespeed.requests_processing"],priority:6},{name:"Tomcat",title:"Tomcat",iconName:"serviceApacheTomcat",logoFilename:"tomcat.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:tomcat"],contexts:["tomcat.accesses","tomcat.processing_time","tomcat.bandwidth"],priority:7},{name:"PHP FPM",title:"PHP FPM",iconName:"servicePhpFpm",logoFilename:"php-fpm.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:phpfm"],contexts:["phpfpm.performance","phpfpm.requests","phpfpm.connections"],priority:8},{name:"HAproxy",title:"HAproxy",iconName:"serviceHAProxy",logoFilename:"haproxy.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:haproxy"],contexts:["haproxy_f.scur","haproxy_f.bin","haproxy_f.bout"],priority:9},{name:"Squid",title:"Squid",iconName:"serviceSquid",logoFilename:"squid.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:squid"],contexts:["squid.clients_requests","squid.clients_net"],priority:10},{name:"Traefik",title:"Traefik",iconName:"serviceTraefik",logoFilename:"traefik.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:traefik"],contexts:["traefik.response_codes"],priority:11},{name:"Varnish",title:"Varnish",iconName:"serviceVarnish",logoFilename:"varnish.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:varnish"],contexts:["varnish.session_connection","varnish.client_requests"],priority:12},{name:"IPVS",title:"IPVS",iconName:"serviceIPVS",logoFilename:"load-balancer.svg",category:"Web, Proxies, LBs, Streaming",collectors:["proc.plugin:/proc/net/ip_vs_stats"],contexts:["ipvs.sockets","ipvs.packets","ipvs.net"],priority:13},{name:"Web Log",title:"Web Log",iconName:"serviceWebLog",logoFilename:"log-file.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:web_log","go.d.plugin:web_log"],contexts:["web_log.response_codes","web_log.bandwidth"],priority:14},{name:"IPFS",title:"IPFS",iconName:"serviceIPFS",logoFilename:"ipfs.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:ipfs"],contexts:["ipfs.bandwidth","ipfs.peers"],priority:15},{name:"IceCast Media Streaming",title:"IceCast Media Streaming",iconName:"serviceIceCast",logoFilename:"icecast.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:icecast"],contexts:["icecast.listeners"],priority:16},{name:"RetroShare",title:"RetroShare",iconName:"serviceRetroShare",logoFilename:"retroshare.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:retroshare"],contexts:["retroshare.bandwidth","retroshare.peers"],priority:17},{name:"HTTP Check",title:"HTTP Check",iconName:"serviceHTTPCheck",logoFilename:"server-connection.svg",category:"Web, Proxies, LBs, Streaming",collectors:["python.d.plugin:httpcheck","go.d.plugin:httpcheck"],contexts:["httpcheck.responsetime","httpcheck.status"],priority:18},{name:"x509 Check",title:"x509 Check",iconName:"serviceX509Check",logoFilename:"data-encryption.svg",category:"Web, Proxies, LBs, Streaming",collectors:["go.d.plugin:x509check"],contexts:["x509check.time_until_expiration"],priority:19}].reduce(((e,t)=>({...e,[t.name]:t})),{}),j=e=>b[e]?.iconName||"services";var I=n(74848);const C=e=>{let{node:t}=e;return t.services?.length?(0,I.jsx)(v.A,{link:"https://learn.netdata.cloud/docs/agent/collectors/collectors#service-and-application-collectors",name:"Services",children:t.services.map((e=>(0,I.jsx)(m.A,{size:"small",iconName:j(e),name:e,testId:`sidebar-ServicesGroup-service-${e}`},e)))}):null};var A=n(81517),k=n(18283),w=n(75669),P=n(39175);const S=()=>((0,w.A)(),null),K=e=>{let{nodeIds:t,flavour:n}=e;const r=(0,p.ID)(),o=(0,P.tB)(r),a=(0,l.l6)("sidebarNodeId",{defaultValue:t[0],flavour:"val",extraKey:n}),i=(0,u.xY)(a);return i.id?(0,I.jsxs)(I.Fragment,{children:[o?null:(0,I.jsx)(S,{}),(0,I.jsxs)(s.Flex,{"data-testid":"node-info-content",column:!0,gap:1,overflow:{horizontal:"hidden",vertical:"auto"},padding:[2],width:"100%",children:[(0,I.jsx)(s.TextBig,{strong:!0,children:"Info"}),(0,I.jsxs)(s.Flex,{column:!0,padding:[2,0,3],border:{side:"bottom",color:"borderSecondary"},children:[false,(0,I.jsxs)(s.TextSmall,{"data-testid":"sidebar-nodeInfoContent-hostname",strong:!0,children:["Hostname: ",i.name]})]}),(0,I.jsx)(y.A,{node:i}),(0,I.jsx)(f.A,{node:i}),(0,I.jsx)(g.A,{id:i.id,flavour:"sidebar"}),(0,I.jsx)(x.A,{node:i}),(0,I.jsx)(h.A,{node:i}),(0,I.jsx)(A.A,{node:i}),(0,I.jsx)(C,{node:i}),(0,I.jsx)(k.A,{node:i})]})]}):(0,I.jsx)(s.Text,{children:"Select a node to see its\u2019 info"})};var N=n(73613),F=n(50959),_=n(4719),M=n(98131),T=n(54583);const L=()=>!0,D=(0,r.memo)((e=>{let{menuIds:t,onMenuClick:n,menuProps:o,useItemsAreVisible:s=L,extraKey:l,settingsByMenuId:a,virtual:i,...c}=e;const[d,u]=(0,r.useState)();return(0,I.jsx)(T.A,{id:`toc-menu-wrapper-${l}-${c.flavour||"default"}`,...c,ref:u,children:t.map((e=>(0,I.jsx)(M.A,{flavour:c?.flavour,settings:a?.[e],id:e,onMenuClick:n,useItemsAreVisible:s,extraKey:l,containerRef:d,virtual:i,...o},e)))})})),z=(0,_.Qb)(D),B=(0,r.memo)(z);var R=n(56876),$=n(41514),q=n(53749),V=(n(8872),n(50239)),O=n(92318),H=n(6304),E=n(24609),W=n(49163),U=n(63928),G=n(43375),Q=n(43627),Y=n(74979),J=n(1444);const X=e=>{let{id:t,settingsByMenuId:n,onMenuClick:r,menuProps:o,extraKey:l,disabled:a}=e;const{attributes:i,listeners:c,setNodeRef:d,transform:u,transition:m}=(0,Q.gl)({id:t}),p={transform:Y.Ks.Transform.toString(u),transition:m},{disabled:x}=(0,J.A)(),h=a||x;return(0,I.jsx)("div",{ref:d,style:p,...i,children:(0,I.jsxs)(s.Flex,{alignItems:"center",children:[!h&&(0,I.jsx)(s.Icon,{name:"nav_dots",color:"textLite",cursor:"grab",size:"small",padding:[0,1,0,0],...c}),(0,I.jsx)(D,{settingsByMenuId:n,flavour:"favourites",menuIds:[t],onMenuClick:r,menuProps:o,extraKey:l})]})})},Z=e=>{let{menuIds:t,settingsByMenuId:n,onMenuClick:o,onOrderChange:l,menuProps:a,extraKey:i,disabled:c}=e;const[d,u]=(0,r.useState)(t),m=(0,G.FR)((0,G.MS)(G.AN),(0,G.MS)(G.uN,{coordinateGetter:Q.JR})),p=(0,r.useCallback)((e=>{const{active:t,over:n}=e;if(t?.id&&n?.id&&t.id!==n.id){const e=d.indexOf(t.id),r=d.indexOf(n.id),o=(0,Q.be)(d,e,r);u(o),l(o)}}),[d,l]);return(0,r.useEffect)((()=>{u(t)}),[t]),c?(0,I.jsx)(s.Flex,{column:!0,children:d.map((e=>(0,I.jsx)(X,{id:e,settingsByMenuId:n,onMenuClick:o,menuProps:a,extraKey:i,disabled:!0},e)))}):(0,I.jsx)(G.Mp,{sensors:m,collisionDetection:G.fp,onDragEnd:p,children:(0,I.jsx)(Q.gB,{items:d,strategy:Q._G,children:(0,I.jsx)(s.Flex,{column:!0,children:d.map((e=>(0,I.jsx)(X,{id:e,settingsByMenuId:n,onMenuClick:o,menuProps:a,extraKey:i,disabled:!1},e)))})})})},{demoSlug:ee,demoFavourites:te}=O.A,ne=(0,o.default)(s.Icon).attrs({size:"small",name:"chevron_left",color:"textLite"}).withConfig({displayName:"favourites__StyledChevron",componentId:"sc-1bjrnio-0"})(["transition:transform 0.2s ease-in-out;"]),re={showChildren:!1},oe=e=>{let{onMenuClick:t,initialChartName:n,flavour:o}=e;const l=(0,E.bq)(),a=(0,p.QW)(),i=(0,W._)({params:{type:["favourites"],path:[`/${o}`]}}),c=(0,r.useMemo)((()=>i.filter((e=>{let{value:t}=e;return t?.menuId})).sort(((e,t)=>(e.value.sortOrder||0)-(t.value.sortOrder||0))).map((e=>{let{value:t}=e;return t.menuId}))),[i]),d=(0,r.useMemo)((()=>i.reduce(((e,t)=>({...e,...t.value?.menuId?{[t.value.menuId]:t}:{}})),{})),[i]),u=(0,r.useMemo)((()=>ee===l?te[a]||[]:c),[l,a,c]),m=(0,U.xS)(),{disabled:x}=(0,J.A)(),h=(0,r.useCallback)((async e=>{if(x||ee===l)return;const t=e.map(((e,t)=>{const n=d[e];if(n)return m({...n,value:{...n.value,sortOrder:t}})}));await Promise.all(t.filter(Boolean))}),[x,l,d,m]),g=(0,_.yy)((y=u,e=>y.reduce(((t,n)=>e[n]?[...t,n]:t),[])));var y;const{setActiveMenuId:f,onMenuClick:v}=(0,R.A)({onMenuClick:t}),[b,j]=(0,H.A)(!0),C=(0,V.UH)();return(0,r.useEffect)((()=>{C&&!n&&g.length&&(t({id:g[0]}),setTimeout((()=>f(g[0])),100))}),[C,n]),g.length&&g.length?(0,I.jsxs)(s.Flex,{"data-testid":"favourites-container",column:!0,gap:1,padding:[2,0,2,2],border:{side:"top",color:"border"},children:[(0,I.jsxs)(s.Flex,{onClick:j,cursor:"pointer",alignItems:"center",justifyContent:"between",padding:[0,1,0,0],children:[(0,I.jsxs)(s.Flex,{gap:2,alignItems:"center",children:[(0,I.jsx)(s.Icon,{name:"heart",color:"text"}),(0,I.jsxs)(s.Flex,{gap:2,children:[(0,I.jsx)(s.Text,{strong:!0,color:"textFocus",children:"Favourites"}),u.length?(0,I.jsxs)(s.Text,{children:["(",u.length,")"]}):null]})]}),(0,I.jsx)(ne,{rotate:b?1:3,alignSelf:"end"})]}),(0,I.jsx)(s.Collapsible,{"data-testid":"toc-fav-collapsible",open:b,children:(0,I.jsx)(s.Flex,{height:{max:30},overflow:{vertical:"auto"},children:(0,I.jsx)(Z,{menuIds:g,settingsByMenuId:d,onMenuClick:e=>{let{id:t}=e;v({id:t}),setTimeout((()=>f(t)),100)},onOrderChange:h,menuProps:re,extraKey:o,disabled:x||ee===l})})})]}):null},se={nodesView:()=>!0,default:q.Bu};let le=null;const ae=function(){let{id:e,flavour:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"favourites"===t&&(le&&clearTimeout(le),le=setTimeout((()=>{const t=document.getElementById("toc-menu-wrapper-overview-default");if(t){const n=t.querySelector(`[data-menuid=${e}]`);if(n){const e=t.getBoundingClientRect(),r=n.getBoundingClientRect();t.scrollTop=r.top-e.top}}le=null}),500)),(0,$.H)("metric-sidebar",`click-${ie(e)}`,"mn-overview")},ie=e=>e.startsWith("Kubernetes")?"k8s":e.replace(/[^\w]/g,"-").toLowerCase(),ce=e=>{let{initialChartName:t,loaded:n,flavour:r,FilterInputContainer:o}=e;const{onMenuClick:l}=(0,R.A)({onMenuClick:ae,loaded:n}),a=se[r]||se.default;return(0,I.jsxs)(I.Fragment,{children:[!!o&&(0,I.jsx)(s.Flex,{column:!0,position:"sticky",top:"0",gap:1,padding:[0,2],children:(0,I.jsx)(o,{})}),n&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(oe,{onMenuClick:l,initialChartName:t,useItemsAreVisible:a,flavour:r}),(0,I.jsx)(B,{position:"relative",onMenuClick:l,width:"100%",useItemsAreVisible:a,extraKey:r,virtual:!0})]})]})};var de=n(19075),ue=n(77679),me=n(56473);const pe=e=>{let{extraKey:t,param:n,paramKey:o}=e;const s=(0,me.QD)({extraKey:t,omit:n,keepAll:!0}),a=(0,l.l6)(n,{extraKey:t,flavour:"arr"});return(0,r.useMemo)((()=>Object.entries(s.reduce(((e,t)=>(e[t[o]]=(e[t[o]]||0)+(t.hidden?0:1),e)),{...me.hv[n]||{}})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(me.qr[n]||me.qr.default)),[s.filter((e=>e.hidden)).length,a])},xe=e=>{let{extraKey:t,param:n,paramKey:o}=e;const s=(0,me.PP)({extraKey:t,omit:n,keepAll:!0}),a=(0,l.l6)(n,{extraKey:t,flavour:"arr"});return(0,r.useMemo)((()=>Object.entries(s.reduce(((e,t)=>(e[t[o]]=(e[t[o]]||0)+(t.hidden?0:1),e)),{...me.hv[n]||{}})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(me.qr[n]||me.qr.default)),[s.filter((e=>e.hidden)).length,a])},he=e=>{let{extraKey:t,param:n,paramKey:o}=e;const[{alertName:s,nodeId:a}]=(0,de.DV)(),i=(0,me.JO)({extraKey:t,alertName:s,nodeId:a,omit:n,keepAll:!0}),c=(0,l.l6)(n,{extraKey:t,flavour:"arr"});return(0,r.useMemo)((()=>Object.entries(i.reduce(((e,t)=>(t[o]&&(e[t[o]]=(e[t[o]]||0)+(t.hidden?0:1)),e)),{...me.hv[n]||{}})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(me.qr[n]||me.qr.default)),[i.filter((e=>e.hidden)).length,c,s,a])};var ge=n(38823),ye=n(64007);const fe=e=>e.id,ve=e=>{let{baseKey:t,param:n,extraKey:r,testIdPrefix:o,title:s,groupProps:l,checkboxProps:a,options:i}=e;return(0,I.jsx)(ge.A,{title:s,testIdPrefix:o,baseKey:t,extraKey:r,param:n,help:"Filter the alerts. Count next to each item refer to the number of alerts that will be selected.",...l,children:(0,I.jsx)(ye.Ay,{param:n,baseKey:t,extraKey:r,testIdPrefix:o,collection:i,getValue:fe,getLabel:fe,...a})})},be=e=>{let{paramKey:t,...n}=e;const{param:r,extraKey:o}=n,s=pe({param:r,extraKey:o,paramKey:t});return s.length?(0,I.jsx)(ve,{options:s,...n}):null},je=e=>{let{paramKey:t,...n}=e;const{param:r,extraKey:o}=n,s=xe({param:r,extraKey:o,paramKey:t});return s.length?(0,I.jsx)(ve,{options:s,...n}):null},Ie=e=>{let{paramKey:t,...n}=e;const{param:r,extraKey:o}=n,s=he({param:r,extraKey:o,paramKey:t});return s.length?(0,I.jsx)(ve,{options:s,...n}):null};n(30670),n(37550),n(25509),n(65223),n(60321),n(41927),n(11632),n(64377),n(66771),n(12516),n(68931),n(52514),n(35694),n(52774),n(49536),n(21926),n(94483),n(16215);var Ce=n(66245),Ae=n.n(Ce),ke=n(67012);const we=e=>{const{baseKey:t,extraKey:n,param:o,testIdPrefix:s,itemsProps:a,itemProps:i,groupProps:c,...d}={...ye.H5,...e},u=(e=>{let{extraKey:t,param:n}=e;const o=(0,me.QD)({extraKey:t,omit:n,keepAll:!0}),s=(0,l.l6)(n,{extraKey:t,flavour:"arr"});return(0,r.useMemo)((()=>Object.entries(o.reduce(((e,t)=>{let{type:n,component:r,hidden:o}=t;return e[n]=e[n]||{count:0,children:{}},e[n].count=(e[n].count||0)+(o?0:1),e[n].children[r]=(e[n].children[r]||0)+(o?0:1),e}),{})).reduce(((e,t)=>{let[n,{count:r,children:o}]=t;return e.push({id:n,count:r,children:Object.entries(o).map((e=>{let[t,r]=e;return{value:`${n}|${t}`,label:t,count:r,level:1}}))}),e}),[]).sort(me.qr[n]||me.qr.default)),[o.filter((e=>e.hidden)).length,s])})({param:o,extraKey:n}),[m,p]=(0,l.N9)(o,{defaultValue:[],key:t,extraKey:n,flavour:"arr"});(0,ke.A)((()=>{u.length&&m.length&&p((e=>e.filter((e=>u.some((t=>t.children.some((t=>t.value===e))))))))}),[u.length,p]);const x=(0,r.useCallback)((e=>{let{value:t,checked:n}=e;p((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?[...new Set([...e,...t])]:Ae()(e,t):n?[...e,t]:e.filter((e=>e!==t))}))}),[p]),h=(0,r.useMemo)((()=>(e=>{let{options:t,selected:n,itemsProps:r={}}=e;if(!t.length)return[];const o=t.flatMap((e=>e.children.map((e=>e.value)))),s=o.length===n.length,l=!s&&!!n.length;return[{...r.head,label:"Select all",value:o,selected:s,indeterminate:l},...t.flatMap((e=>{let{id:t,children:o,count:s}=e;const l=n.length&&!o.some((e=>!n.includes(e.value))),a=!l&&n.length&&o.some((e=>n.includes(e.value)));return o.reduce(((e,t)=>{const o=n.includes(t.value);return[...e,{...r.row,...t,selected:o}]}),[{...r.head,label:t,value:o.map((e=>e.value)),selected:l,indeterminate:a,count:s}])}))]})({options:u,selected:m,itemsProps:a})),[m,p,u]);return u.length?(0,I.jsx)(ge.A,{title:"Alert type & component",testIdPrefix:s,baseKey:t,extraKey:n,param:o,help:"Filter the alerts. Count next to each item refer to the number of alerts that will be selected.",...c,children:(0,I.jsx)(ye.V$,{"data-testid":`${s}-filter-selections"`,searchMargin:[0,0,1],items:h,onItemClick:x,value:m,"data-value":m.join(",")||"all-selected",hasSearch:u.length>5,itemProps:{testIdPrefix:s,...i},...d})}):null},Pe=e=>{let{baseKey:t,flavour:n,groupProps:o}=e;return(0,r.useMemo)((()=>"alerts"==n),[n])?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(be,{title:"Status",testIdPrefix:"alert-status",baseKey:t,extraKey:n,param:"alertStatuses",paramKey:"status",groupProps:o}),(0,I.jsx)(be,{title:"Name",testIdPrefix:"alert-name",baseKey:t,extraKey:n,param:"alertNames",paramKey:"name",groupProps:o}),(0,I.jsx)(be,{title:"Context",testIdPrefix:"alert-context",baseKey:t,extraKey:n,param:"alertContexts",paramKey:"context",groupProps:o,checkboxProps:{capitalized:!1}}),(0,I.jsx)(be,{title:"Class",testIdPrefix:"alert-class",baseKey:t,extraKey:n,param:"alertClasses",paramKey:"class",groupProps:o}),(0,I.jsx)(we,{testIdPrefix:"alert-type-component",baseKey:t,extraKey:n,param:"alertTypeComponents",groupProps:o}),(0,I.jsx)(be,{title:"Role",testIdPrefix:"alert-role",baseKey:t,extraKey:n,param:"alertRoles",paramKey:"recipient",groupProps:o})]}):null},Se=e=>{let{baseKey:t,flavour:n,groupProps:o}=e;const s=(0,de.CX)();return(0,r.useMemo)((()=>"runningAlerts"==n&&0==s),[n,s])?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(je,{title:"Context",testIdPrefix:"alert-context",baseKey:t,extraKey:n,param:"alertContexts",paramKey:"contexts",groupProps:o,checkboxProps:{capitalized:!1}}),(0,I.jsx)(je,{title:"Class",testIdPrefix:"alert-classification",baseKey:t,extraKey:n,param:"alertClasses",paramKey:"classes",groupProps:o}),(0,I.jsx)(je,{title:"Component",testIdPrefix:"alert-component",baseKey:t,extraKey:n,param:"alertComponents",paramKey:"components",groupProps:o}),(0,I.jsx)(je,{title:"Type",testIdPrefix:"alert-type",baseKey:t,extraKey:n,param:"alertTypes",paramKey:"types",groupProps:o}),(0,I.jsx)(je,{title:"Role",testIdPrefix:"alert-role",baseKey:t,extraKey:n,param:"alertRoles",paramKey:"recipients",groupProps:o})]}):null},Ke=e=>{let{baseKey:t,flavour:n,groupProps:o}=e;const s=(0,de.CX)();return(0,r.useMemo)((()=>"runningAlerts"==n&&2==s),[n,s])?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ie,{title:"Status",testIdPrefix:"alert-status",baseKey:t,extraKey:n,param:"alertStatuses",paramKey:"status",groupProps:o}),(0,I.jsx)(Ie,{title:"Class",testIdPrefix:"alert-class",baseKey:t,extraKey:n,param:"alertClasses",paramKey:"class",groupProps:o}),(0,I.jsx)(Ie,{title:"Component",testIdPrefix:"alert-component",baseKey:t,extraKey:n,param:"alertComponents",paramKey:"component",groupProps:o}),(0,I.jsx)(Ie,{title:"Type",testIdPrefix:"alert-type",baseKey:t,extraKey:n,param:"alertTypes",paramKey:"type",groupProps:o}),(0,I.jsx)(Ie,{title:"Role",testIdPrefix:"alert-role",baseKey:t,extraKey:n,param:"alertRoles",paramKey:"recipient",groupProps:o})]}):null};var Ne=n(87083);const Fe=e=>e.id,_e=e=>{let{baseKey:t,param:n,paramKey:o,extraKey:s,testIdPrefix:a,title:i,groupProps:c,...d}=e;const u=(e=>{let{extraKey:t,param:n,paramKey:o}=e;const s=(0,Ne.eO)({extraKey:t,omit:n,keepAll:!0,scoped:!!t}),a=(0,l.l6)(n,{extraKey:t,flavour:"arr"});return(0,r.useMemo)((()=>Object.entries(s.reduce(((e,t)=>(e[t[o]]=(e[t[o]]||0)+(t.hidden?0:1),e)),{})).map((e=>{let[t,n]=e;return{id:t,count:n}})).sort(Ne.qr[n]||Ne.qr.default)),[s.filter((e=>e.hidden)).length,a])})({param:n,extraKey:s,paramKey:o});return u.length?(0,I.jsx)(ge.A,{title:i,testIdPrefix:a,baseKey:t,extraKey:s,param:n,defaultIsOpen:!1,...c,children:(0,I.jsx)(ye.Ay,{param:n,baseKey:t,extraKey:s,testIdPrefix:a,collection:u,getValue:Fe,getLabel:Fe,...d})}):null};n(3949);const Me=e=>{const{baseKey:t,extraKey:n,param:o,testIdPrefix:s,itemsProps:a,itemProps:i,groupProps:c,...d}={...ye.H5,...e},u=(e=>{let{extraKey:t,param:n}=e;const o=(0,Ne.eO)({extraKey:t,omit:n,keepAll:!0,merge:!0}),s=(0,l.l6)(n,{extraKey:t,flavour:"arr"});return(0,r.useMemo)((()=>Object.entries(o.reduce(((e,t)=>{let{labels:n,hidden:r}=t;return Object.keys(n).forEach((t=>{e[t]=e[t]||{count:0,children:{}},e[t].count=(e[t].count||0)+(r?0:1),e[t].children[n[t]]=(e[t].children[n[t]]||0)+(r?0:1)})),e}),{})).reduce(((e,t)=>{let[n,{count:r,children:o}]=t;return e.push({id:n,count:r,children:Object.entries(o).map((e=>{let[t,r]=e;return{value:`${n}|${t}`,label:t,count:r,level:1}}))}),e}),[]).sort(Ne.qr[n]||Ne.qr.default)),[o,s])})({param:o,extraKey:n}),[m,p]=(0,l.N9)(o,{defaultValue:[],key:t,extraKey:n,flavour:"arr",merge:!1});(0,ke.A)((()=>{u.length&&m.length&&p((e=>e.filter((e=>u.some((t=>t.children.some((t=>t.value===e))))))))}),[u.length,p]);const x=(0,r.useCallback)((e=>{let{value:t,checked:n}=e;p((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?[...new Set([...e,...t])]:Ae()(e,t):n?[...e,t]:e.filter((e=>e!==t))}))}),[p]),h=(0,r.useMemo)((()=>(e=>{let{options:t,selected:n,itemsProps:r={}}=e;if(!t.length)return[];const o=t.flatMap((e=>e.children.map((e=>e.value)))),s=o.length===n.length,l=!s&&!!n.length;return[{...r.head,label:"Select all",value:o,selected:s,indeterminate:l},...t.flatMap((e=>{let{id:t,children:o,count:s}=e;const l=n.length&&!o.some((e=>!n.includes(e.value))),a=!l&&n.length&&o.some((e=>n.includes(e.value)));return o.reduce(((e,t)=>{const o=n.includes(t.value);return[...e,{...r.row,...t,selected:o}]}),[{...r.head,label:t,value:o.map((e=>e.value)),selected:l,indeterminate:a,count:s}])}))]})({options:u,selected:m,itemsProps:a})),[m,p,u]);return u.length?(0,I.jsx)(ge.A,{title:"Host labels",testIdPrefix:s,baseKey:t,extraKey:n,param:o,...c,children:(0,I.jsx)(ye.V$,{"data-testid":`${s}-filter-selections"`,searchMargin:[0,0,1],items:h,onItemClick:x,value:m,"data-value":m.join(",")||"all-selected",hasSearch:u.length>3,itemProps:{testIdPrefix:s,...i},...d})}):null};var Te=n(38800);const Le=(0,r.memo)((e=>{let{flavour:t,groupProps:n,...r}=e;const o=(0,p.ID)(),l=(0,de.CX)(),[a,i]=(0,ue.w)(),c=a?i:o;return(0,I.jsxs)(s.Flex,{column:!0,overflow:{vertical:"auto"},padding:[0,2,30],...r,children:[(0,I.jsx)(Pe,{baseKey:c,flavour:t,groupProps:n}),(0,I.jsx)(Se,{baseKey:c,flavour:t,groupProps:n}),(0,I.jsx)(Ke,{baseKey:c,flavour:t,groupProps:n}),!a&&"anomalies"!==t&&!("runningAlerts"===t&&2===l)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Me,{testIdPrefix:"node-labels",baseKey:o,extraKey:t,param:"nodeLabels",groupProps:n}),(0,I.jsx)(_e,{title:"Node status",testIdPrefix:"node-status",baseKey:o,extraKey:t,param:"nodeStatuses",paramKey:"nodeStatus",groupProps:n}),(0,I.jsx)(_e,{title:"Netdata version",testIdPrefix:"node-version",baseKey:o,extraKey:t,param:"nodeVersions",paramKey:"version",groupProps:n})]}),!!t&&!a&&!("runningAlerts"===t&&2===l)&&(0,I.jsx)(Te.A,{testIdPrefix:"node-ids",baseKey:o,extraKey:t,groupProps:{defaultIsOpen:"anomalies"===t,...n}})]})}));var De=n(88434),ze=n(3319);const Be=()=>{const e=(0,l.rI)("correlation"),t=(0,l.rI)("highlight"),{showCorrelation:n}=(0,De.A)(),{sendLog:o}=(0,ze.A)(),a=(0,r.useCallback)((n=>{const{checked:r}=n.target||{};e(r),r?o({feature:"MetricCorrelations",isStart:!0}):t({after:null,before:null})}),[e,t,o]);return(0,I.jsx)(N.A,{content:()=>(0,I.jsxs)(s.Box,{children:[(0,I.jsx)("strong",{children:"Troubleshoot with Metric Correlations"}),(0,I.jsx)("br",{}),(0,I.jsx)("br",{}),"Metric correlations will help you identify potential root causes for an observed issue.",(0,I.jsx)("br",{}),"It will automatically analyse all available metrics for irregular behavior for the same timeframe."]}),align:"bottom",activateOn:"hover",isBasic:!0,children:(0,I.jsx)(s.Box,{children:(0,I.jsx)(s.Toggle,{colored:!0,onChange:a,checked:n,labelRight:"Metric Correlations",toggleProps:{uncheckedColor:["neutral","grey130"],checkedColor:"primary"}})})})},Re={color:{active:"success",notActive:"textLite"},minWidth:"auto"},$e={chartIndexing:{...Re,iconName:"charts_view",Content:ce,dataTestId:"nodeInfo-chartIndexing",label:"Charts"},filters:{...Re,iconName:"filterList",Content:Le,dataTestId:"nodeInfo-filters",label:"Filters"},alerts:{...Re,iconName:"alarm_bell",Content:F.A,dataTestId:"nodeInfo-alertsTab",label:"Alerts"},info:{...Re,iconName:"information",dataTestId:"nodeInfo-alertsTab",Content:K,label:"Info"}},qe=[],Ve=(0,o.default)(s.Tabs).withConfig({displayName:"sidebar__StyledTabs",componentId:"sc-1d5ify6-0"})(["overflow:hidden;height:100%;"]),Oe=e=>{let{flavour:t,children:n}=e;return(0,I.jsx)(I.Fragment,{children:n})},He=e=>{let{isActive:t,color:n,name:r,label:o}=e;return(0,I.jsx)(N.A,{plain:!0,content:o,children:(0,I.jsx)(s.Icon,{name:r,color:t?n.active:n.notActive,height:"18px",width:"18px"})})},Ee=["overview","k8s","singleNode"],We=e=>{let{tabs:t=$e,hiddenTabs:n=qe,includedTabs:o=qe,title:u,help:m,nodeIds:p=qe,onClose:x,baseWidth:h,inModal:g,viewFlavour:y,...f}=e;const[v,b]=(0,l.r$)("sidebarTab",{defaultValue:"",flavour:"val",extraKey:y||f.flavour}),j=(0,r.useMemo)((()=>Object.keys(t).filter((e=>(!o.length||o.includes(e))&&!n.includes(e)))),[n]),C=(0,r.useMemo)((()=>{const e=j.findIndex((e=>e===v));return-1===e?0:e}),[v]),[A,k]=(0,l.r$)("sidebarOpen",{defaultValue:!0,flavour:"bool",...g&&{extraKey:y||f.flavour}}),w=(0,r.useMemo)((()=>Ee.includes(y||f.flavour)),[y,f.flavour]),P=(0,r.useCallback)((e=>{b(j[e]),k(!0)}),[j,b,k]);return(0,I.jsx)(a.Ay,{collapsedComponent:f.flavour&&(0,I.jsx)(i.A,{onClickTab:P,availableTabs:t,tabsToShow:j}),isOpen:A,header:f.flavour?(0,I.jsx)(c.A,{isOpen:A,onToggle:()=>k(!A),title:u}):(0,I.jsx)(d.A,{title:u,help:m,onClick:()=>x?.()}),width:h,children:(0,I.jsxs)(s.Flex,{"data-testid":"sidebar-tabs",column:!0,overflow:"hidden",height:"100%",children:[w?(0,I.jsx)(s.Flex,{padding:[2],border:{side:"bottom",color:"borderSecondary"},children:(0,I.jsx)(Be,{})}):null,(0,I.jsx)(Ve,{selected:C,onChange:P,TabsHeader:(0,r.useMemo)((()=>e=>(0,I.jsx)(Oe,{flavour:f.flavour,...e})),[f.flavour]),children:j.map(((e,n)=>{const{iconName:r,Content:o,dataTestId:l,color:a,label:i,...c}=t[e];return(0,I.jsx)(s.Tab,{style:{display:1===j.length?"none":"inherit"},"data-testid":l,maxWidth:"100%",small:!0,label:(0,I.jsx)(He,{isActive:v===n,name:r,color:a,label:i}),...c,children:(0,I.jsx)(s.Flex,{column:!0,overflow:"hidden",height:"100%",position:"relative",gap:3,padding:[1,0],children:(0,I.jsx)(o,{nodeIds:p,...f})})},r)}))})]})})}},75669:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(91539),o=n(258),s=n(19186),l=n(24609),a=n(39870),i=n(7761);const c=function(){let{spaceId:e,roomId:t,polling:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const c=(0,l.vt)(),d=(0,s.ID)(),u=e||c,m=t||d,p=(0,i.s6)();(0,r.A)((()=>({enabled:!(!u||!m),force:!0,fetch:()=>(0,o.uP)(u,m),onReceive:e=>{let{data:t}=e;return p({...a.Ml,loaded:!0,...t})},onFail:e=>p({...a.Ml,loaded:!0,error:e}),polling:n,pollingOptions:{pollingInterval:588e3}})),[u,m,n])}},76522:(e,t,n)=>{n.d(t,{A:()=>c});n(96540);var r=n(15992),o=n(51865),s=n(49181),l=n(36504),a=n(89284),i=n(74848);const c=e=>{let{node:t}=e;const n=(0,s.GM)(t.state);return(0,i.jsxs)(r.A,{link:"https://learn.netdata.cloud/docs/agent/aclk",name:"Connection",children:[(0,i.jsx)(o.A,{size:"small",name:"Status",iconName:"integrations",testId:"sidebar-connectionGroup-connectionStatus",children:(0,i.jsx)(a.A,{rawState:n})}),(0,i.jsx)(o.A,{size:"small",name:"Netdata Agent",iconName:"netdata",testId:"sidebar-connectionGroup-agentVersion",children:t.version}),t.updateSeverity&&(0,i.jsx)(o.A,{size:"small",name:"Update Status",iconName:"update",testId:"sidebar-connectionGroup-agentVersion",children:(0,i.jsx)(l.A,{name:t.name,os:t.os.id,container:t.hw.container,warningLevel:t.updateSeverity,labels:t.labels||{},version:t.version,text:t.updateSeverity})})]})}},76609:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(57280),o=(n(96540),n(65258)),s=n(15992),l=n(51865),a=n(49181),i=n(92834),c=n(71581),d=n(74848);const u={},m=e=>{let{node:t}=e;if((0,c.ZH)(t))return null;const n=t.hw||u,m=t.os||u,p=(0,a.Pg)(n.container,n.virtualization),{_timezone:x}=t.labels||u;return(0,d.jsxs)(s.A,{name:"System info",children:[(0,d.jsx)(l.A,{size:"small",name:"Type",iconName:"virtualization",testId:"sidebar-nodeInfoContent-type",children:(0,d.jsx)(o.Pill,{hollow:!0,icon:p.icon,flavour:"neutral",children:p.label})}),(0,d.jsx)(l.A,{size:"small",name:"O/S version",iconName:"database",testId:"sidebar-nodeInfoContent-osVersions",children:(0,a.Ud)(m.nm,m.v,", ")}),(0,d.jsx)(l.A,{iconName:"viewSingleNode",name:"Architecture",size:"small",testId:"sidebar-nodeInfoContent-architecture",children:(0,a.ws)(n.architecture)}),!!m.kernel&&(0,d.jsx)(l.A,{size:"small",name:"Kernel",iconName:"metrics_explorer",testId:"sidebar-nodeInfoContent-kernel",children:(0,a.Ud)(m.kernel.nm,m.kernel.v,", ")}),(0,d.jsxs)(l.A,{size:"small",name:"CPU",iconName:"cpu",testId:"sidebar-nodeInfoContent-cpu",children:[(0,a.O)(n.cpuFrequency)," (",(0,a.ws)(n.cpus,1===n.cpus?"Core":"Cores"),")"]}),(0,d.jsx)(l.A,{size:"small",name:"Memory",iconName:"ram",testId:"sidebar-nodeInfoContent-ram",children:(0,a.ws)((0,a.RI)(n.memory),"RAM")}),(0,d.jsx)(l.A,{size:"small",name:"Hard disk size",iconName:"disk",testId:"sidebar-nodeInfoContent-disk",children:(0,a.RI)(n.diskSpace)}),(0,d.jsx)(l.A,{size:"small",name:"Timezone",iconName:"timezone",faIcon:r.a$,testId:"sidebar-nodeInfoContent-timezone",children:(0,d.jsx)(i.A,{timezone:x,strong:!0})})]})}},77057:(e,t,n)=>{n.d(t,{Ay:()=>R,Ii:()=>S});n(98992),n(54520),n(8872),n(37550),n(25509),n(65223),n(60321),n(41927),n(11632),n(64377),n(66771),n(12516),n(68931),n(52514),n(35694),n(52774),n(49536),n(21926),n(94483),n(16215);var r=n(96540),o=n(65258),s=n(66245),l=n.n(s),a=n(89935),i=n.n(a),c=n(24013),d=n(87083),u=n(83268),m=n(81391),p=n(15920),x=n(79748),h=n(54924),g=n(52253),y=n(97336),f=n(64007),v=n(51262),b=n(74891),j=n(50979),I=n(21885),C=n(54822),A=n(74848);const k=(0,b.A)(h.default),w=(0,b.A)(o.Flex),P="By selecting a parent node, you apply your changes to all it's children nodes too.",S={Live:{head:{label:"Live nodes",textColor:"textLite",iconName:"connectivityStatusLive",hasML:!1,hasParentNode:!0,hasAlerts:!0,hasFn:!1},node:{textColor:"textFocus",showAlerts:!0,showMl:!1,showFn:!1,showParentNode:!0}},Stale:{head:{label:"Stale nodes",textColor:"textLite",iconName:"connectivityStatusStale"},node:{textColor:"textFocus"}},Offline:{head:{label:"Offline nodes",textColor:"textLite",iconName:"connectivityStatusOffline"},node:{textColor:"textLite"}}},K=e=>{let{toggle:t,expanded:n}=e;return(0,A.jsxs)(o.Flex,{cursor:"pointer",role:"button",padding:[.5],gap:.5,onClick:e=>{e.preventDefault(),e.stopPropagation(),t(),setTimeout((()=>e.target.scrollIntoView({behavior:"smooth",block:"nearest"})))},children:[(0,A.jsx)(o.TextNano,{color:"textLite",children:n?"Collapse":"Expand"}),(0,A.jsx)(o.Icon,{name:"chevron_down",width:"10px",height:"10px",color:"textLite",rotate:n?2:null})]})},N=(F=e=>{let{iconName:t,label:n,textColor:s,value:l,nodePath:a,nodeId:i,onActionDone:c,isParentNode:d,isParent:u,showParentNode:m,onToggleHidden:h,itemsHidden:g,status:y,restricted:f,reason:v}=e;const b=(0,r.useMemo)((()=>!u&&f?j.KV[v]||j.KV.default:m&&d?P:null),[m,d,f,v]);return(0,A.jsxs)(o.Flex,{gap:2,alignItems:"center",children:[t&&(0,A.jsx)(o.Icon,{name:t,size:"small",color:"textLite"}),(0,A.jsx)(k,{Component:o.TextSmall,text:n,color:s,truncate:!0,tooltip:b}),"Offline"!==y&&!Array.isArray(l)&&(0,A.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,A.jsx)(x.A,{as:p.N_,to:a,state:{nodeId:i},"data-testid":"filterNodes-item-gta",color:"textLite",hoverColor:"text",onClick:c,children:(0,A.jsx)(o.Icon,{name:"nav_arrow_goto",height:"10px",width:"10px"})})}),!!h&&(0,A.jsx)(K,{toggle:h,expanded:!g})]})},e=>{let{restricted:t,...n}=e;return t&&Array.isArray(n.value)?(0,A.jsx)(F,{...n}):(0,A.jsx)(o.Checkbox,{"data-testid":`filterNodes-checkbox-${n.label}`,checked:n.selected,disabled:n.isDisabled,indeterminate:n.indeterminate,onChange:n.onSelect,label:(0,A.jsx)(F,{...n})})});var F;const _=e=>{let{item:{value:t,disabled:n,onClick:s,label:l,nodeId:a,selected:d,excluded:u,stale:m,status:b,indeterminate:j,textColor:I,iconName:C,hasAlerts:k,hasML:S,hasParentNode:F,hasFn:_,showAlerts:M,showMl:T,showParentNode:L,showFn:D,requireML:z,requireFn:B,capabilities:R,count:$,multi:q=!0,checkIsDisabled:V=i(),onToggleHidden:O,itemsHidden:H,isParent:E,isParentNode:W,hasExtraInfo:U,flavour:G,baseKey:Q,extraKey:Y,...J},onItemClick:X,itemProps:Z,close:ee,...te}=e;const ne=(0,c.Zl)(a),{isNodeRestricted:re}=(0,v.A)(),{restricted:oe,reason:se}=re(a),le=(0,r.useMemo)((()=>!D||!R||R.funcs?.enabled),[D]),ae=(0,r.useMemo)((()=>!D||!R||R.ml?.enabled),[D]),ie=n||!E&&oe||z&&!ae||B&&!le||!q&&d||V(a),ce=(e,n)=>{if(ie)return;const{shiftKey:r}=n||{};s&&s(e),X({value:t,checked:!d,status:b,shiftKey:r})},de=u||m,ue={status:b,restricted:oe,iconName:C,isDisabled:ie,indeterminate:j,label:l,textColor:I,value:t,nodePath:ne,nodeId:a,onActionDone:ee,onSelect:ce,isStale:de,excluded:u,selected:d,isParent:E,isParentNode:W,showParentNode:L,itemProps:Z,onToggleHidden:O,itemsHidden:H,flavour:G,baseKey:Q,extraKey:Y};return(0,A.jsxs)(f.b1,{"aria-selected":d,selected:d,disabled:ie,stale:de||0===$||"0"===$,...J,...te,...Z,"data-testid":`filterNodes-item-${l}`,multi:q,children:[(0,A.jsx)(o.Flex,{gap:2,alignItems:"center",flex:!0,children:q?(0,A.jsx)(N,{...ue,...oe?{iconName:"padlock",help:se}:{},restricted:oe,reason:se}):(0,A.jsxs)(o.Flex,{gap:1,padding:[0,1],alignItems:"center",onClick:ce,"data-testid":`filterNodes-item-${l}`,flex:!0,children:[(0,A.jsx)(h.default,{Component:o.TextSmall,text:l,color:I}),"Offline"!==b&&!Array.isArray(t)&&(0,A.jsx)(x.A,{as:p.N_,to:ne,state:{nodeId:a},"data-testid":"filterNodes-item-gta",color:"textLite",hoverColor:"text",onClick:ee,children:(0,A.jsx)(o.Icon,{name:"nav_arrow_goto",height:"10px",width:"10px"})}),!!O&&(0,A.jsx)(K,{toggle:O,expanded:!H})]})}),U&&(0,A.jsxs)(o.Flex,{gap:1,children:[M&&(0,A.jsx)(o.Flex,{gap:1,justifyContent:"center",width:17,children:(0,A.jsx)(y.A,{id:t,isLive:!0,name:l})}),T&&(0,A.jsx)(o.Flex,{gap:1,justifyContent:"center",width:10,children:(0,A.jsx)(g.A,{badge:"ml","data-testid":"nodes-indicator-machine-learning",enabled:ae,name:l})}),L&&(0,A.jsx)(w,{gap:1,justifyContent:"center",width:14,tooltip:W?P:null,children:W?(0,A.jsx)(o.Icon,{name:"check",color:"primary"}):null}),D&&(0,A.jsx)(o.Flex,{gap:1,justifyContent:"center",width:10,children:(0,A.jsx)(g.A,{badge:"fn","data-testid":"nodes-indicator-fn",enabled:le,name:l})}),k&&(0,A.jsxs)(o.Flex,{gap:1,justifyContent:"center",width:17,children:[(0,A.jsx)(o.Icon,{name:"alarm",size:"small",color:"textLite"}),(0,A.jsx)(o.TextSmall,{strong:!0,color:"textLite",children:"Alerts"})]}),S&&(0,A.jsxs)(o.Flex,{gap:1,justifyContent:"center",width:10,children:[(0,A.jsx)(o.Icon,{name:"anomaliesLens",size:"small",color:"textLite"}),(0,A.jsx)(o.TextSmall,{strong:!0,color:"textLite",children:"ML"})]}),F&&(0,A.jsx)(o.Flex,{gap:1,justifyContent:"center",width:14,children:(0,A.jsx)(o.TextSmall,{strong:!0,color:"textLite",children:"Parent"})}),_&&(0,A.jsxs)(o.Flex,{gap:1,justifyContent:"center",width:10,children:[(0,A.jsx)(o.Icon,{name:"functions",size:"small",color:"textLite"}),(0,A.jsx)(o.TextSmall,{strong:!0,color:"textLite",children:"Fn"})]}),!isNaN($)&&(0,A.jsx)(o.Pill,{flavour:"neutral",hollow:!0,"data-testid":`${Z.testIdPrefix}-filters-${l}-count`,size:"small",children:$.toString()})]})]})},M=[I.q4],T=e=>{let{ids:t,status:n,selectedIds:r,excludedIds:o,filteredIds:s,nodesById:l,statusProps:a,multi:i=!0,nodeCounts:c,checkIsDisabled:d,setHidden:u,hidden:m,baseKey:p,extraKey:x,flavour:h,isNodeRestricted:g}=e;if(!t.length)return[];const y=t.filter((e=>!d(e)&&!g(e).restricted)),f=i&&!y.some((e=>!r.includes(e))),v=i&&r.length&&!f&&t.some((e=>r.includes(e))),b=i&&!t.some((e=>!o.includes(e))),j=i&&o.length&&!b&&t.some((e=>o.includes(e))),C=!x||M.includes(x);return t.reduce(((e,t)=>{if(m[n])return e;const{name:u,capabilities:g,labels:y,ni:f,eligibility:v}=l[t];if(h===I.q4&&!g?.dyncfg?.enabled)return e;const b=r.includes(t),j=!!o.length&&o.includes(t),A=i&&!s.includes(t)&&(h===I.q4||!!s.length),k=0===f||"true"===y?._is_parent;return[...e,{value:t,label:u,nodeId:t,selected:b,excluded:j,stale:A,status:n,capabilities:g,...a[n].node,multi:i,checkIsDisabled:d,count:c?c[t]||0:NaN,hasExtraInfo:C,isParentNode:k,flavour:h,eligibility:v,baseKey:p,extraKey:x}]}),[{value:y,selected:f,indeterminate:v,disabled:!i,status:n,...a[n].head,multi:i,onToggleHidden:()=>u((e=>({...e,[n]:!m[n]}))),itemsHidden:m[n],excluded:b,someExcluded:j,isParent:!0,hasExtraInfo:C,baseKey:p,extraKey:x}])},L=e=>e,D=(e,t)=>e.isParentNode&&!t.isParentNode?-1:t.isParentNode&&!e.isParentNode?1:0,z=e=>{const t=e.filter((e=>e.isParent)),n=e.filter((e=>!e.isParent)).sort(D);return t.length>0?[t[0],...n]:n},B=e=>{let{baseKey:t,extraKey:n,statusProps:o=S,multi:s=!0,useFilteredIds:a=L,nodeCounts:p,checkIsDisabled:x=i(),flavour:h,resizeable:g,...y}=e;const[b,j]=(0,r.useState)((()=>({Stale:!0,Offline:!0}))),[k,w]=(0,r.useState)(),P=(0,d.w7)({extraKey:n,omit:"selectedNodeIds",merge:!0,emptyIfAll:!1}),K=(0,d.w7)({extraKey:n,merge:!1}),[N,F]=(0,d.Oj)({key:t,extraKey:n,merge:!1}),[M,D]=(0,d.PF)({key:t,extraKey:n,merge:!1}),B=a(P),R=(0,m.n)("id"),$=(0,u.gr)(R,"ids"),q=(0,r.useMemo)((()=>n?n===I.q4?$:B:void 0),[n,$,B]),V=(0,c.BU)(q),O=(0,c.Ig)(q),H=(0,c.GE)(q),E=(0,c.ss)(),{isNodeRestricted:W}=(0,v.A)(),U=(0,r.useMemo)((()=>{const e=T({ids:V,status:"Live",selectedIds:N,excludedIds:M,filteredIds:K,nodesById:E,statusProps:o,multi:s,nodeCounts:p,checkIsDisabled:x,setHidden:j,hidden:b,baseKey:t,extraKey:n,flavour:h,isNodeRestricted:W}),r=T({ids:O,status:"Stale",selectedIds:N,excludedIds:M,filteredIds:K,nodesById:E,statusProps:o,multi:s,nodeCounts:p,checkIsDisabled:x,setHidden:j,hidden:b,baseKey:t,extraKey:n,flavour:h,isNodeRestricted:W}),l=T({ids:H,status:"Offline",selectedIds:N,excludedIds:M,filteredIds:K,nodesById:E,statusProps:o,multi:s,nodeCounts:p,checkIsDisabled:x,setHidden:j,hidden:b,baseKey:t,extraKey:n,flavour:h,isNodeRestricted:W});return h===I.q4?z(e):z(e).concat(r,l)}),[N,M.length,B.length,K.length,p,x,b,h]),G=(0,r.useMemo)((()=>U.reduce(((e,t)=>[...e,...Array.isArray(t.value)?[]:[t.value]]),[])),[U]),Q=(0,r.useCallback)((e=>{let{value:t,checked:n,excluded:r,shiftKey:o}=e;if("undefined"!==typeof r){if(!s)return void D((()=>n?[t]:[]));D((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?[...new Set([...e,...t])]:l()(e,t):n?[...e,t]:e.filter((e=>e!==t))}))}F(s?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(t))return n?[...new Set([...e,...t])]:l()(e,t);if(o){const r=G.indexOf(t),o=k?G.indexOf(k):null,s=k?G.slice(Math.min(r,o),Math.max(r,o)+1):[];w(t);const l=[...new Set([...e,t,...s])];return n?l:l.filter((e=>!s.includes(e)))}return w(t),n?[...new Set([...e,t])]:e.filter((e=>e!==t))}:()=>n?[t]:[])}),[G,k,w,F,D]);return g?(0,A.jsx)(C.A,{param:"selectedNodeIds",extraKey:n,children:e=>{let{height:t,resizer:n,containerRef:r}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(f.V$,{containerRef:r,"data-testid":"filterNodes-drop",items:U,Item:_,onItemClick:Q,value:N,"data-value":N.join(",")||"all-nodes",hasSearch:!0,...y,...null!==t&&{height:`${t}px`}}),n]})}}):(0,A.jsx)(f.V$,{"data-testid":"filterNodes-drop",items:U,Item:_,onItemClick:Q,value:N,"data-value":N.join(",")||"all-nodes",hasSearch:!0,...y})},R=(0,r.memo)(B,((e,t)=>e.baseKey===t.baseKey&&e.extraKey===t.extraKey&&e.statusProps===t.statusProps&&e.multi===t.multi&&e.nodeCounts===t.nodeCounts&&e.useFilteredIds===t.useFilteredIds&&e.checkIsDisabled===t.checkIsDisabled))},78446:(e,t,n)=>{n.d(t,{A:()=>l});n(96540);var r=n(65258),o=n(73613),s=n(74848);const l=e=>{let{children:t,onClick:n,iconClose:l="x",icon:a,dataTestId:i,title:c,help:d,...u}=e;return(0,s.jsxs)(r.Flex,{"data-testid":i,height:12,alignItems:"center",justifyContent:"between",border:{side:"bottom",color:"borderSecondary"},padding:[0,2],flex:!1,...u,children:[c?(0,s.jsxs)(r.Flex,{gap:2,alignItems:"center","data-testid":"sidebar-nodeName",children:[(0,s.jsx)(r.Icon,{name:a,color:"text",size:"small"}),(0,s.jsx)(r.TextSmall,{strong:!0,children:c}),!!d&&(0,s.jsx)(o.A,{align:"top",content:d,children:(0,s.jsx)(r.Flex,{children:(0,s.jsx)(r.Icon,{name:"question",color:"textLite",width:"12px",height:"12px"})})})]}):t,(0,s.jsx)(r.Icon,{"data-testid":"sidebarHeader-icon",name:l,color:"textLite",onClick:n,cursor:"pointer"})]})}},81517:(e,t,n)=>{n.d(t,{A:()=>l});n(98992),n(54520),n(81454),n(96540);var r=n(15992),o=n(51865),s=n(74848);const l=e=>{let{node:{labels:t={}}={}}=e;const n=Object.keys(t).filter((e=>!e.startsWith("_")));return(0,s.jsx)(r.A,{link:"https://learn.netdata.cloud/guides/using-host-labels",name:"Host labels",isEnabled:n.length>0,noDataLabel:"No Data",children:n.length>0&&n.map((e=>(0,s.jsx)(o.A,{size:"small",name:e,testId:"sidebar-hostLabelsGroup-label",children:t[e]},e)))})}},81683:(e,t,n)=>{n.d(t,{Ay:()=>l});var r=n(96540),o=n(65258),s=n(74848);const l=(0,r.memo)((e=>{let{children:t,collapsedComponent:n,isOpen:r,header:l,width:a=100,...i}=e;const c=!!n;return(0,s.jsx)(o.Collapsible,{open:r,column:!0,closedValue:c?48:0,persist:c,direction:"horizontal",border:{side:"left",color:"borderSecondary"},width:a,flex:!0,basis:a,...i,children:e=>(0,s.jsxs)(s.Fragment,{children:[l,e?t:n]})})}))},82103:(e,t,n)=>{n.d(t,{A:()=>d});n(96540);var r=n(73613),o=n(33185),s=n(65258);const l=(0,o.default)(s.Flex).attrs((()=>({width:{max:"315px"},overflow:"hidden"}))).withConfig({displayName:"styled__Container",componentId:"sc-t6teia-0"})([""]);var a=n(74848);const i=e=>{let{children:t,...n}=e;return(0,a.jsx)(l,{"data-testid":"nodeInfoContent",...n,children:t})};var c=n(49181);const d=e=>{let{align:t="bottom",badge:n,children:o,connectivityState:s,content:l,isBasic:d=!0,status:u,nodeName:m,nodeType:p,...x}=e;return(0,a.jsx)(r.A,{align:t,content:()=>(0,a.jsx)(i,{"data-testid":"nodeInfoTooltip-tooltipContent",children:l||(0,c.Bb)(n,s,u,m,p)}),"data-testid":"nodeInfoTooltip",isBasic:d,...x,children:o})}},88434:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(96540),o=n(42790);const s=()=>{const e=(0,o.rW)("correlation"),{after:t,before:n}=(0,o.rW)("highlight"),s=(0,r.useMemo)((()=>!!t&&!!n),[t,n]);return{showCorrelation:!!e||!!s}}},91539:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(96540),o=n(63950),s=n.n(o),l=n(19371),a=n(92318),i=n(69273),c=n(46587);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,l.eg)(),o=(0,r.useMemo)((()=>n?n.getRoot():null),[n]),d=(0,r.useMemo)(e,t),u=(0,r.useRef)(!0),m=(0,r.useRef)({timeoutId:null,promise:null}),[,p]=(0,i.A)(),x=(0,r.useCallback)((e=>{u.current=!1;const{fetch:t,onStart:n=s(),onFail:r=s(),onPollingFail:l=s(),onReceive:i=s(),onSettle:c=s(),onBlurMode:x=s(),polling:h=!0,pollingOptions:g}=d;n(e),m.current={timeoutId:null,promise:null};const y=()=>(m.current.promise=t(e),m.current.promise.then(i).catch((e=>{if(!e.isCancel)throw e})),m.current.promise),f=()=>{m.current.timeoutId=setTimeout((()=>{if(g?.shouldPause&&o&&(o.getAttribute("hovering")||o.getAttribute("paused"))||!p.current&&(!o||!o.getAttribute("autofetchOnWindowBlur")))return x(),f();y().then((()=>!u.current&&h&&f())).catch((e=>{e.isCancel||l(e),!u.current&&!e.isCancel&&h&&f()}))}),g?.pollingInterval||a.A.pollingInterval)};return y().then((()=>!u.current&&h&&f())).catch((e=>{e.isCancel||r(e),u.current||!h||e.isCancel||f()})).finally(c),()=>{u.current=!0,m.current.promise?.cancel?.(),clearTimeout(m.current.timeoutId)}}),t),h=(0,c.uW)("isAnonymous");return(0,r.useEffect)((()=>{const{enabled:e=!0,force:t=!1,skip:n=!1}=d;if((!h||t)&&!n)return e?x():void 0}),[h,x]),x.clearRef=m,x}},92834:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(96540),o=n(65258),s=(n(98992),n(72577),n(42790)),l=n(63872),a=n(5331);var i=n(79748),c=n(74848);const d=e=>{let{timezone:t,...n}=e;const[d,{sameOffset:u,sameTz:m,hasTz:p}]=(e=>{const[,t]=(0,l.A)(),[{offset:n,timezoneName:o},i]=(0,s.N9)(),c=(0,r.useMemo)((()=>{if(!e)return null;const t=Object.keys(a.Kn).find((t=>t.toUpperCase().includes(e.toUpperCase())||a.Kn[t].text.toUpperCase().includes(e.toUpperCase())||a.Kn[t].offset.includes(e)));return a.Kn[t]}),[e]);return[(0,r.useCallback)((()=>{if(!c)return void t({message:`Couldn't set timezone ${e||""}`});const{text:n,offset:r,utc:o}=c;i((e=>({...e,utc:o,offset:r,timezoneName:n})))}),[c]),{sameOffset:n===c?.offset,sameTz:o===c?.text,hasTz:!!c}]})(t);return(0,c.jsx)(i.A,{...n,component:o.TextSmall,"data-testid":"node-system-timezone-text",title:p?m?"You are using the same timezone":u?"You are using the same offset as this timezone":"Set this timezone on your datetime picker":"We cannot identify this timezone",...p&&!m?{color:"textDescription",textDecoration:"underline",onClick:d}:{color:"textDescription",textDecoration:"none",hoverColor:"textDescription"},children:t||"Unknown"})}},94413:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var r=n(51865),o=n(15992),s=n(49181),l=n(74848);const a=e=>{let{node:t}=e;const{_cloud_instance_region:n,_cloud_instance_type:a,_cloud_provider_type:i}=t.labels||{};return(0,s.Po)(n)&&(0,s.Po)(a)&&(0,s.Po)(i)?null:(0,l.jsxs)(o.A,{name:"Cloud Instance Info",children:[(0,l.jsx)(r.A,{iconName:"ipNetworking",name:"Cloud provider",size:"small",testId:"sidebar-nodeInfoContent-cloudProvider",children:(0,s.ws)(i)}),(0,l.jsx)(r.A,{iconName:"universe",name:"Cloud region",size:"small",testId:"sidebar-nodeInfoContent-cloudRegion",children:(0,s.ws)(n)}),(0,l.jsx)(r.A,{iconName:"disk",name:"Instance type",size:"small",testId:"sidebar-nodeInfoContent-instanceType",children:(0,s.ws)(a)})]})}},96768:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(96540),o=n(15992),s=n(65258),l=n(88307),a=n(74848);const i=e=>{let{node:t}=e;return(0,a.jsx)(o.A,{name:"Node ID",children:(0,a.jsx)(s.Flex,{gap:1,padding:[0,1],alignItems:"center",children:(0,a.jsxs)(s.Flex,{cursor:"pointer",gap:1,onClick:(0,l.C)(t.id,{text:"Node ID copied to clipboard"}),children:[(0,a.jsx)(s.TextSmall,{color:"primary",children:t.id}),(0,a.jsx)(s.Icon,{color:"primary",size:"small",name:"copy"})]})})})},c=(0,r.memo)(i)},97336:(e,t,n)=>{n.d(t,{A:()=>c});n(96540);var r=n(65258),o=n(19075),s=n(2626),l=n(49181),a=n(82103),i=n(74848);const c=e=>{let{id:t,isLive:n,name:c,onClick:d,...u}=e;const m=(0,s.Xt)(t),{critical:p,warning:x}=(0,o.AO)(m),h={...u?.["data-testid"]&&{dataTestId:u?.["data-testid"]},isLive:n},g=(0,l.t3)({count:p,type:"critical",...h}),y=(0,l.t3)({count:x,type:"warning",...h});return(0,i.jsx)(a.A,{badge:"alerts","data-testid":"node-alerts",nodeName:c,...u,children:(0,i.jsx)(r.AlertMasterCard,{onClick:g.text||y.text?d:null,pillLeft:g,pillRight:y,size:"small",containerProps:{noUserSelection:!0}})})}},98131:(e,t,n)=>{n.d(t,{o:()=>O,A:()=>ee});n(98992),n(81454);var r=n(96540),o=n(33185),s=n(20982),l=n(65258),a=n(51220),i=n(33962),c=n(24013),d=n(73613),u=n(4719),m=n(54583);const p=e=>e&&"0"!==e?`${parseFloat(e).toFixed(2)}%`:"-",x="primary",h="mainBackground",g=(0,o.default)(l.Box).attrs((e=>{let{value:t,color:n=x,background:r=h,...o}=e;const[s,a]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const n=Math.max(Math.min(t,100),0);return[100==e?100:Math.max(e-n,0),Math.min(e,100)]}(t);return{width:"24px",height:"14px",border:{side:"all",color:n},round:.5,background:r,style:{background:`linear-gradient(90deg, ${(0,l.getColor)(n)({theme:o.theme})} ${s}%, ${(0,l.getColor)(r)({theme:o.theme})} ${a}%)`},...o}})).withConfig({displayName:"percentageBar__PercentageBar",componentId:"sc-158xciu-0"})([""]);var y=n(74848);const f=e=>(0,y.jsx)(g,{color:"attentionSecondary",border:{side:"all",color:"border"},...e});n(8872);var v=n(14512),b=n(77611);const j=(0,n(74891).A)((e=>{let{weight:t}=e;return(0,y.jsxs)(l.Flex,{alignItems:"center",gap:1,children:[(0,y.jsx)(l.TextSmall,{children:p(t)}),t?(0,y.jsx)(f,{value:t}):null]})})),I=e=>{let{contexts:t,weightKey:n,flavour:o="rhs",...s}=e;const[l,a,i]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{flavour:t,weightKey:n="weight"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(0,v.g)(),{loaded:s,byContext:l}=(0,b.G9)({nodeIds:o,flavour:t});return(0,r.useMemo)((()=>{if(!s)return[!1,null,null];let t=null;const r=e.reduce(((e,r)=>{let o;if(/::/.test(r)){const e=r.split("::");r=e[0],o=e[1]}const[s,a]=o?((e,t,n,r)=>{let{max:o,maxWeightContext:s,weightKey:l}=r;const a=`${n},${t}`;return e[a]&&(e[a]?.[l]||0)>o?[e[a]?.[l]||0,t]:[o,s]})(l,r,o,{max:e,maxWeightContext:t,weightKey:n}):((e,t,n)=>{let{max:r,maxWeightContext:o,weightKey:s}=n;return e[t]&&(e[t][s]||0)>r?[e[t][s]||0,t]:[r,o]})(l,r,{max:e,maxWeightContext:t,weightKey:n});return t=a,s}),0);return[!0,r,t]}),[e,l])}(t,{flavour:o,weightKey:n});return l?(0,y.jsx)(j,{weight:a,tooltip:i,tooltipProps:{align:"top"},...s}):null},C=(0,o.default)(l.IconButton).attrs((e=>({flavour:"borderless",cursor:"pointer",width:"12px",height:"12px",iconColor:"textLite",padding:[0],...e}))).withConfig({displayName:"config__ConfigButton",componentId:"sc-1q0bfbp-0"})([""]),A=(0,o.default)(l.Flex).withConfig({displayName:"menuSettings__SettingsContainer",componentId:"sc-1nq4zzt-0"})(["display:",";"],(e=>e.active&&!e.hasSubmenuActive?"flex":"none")),k=(0,o.css)(["","{display:flex;"," .button-icon__color{fill:"," !important;}}"],A,C,(0,l.getColor)("text")),w=e=>{let{id:t,chartIds:n,contexts:r,arFlavour:o,showAR:s=!0,showConfig:a,weightKey:i,active:c,hasSubmenuActive:d,extraKey:u}=e;return(0,y.jsxs)(l.Flex,{gap:1,alignItems:"center",children:[!1,s&&(0,y.jsx)(I,{contexts:r,flavour:o,weightKey:i})]})};var P=n(63928),S=n(40573);const K=(0,o.keyframes)(["0%{background-position:0% 50%;}100%{background-position:100% 50%;}"]),N=(0,o.css)(["background:linear-gradient( to right,"," 20%,"," 30%,"," 75%,"," 80% );-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-fill-color:transparent;background-size:500% auto;animation:",";"],(0,l.getColor)("text"),(0,l.getColor)("anomalyTextFocus"),(0,l.getColor)("accent"),(0,l.getColor)("anomalyTextFocus"),(0,o.css)([""," 6s ease-in-out infinite alternate"],K)),F=e=>{let{active:t,hasSubmenuActive:n}=e;return t||n?"primary":"text"},_=e=>{let{context:t,dimension:n,instance:r=""}=e;const[o,s]=r.split("@"),a=(0,c.xY)(s,"name");return(0,y.jsx)(l.Flex,{column:!0,gap:.5,children:r?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.Text,{children:[(0,y.jsx)(l.Text,{strong:!0,children:n})," on ",(0,y.jsx)(l.Text,{strong:!0,children:t})]}),(0,y.jsxs)(l.Text,{children:["instance: ",(0,y.jsx)(l.Text,{strong:!0,children:o})]}),(0,y.jsxs)(l.Text,{children:["node: ",(0,y.jsx)(l.Text,{strong:!0,children:a})]})]}):n?(0,y.jsxs)(l.Text,{children:[(0,y.jsx)(l.Text,{strong:!0,children:n})," on ",(0,y.jsx)(l.Text,{strong:!0,children:t})]}):(0,y.jsx)(l.Text,{children:t})})},M=e=>t=>{let{tooltip:n,tooltipProps:r,...o}=t;return n||r?(0,y.jsx)(d.A,{plain:!0,content:r?(0,y.jsx)(_,{...r}):n,tooltipProps:r,isBasic:!0,children:(0,y.jsx)(e,{...o})}):(0,y.jsx)(e,{...o})},T=e=>{let{index:t,context:n,dimension:r,instance:o="",...s}=e;const[a,i]=o.split("@"),d=(0,c.xY)(i,"name");return(0,y.jsx)(l.Flex,{column:!0,gap:.5,children:o?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(L,{...s,children:[t?`${t}. `:"",(0,y.jsx)(L,{strong:!0,...s,children:r})," ","on"," ",(0,y.jsx)(L,{strong:!0,...s,children:n})]}),(0,y.jsxs)(l.TextMicro,{color:"textLite",children:["instance:"," ",(0,y.jsx)(l.TextMicro,{color:"textLite",strong:!0,children:a})]}),(0,y.jsxs)(l.TextMicro,{color:"textLite",children:["node:"," ",(0,y.jsx)(l.TextMicro,{color:"textLite",strong:!0,children:d})]})]}):r?(0,y.jsxs)(L,{...s,children:[t?`${t}. `:"",(0,y.jsx)(L,{strong:!0,...s,children:r})," ","on"," ",(0,y.jsx)(L,{strong:!0,...s,children:n})]}):(0,y.jsxs)(L,{...s,children:[t?`${t}. `:"",n]})})},L=(0,o.default)(l.TextSmall).attrs((e=>{let{active:t,hasSubmenuActive:n,small:r,...o}=e;return{whiteSpace:"normal",color:F({active:t,hasSubmenuActive:n}),wordWrap:"break-word",as:r?l.TextMicro:l.Text,...o}})).withConfig({displayName:"menuItem__StyledText",componentId:"sc-xun4x3-0"})(["&&&{text-decoration:none;}",""],(e=>e.important&&!e.active&&!e.hasSubmenuActive&&N)),D=(0,o.default)(L).attrs((e=>{let{id:t,name:n,shortName:r,children:o,active:s,hasDescendants:l,small:a,level:i,padding:c,...d}=e;return{children:o||r||n||t,truncate:!0,wordBreak:"break-word",padding:a?[2,0,1]:c,strong:l||s||0===i,...d}})).withConfig({displayName:"menuItem__Label",componentId:"sc-xun4x3-1"})(["&&&{text-decoration:none;}",""],(e=>e.important&&!e.active&&!e.hasSubmenuActive&&N)),z=(0,o.default)(l.Flex).attrs((e=>({flex:!1,color:"text",width:6,alignItems:"center",justifyContent:"center",...e}))).withConfig({displayName:"menuItem__FaIcon",componentId:"sc-xun4x3-2"})([""]),B=(0,o.default)(l.Icon).attrs({name:"chevron_right",size:"small",color:"primary"}).withConfig({displayName:"menuItem__ChevronIcon",componentId:"sc-xun4x3-3"})(["visibility:",";flex:0 0 auto;"],(e=>e.visible?"visible":"hidden")),R=(0,o.css)(["&:hover{border-color:",";","{color:",";text-fill-color:",";-webkit-text-fill-color:",";}","{fill:",";svg,path{fill:",";}}","{fill:",";visibility:visible;}& ~ ","{border-color:",";}","}"],(0,l.getColor)("hoverHighlight"),D,(0,l.getColor)("hoverHighlight"),(0,l.getColor)("hoverHighlight"),(0,l.getColor)("hoverHighlight"),z,(0,l.getColor)("hoverHighlight"),(0,l.getColor)("hoverHighlight"),B,(0,l.getColor)("hoverHighlight"),m.A,(0,l.getColor)("hoverHighlight"),(e=>e.important&&k)),$=(0,o.default)(l.Flex).attrs((e=>{let{active:t,level:n,...r}=e;return{width:"98%",role:"listitem","aria-current":t,active:t,level:n,padding:0===n?[2,2,1,2]:[1,2],...r}})).withConfig({displayName:"menuItem__Container",componentId:"sc-xun4x3-4"})(["&&&{"," text-decoration:none;"," ","}"],(e=>`border-left: 1px solid ${(0,l.getColor)(e.level<2?"transparent":e.active||e.hasSubmenuActive?"primary":"border")(e)};`),(e=>!e.isPlaceholder&&"cursor: pointer;"),(e=>!e.isPlaceholder&&R)),q=(0,u.aV)(M((V=D,e=>{let{labelProps:t,ref:n,...r}=e;return t?(0,y.jsx)(V,{...r,ref:n,children:(0,y.jsx)(T,{...t,...r})}):(0,y.jsx)(V,{...r,ref:n})})),(e=>{let{shortName:t,name:n,_id:r,level:o,tooltip:s,tooltipProps:l,labelProps:a,styleProps:i={}}=e;return{children:t||n||r,tooltip:t?s||n:s,tooltipProps:l,labelProps:a,...i,level:o}}));var V;const O=e=>{let{icon:t,active:n,hasSubmenuActive:r,small:o,containerProps:a}=e;return o||!t?null:/\//.test(t)?(0,y.jsx)(l.Flex,{justifyContent:"center",alignItems:"center",width:"24px",height:"14px",...a,children:(0,y.jsx)("img",{src:t,width:"16px",height:"16px",alt:t})}):(0,y.jsx)(z,{color:F({active:n,hasSubmenuActive:r}),...a,children:l.iconsList[t]?(0,y.jsx)(l.Icon,{name:t,size:"small",color:F({active:n,hasSubmenuActive:r}),viewBox:"0 0 100 100"}):(0,y.jsx)(s.g,{icon:t})})},H=(0,u.aV)(O,(e=>{let{icon:t,level:n,families:r,styleProps:o={}}=e;return{icon:t,level:n,families:r,...o}})),E=(0,u.aV)((e=>{let{_id:t,contexts:n,useItemsAreVisible:r,styleProps:o,ref:s,...l}=e;const a=r(n);return l.forceVisibility||a?(0,y.jsx)($,{ref:s,as:"a",gap:2,alignItems:"center",justifyContent:"between","data-sidebar-menuid":t,...o,...l}):null}),(e=>{let{id:t,contexts:n,forceVisibility:r,styleProps:o={}}=e;return{id:t,contexts:n,forceVisibility:r,...o}})),W=e=>{let{id:t,active:n,parentIsActive:o,hasSubmenuActive:s,hasDescendants:a,isPlaceholder:i,...c}=e;const d=(0,r.useRef)(),[u,m]=(0,r.useState)();return((e,t)=>{const n=(0,r.useMemo)((()=>new IntersectionObserver((e=>{let[n]=e;t({isIntersecting:n.isIntersecting,boundingClientRect:n.boundingClientRect,intersectionRatio:n.intersectionRatio})}),{threshold:[0,.5,1]})),[e]);(0,r.useEffect)((()=>(e?.current&&n.observe(e.current),()=>n.disconnect())),[])})(d,(0,r.useCallback)((e=>{let{isIntersecting:t}=e;m(t)}),[m])),(0,y.jsxs)(E,{id:t,className:"toc-item-container","data-intersection":u,active:!i&&n,parentIsActive:o,hasSubmenuActive:s,...c,children:[(0,y.jsxs)(l.Flex,{ref:d,alignItems:"start",gap:1,children:[c.level<2&&(0,y.jsx)(B,{visible:!i&&(n||s)}),(0,y.jsx)(H,{id:t,active:!i&&n,parentIsActive:o,hasSubmenuActive:!i&&s}),(0,y.jsx)(q,{id:t,active:!i&&n,parentIsActive:o,hasSubmenuActive:!i&&s,hasDescendants:a})]}),!i&&(0,y.jsx)(w,{...c,id:t})]})},U=M(l.Icon),G=(0,o.default)(l.Flex).attrs((e=>({alignItems:"center",justifyContent:"between",padding:[1,2,1,0],...e}))).withConfig({displayName:"menuItem__StyledFavItemContainer",componentId:"sc-xun4x3-5"})([".visible-on-hover{opacity:0;pointer-events:none;}&:hover{background:",";.visible-on-hover{opacity:1;pointer-events:inherit;}","{color:",";text-fill-color:",";-webkit-text-fill-color:",";}}"],(0,l.getColor)("panelBg"),l.Text,(0,l.getColor)("hoverHighlight"),(0,l.getColor)("hoverHighlight"),(0,l.getColor)("hoverHighlight")),Q=e=>{let{id:t,settings:n,shortName:o,name:s,parentMenus:a,onClick:i}=e;const c=(0,r.useMemo)((()=>{const e=(a||[]).map((e=>{let{name:t}=e;return t}));return[...e,o||s].join(" > ")}),[a]),d=(0,P.z2)(n?.id),{isDemo:u}=(0,S.A)();return(0,y.jsxs)(G,{id:t,children:[(0,y.jsxs)(l.Flex,{gap:1,alignItems:"center",children:[(0,y.jsx)(l.Icon,{className:"visible-on-hover",name:"chevron_right",size:"small",color:"text"}),(0,y.jsx)(l.Flex,{width:"220px",children:(0,y.jsx)(l.TextSmall,{onClick:i,cursor:"pointer",children:c})})]}),u?null:(0,y.jsx)(U,{className:"visible-on-hover",name:"heart_broken",role:"button",color:"text",cursor:"pointer",onClick:()=>d(),tooltip:"Remove from your favourites"})]})},Y=e=>{let{ids:t,onMenuClick:n,useItemsAreVisible:o,parentGrouping:s,parentIsActive:l,hasBorder:i,containerRef:c,...d}=e;const u=(0,r.useRef)(),p=(0,a.Te)({getScrollElement:()=>c,count:t.length||0,estimateSize:()=>24,scrollMargin:u.current?.offsetTop??0,overscan:10});return(0,y.jsx)(m.A,{ref:u,...d,...i&&{border:{side:"left",color:l?"primary":"border",size:"1px"}},height:`${p.getTotalSize()}px`,children:p.getVirtualItems().map((e=>(0,y.jsx)(Z,{ref:p.measureElement,id:t[e.index],sx:{top:0,left:0,width:"100%",position:"absolute",transform:`translateY(${e.start-p.options.scrollMargin}px)`},onMenuClick:n,useItemsAreVisible:o,parentGrouping:s,parentIsActive:l,"data-index":e.index},e.key)))})},J=e=>{let{ids:t,onMenuClick:n,useItemsAreVisible:r,parentGrouping:o,parentIsActive:s,hasBorder:l,containerRef:a,virtual:i,...c}=e;return t?.length?i&&a?(0,y.jsx)(Y,{ids:t,onMenuClick:n,useItemsAreVisible:r,parentGrouping:o,parentIsActive:s,hasBorder:l,containerRef:a,...c}):(0,y.jsx)(m.A,{...c,...l&&{border:{side:"left",color:s?"primary":"border",size:"1px"}},children:t.map((e=>(0,y.jsx)(Z,{id:e,onMenuClick:n,useItemsAreVisible:r,parentGrouping:o,parentIsActive:s},e)))}):null},X=(0,o.default)(l.Flex).attrs((e=>({as:"li",column:!0,padding:"favourites"===e.flavour?[0]:[0,0,0,e.level*(e.level<=2?4.5:1.5)],...e}))).withConfig({displayName:"menuItem__MenuItemContainer",componentId:"sc-xun4x3-6"})(["&:empty{border:0;}"]),Z=e=>{let{id:t,onMenuClick:n,showChildren:o=!0,useItemsAreVisible:s,parentGrouping:l=!1,parentIsActive:a,flavour:c,settings:d,containerRef:m,virtual:p,ref:x,...h}=e;const g=(0,i.Js)(t),f=(0,u.b)(t),v=Array.isArray(f.descendantIds)&&!!f.descendantIds.length,b=(0,i.W2)((e=>v&&f.descendantIds.includes(e))),j=(0,r.useMemo)((()=>n&&(e=>n({id:t,event:e,flavour:c}))),[n,t,c]);if(!f)return null;const{grouping:I,isPlaceholder:C}=f.styleProps||{},A="favourites"===c,k=A?Q:W;return(0,y.jsxs)(X,{ref:x,...h,flavour:c,level:f.level,"data-menuid":t,background:!A&&(g||b&&!a)&&v&&"panelBg",border:!A&&0===f.level&&v?{side:"top",color:"border",size:"1px"}:void 0,children:[(0,y.jsx)(k,{...f,id:t,flavour:c,settings:d,onClick:j,active:g,hasSubmenuActive:b,useItemsAreVisible:s,parentGrouping:l,parentIsActive:a,hasDescendants:v,isPlaceholder:C}),o&&(g||b||I)?(0,y.jsx)(J,{id:t,onMenuClick:n,useItemsAreVisible:s,ids:f.childrenIds,level:f.level,parentGrouping:f.styleProps?.grouping,parentIsActive:g||b,hasBorder:f.level>=2,containerRef:m,virtual:p}):null]})},ee=Z}}]);